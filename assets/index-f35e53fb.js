function fU(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Yw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function dU(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var PB={exports:{}},iy={},BB={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=Symbol.for("react.element"),pU=Symbol.for("react.portal"),mU=Symbol.for("react.fragment"),gU=Symbol.for("react.strict_mode"),yU=Symbol.for("react.profiler"),vU=Symbol.for("react.provider"),xU=Symbol.for("react.context"),AU=Symbol.for("react.forward_ref"),_U=Symbol.for("react.suspense"),wU=Symbol.for("react.memo"),SU=Symbol.for("react.lazy"),cC=Symbol.iterator;function MU(n){return n===null||typeof n!="object"?null:(n=cC&&n[cC]||n["@@iterator"],typeof n=="function"?n:null)}var IB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LB=Object.assign,DB={};function gh(n,e,t){this.props=n,this.context=e,this.refs=DB,this.updater=t||IB}gh.prototype.isReactComponent={};gh.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};gh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function kB(){}kB.prototype=gh.prototype;function Kw(n,e,t){this.props=n,this.context=e,this.refs=DB,this.updater=t||IB}var qw=Kw.prototype=new kB;qw.constructor=Kw;LB(qw,gh.prototype);qw.isPureReactComponent=!0;var uC=Array.isArray,FB=Object.prototype.hasOwnProperty,Qw={current:null},OB={key:!0,ref:!0,__self:!0,__source:!0};function NB(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)FB.call(e,i)&&!OB.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Fd,type:n,key:s,ref:o,props:r,_owner:Qw.current}}function EU(n,e){return{$$typeof:Fd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Zw(n){return typeof n=="object"&&n!==null&&n.$$typeof===Fd}function bU(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var hC=/\/+/g;function Px(n,e){return typeof n=="object"&&n!==null&&n.key!=null?bU(""+n.key):e.toString(36)}function Cg(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Fd:case pU:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Px(o,0):i,uC(r)?(t="",n!=null&&(t=n.replace(hC,"$&/")+"/"),Cg(r,e,t,"",function(c){return c})):r!=null&&(Zw(r)&&(r=EU(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(hC,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",uC(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Px(s,a);o+=Cg(s,e,t,l,r)}else if(l=MU(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Px(s,a++),o+=Cg(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cm(n,e,t){if(n==null)return n;var i=[],r=0;return Cg(n,i,"","",function(s){return e.call(t,s,r++)}),i}function CU(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ui={current:null},Tg={transition:null},TU={ReactCurrentDispatcher:Ui,ReactCurrentBatchConfig:Tg,ReactCurrentOwner:Qw};function UB(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:cm,forEach:function(n,e,t){cm(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return cm(n,function(){e++}),e},toArray:function(n){return cm(n,function(e){return e})||[]},only:function(n){if(!Zw(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Pt.Component=gh;Pt.Fragment=mU;Pt.Profiler=yU;Pt.PureComponent=Kw;Pt.StrictMode=gU;Pt.Suspense=_U;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TU;Pt.act=UB;Pt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=LB({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qw.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)FB.call(e,l)&&!OB.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Fd,type:n.type,key:r,ref:s,props:i,_owner:o}};Pt.createContext=function(n){return n={$$typeof:xU,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:vU,_context:n},n.Consumer=n};Pt.createElement=NB;Pt.createFactory=function(n){var e=NB.bind(null,n);return e.type=n,e};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(n){return{$$typeof:AU,render:n}};Pt.isValidElement=Zw;Pt.lazy=function(n){return{$$typeof:SU,_payload:{_status:-1,_result:n},_init:CU}};Pt.memo=function(n,e){return{$$typeof:wU,type:n,compare:e===void 0?null:e}};Pt.startTransition=function(n){var e=Tg.transition;Tg.transition={};try{n()}finally{Tg.transition=e}};Pt.unstable_act=UB;Pt.useCallback=function(n,e){return Ui.current.useCallback(n,e)};Pt.useContext=function(n){return Ui.current.useContext(n)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(n){return Ui.current.useDeferredValue(n)};Pt.useEffect=function(n,e){return Ui.current.useEffect(n,e)};Pt.useId=function(){return Ui.current.useId()};Pt.useImperativeHandle=function(n,e,t){return Ui.current.useImperativeHandle(n,e,t)};Pt.useInsertionEffect=function(n,e){return Ui.current.useInsertionEffect(n,e)};Pt.useLayoutEffect=function(n,e){return Ui.current.useLayoutEffect(n,e)};Pt.useMemo=function(n,e){return Ui.current.useMemo(n,e)};Pt.useReducer=function(n,e,t){return Ui.current.useReducer(n,e,t)};Pt.useRef=function(n){return Ui.current.useRef(n)};Pt.useState=function(n){return Ui.current.useState(n)};Pt.useSyncExternalStore=function(n,e,t){return Ui.current.useSyncExternalStore(n,e,t)};Pt.useTransition=function(){return Ui.current.useTransition()};Pt.version="18.3.1";BB.exports=Pt;var k=BB.exports;const ui=Yw(k),RU=fU({__proto__:null,default:ui},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PU=k,BU=Symbol.for("react.element"),IU=Symbol.for("react.fragment"),LU=Object.prototype.hasOwnProperty,DU=PU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kU={key:!0,ref:!0,__self:!0,__source:!0};function zB(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)LU.call(e,i)&&!kU.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:BU,type:n,key:s,ref:o,props:r,_owner:DU.current}}iy.Fragment=IU;iy.jsx=zB;iy.jsxs=zB;PB.exports=iy;var $=PB.exports,B_={},HB={exports:{}},Sr={},GB={exports:{}},VB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,X){var j=F.length;F.push(X);e:for(;0<j;){var z=j-1>>>1,Y=F[z];if(0<r(Y,X))F[z]=X,F[j]=Y,j=z;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var X=F[0],j=F.pop();if(j!==X){F[0]=j;e:for(var z=0,Y=F.length,fe=Y>>>1;z<fe;){var ye=2*(z+1)-1,we=F[ye],Re=ye+1,Le=F[Re];if(0>r(we,j))Re<Y&&0>r(Le,we)?(F[z]=Le,F[Re]=j,z=Re):(F[z]=we,F[ye]=j,z=ye);else if(Re<Y&&0>r(Le,j))F[z]=Le,F[Re]=j,z=Re;else break e}}return X}function r(F,X){var j=F.sortIndex-X.sortIndex;return j!==0?j:F.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,y=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var X=t(c);X!==null;){if(X.callback===null)i(c);else if(X.startTime<=F)i(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function M(F){if(x=!1,_(F),!y)if(t(l)!==null)y=!0,ie(b);else{var X=t(c);X!==null&&te(M,X.startTime-F)}}function b(F,X){y=!1,x&&(x=!1,g(I),I=-1),m=!0;var j=p;try{for(_(X),d=t(l);d!==null&&(!(d.expirationTime>X)||F&&!G());){var z=d.callback;if(typeof z=="function"){d.callback=null,p=d.priorityLevel;var Y=z(d.expirationTime<=X);X=n.unstable_now(),typeof Y=="function"?d.callback=Y:d===t(l)&&i(l),_(X)}else i(l);d=t(l)}if(d!==null)var fe=!0;else{var ye=t(c);ye!==null&&te(M,ye.startTime-X),fe=!1}return fe}finally{d=null,p=j,m=!1}}var C=!1,P=null,I=-1,T=5,B=-1;function G(){return!(n.unstable_now()-B<T)}function Q(){if(P!==null){var F=n.unstable_now();B=F;var X=!0;try{X=P(!0,F)}finally{X?J():(C=!1,P=null)}}else C=!1}var J;if(typeof w=="function")J=function(){w(Q)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ee=q.port2;q.port1.onmessage=Q,J=function(){ee.postMessage(null)}}else J=function(){A(Q,0)};function ie(F){P=F,C||(C=!0,J())}function te(F,X){I=A(function(){F(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,ie(b))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var j=p;p=X;try{return F()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,X){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var j=p;p=F;try{return X()}finally{p=j}},n.unstable_scheduleCallback=function(F,X,j){var z=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?z+j:z):j=z,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=j+Y,F={id:u++,callback:X,priorityLevel:F,startTime:j,expirationTime:Y,sortIndex:-1},j>z?(F.sortIndex=j,e(c,F),t(l)===null&&F===t(c)&&(x?(g(I),I=-1):x=!0,te(M,j-z))):(F.sortIndex=Y,e(l,F),y||m||(y=!0,ie(b))),F},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(F){var X=p;return function(){var j=p;p=X;try{return F.apply(this,arguments)}finally{p=j}}}})(VB);GB.exports=VB;var FU=GB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OU=k,Ar=FU;function be(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WB=new Set,Zf={};function mc(n,e){Ju(n,e),Ju(n+"Capture",e)}function Ju(n,e){for(Zf[n]=e,n=0;n<e.length;n++)WB.add(e[n])}var Oo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I_=Object.prototype.hasOwnProperty,NU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fC={},dC={};function UU(n){return I_.call(dC,n)?!0:I_.call(fC,n)?!1:NU.test(n)?dC[n]=!0:(fC[n]=!0,!1)}function zU(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function HU(n,e,t,i){if(e===null||typeof e>"u"||zU(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var fi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){fi[n]=new zi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];fi[e]=new zi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){fi[n]=new zi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){fi[n]=new zi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){fi[n]=new zi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){fi[n]=new zi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){fi[n]=new zi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){fi[n]=new zi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){fi[n]=new zi(n,5,!1,n.toLowerCase(),null,!1,!1)});var $w=/[\-:]([a-z])/g;function eS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace($w,eS);fi[e]=new zi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace($w,eS);fi[e]=new zi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace($w,eS);fi[e]=new zi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){fi[n]=new zi(n,1,!1,n.toLowerCase(),null,!1,!1)});fi.xlinkHref=new zi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){fi[n]=new zi(n,1,!1,n.toLowerCase(),null,!0,!0)});function tS(n,e,t,i){var r=fi.hasOwnProperty(e)?fi[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HU(e,t,r,i)&&(t=null),i||r===null?UU(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Wo=OU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,um=Symbol.for("react.element"),du=Symbol.for("react.portal"),pu=Symbol.for("react.fragment"),nS=Symbol.for("react.strict_mode"),L_=Symbol.for("react.profiler"),jB=Symbol.for("react.provider"),XB=Symbol.for("react.context"),iS=Symbol.for("react.forward_ref"),D_=Symbol.for("react.suspense"),k_=Symbol.for("react.suspense_list"),rS=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),JB=Symbol.for("react.offscreen"),pC=Symbol.iterator;function Xh(n){return n===null||typeof n!="object"?null:(n=pC&&n[pC]||n["@@iterator"],typeof n=="function"?n:null)}var yn=Object.assign,Bx;function Af(n){if(Bx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Bx=e&&e[1]||""}return`
`+Bx+n}var Ix=!1;function Lx(n,e){if(!n||Ix)return"";Ix=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ix=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Af(n):""}function GU(n){switch(n.tag){case 5:return Af(n.type);case 16:return Af("Lazy");case 13:return Af("Suspense");case 19:return Af("SuspenseList");case 0:case 2:case 15:return n=Lx(n.type,!1),n;case 11:return n=Lx(n.type.render,!1),n;case 1:return n=Lx(n.type,!0),n;default:return""}}function F_(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case pu:return"Fragment";case du:return"Portal";case L_:return"Profiler";case nS:return"StrictMode";case D_:return"Suspense";case k_:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case XB:return(n.displayName||"Context")+".Consumer";case jB:return(n._context.displayName||"Context")+".Provider";case iS:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case rS:return e=n.displayName||null,e!==null?e:F_(n.type)||"Memo";case pa:e=n._payload,n=n._init;try{return F_(n(e))}catch{}}return null}function VU(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F_(e);case 8:return e===nS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ua(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function YB(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WU(n){var e=YB(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function hm(n){n._valueTracker||(n._valueTracker=WU(n))}function KB(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=YB(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function o0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function O_(n,e){var t=e.checked;return yn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function mC(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Ua(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qB(n,e){e=e.checked,e!=null&&tS(n,"checked",e,!1)}function N_(n,e){qB(n,e);var t=Ua(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?U_(n,e.type,t):e.hasOwnProperty("defaultValue")&&U_(n,e.type,Ua(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function gC(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function U_(n,e,t){(e!=="number"||o0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var _f=Array.isArray;function Ou(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Ua(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function z_(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return yn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function yC(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(be(92));if(_f(t)){if(1<t.length)throw Error(be(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ua(t)}}function QB(n,e){var t=Ua(e.value),i=Ua(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function vC(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function ZB(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H_(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?ZB(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var fm,$B=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(fm=fm||document.createElement("div"),fm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fm.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function $f(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Tf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jU=["Webkit","ms","Moz","O"];Object.keys(Tf).forEach(function(n){jU.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Tf[e]=Tf[n]})});function eI(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Tf.hasOwnProperty(n)&&Tf[n]?(""+e).trim():e+"px"}function tI(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=eI(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var XU=yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function G_(n,e){if(e){if(XU[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function V_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W_=null;function sS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var j_=null,Nu=null,Uu=null;function xC(n){if(n=Ud(n)){if(typeof j_!="function")throw Error(be(280));var e=n.stateNode;e&&(e=ly(e),j_(n.stateNode,n.type,e))}}function nI(n){Nu?Uu?Uu.push(n):Uu=[n]:Nu=n}function iI(){if(Nu){var n=Nu,e=Uu;if(Uu=Nu=null,xC(n),e)for(n=0;n<e.length;n++)xC(e[n])}}function rI(n,e){return n(e)}function sI(){}var Dx=!1;function oI(n,e,t){if(Dx)return n(e,t);Dx=!0;try{return rI(n,e,t)}finally{Dx=!1,(Nu!==null||Uu!==null)&&(sI(),iI())}}function ed(n,e){var t=n.stateNode;if(t===null)return null;var i=ly(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(be(231,e,typeof t));return t}var X_=!1;if(Oo)try{var Jh={};Object.defineProperty(Jh,"passive",{get:function(){X_=!0}}),window.addEventListener("test",Jh,Jh),window.removeEventListener("test",Jh,Jh)}catch{X_=!1}function JU(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Rf=!1,a0=null,l0=!1,J_=null,YU={onError:function(n){Rf=!0,a0=n}};function KU(n,e,t,i,r,s,o,a,l){Rf=!1,a0=null,JU.apply(YU,arguments)}function qU(n,e,t,i,r,s,o,a,l){if(KU.apply(this,arguments),Rf){if(Rf){var c=a0;Rf=!1,a0=null}else throw Error(be(198));l0||(l0=!0,J_=c)}}function gc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function aI(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function AC(n){if(gc(n)!==n)throw Error(be(188))}function QU(n){var e=n.alternate;if(!e){if(e=gc(n),e===null)throw Error(be(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return AC(r),n;if(s===i)return AC(r),e;s=s.sibling}throw Error(be(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(be(189))}}if(t.alternate!==i)throw Error(be(190))}if(t.tag!==3)throw Error(be(188));return t.stateNode.current===t?n:e}function lI(n){return n=QU(n),n!==null?cI(n):null}function cI(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=cI(n);if(e!==null)return e;n=n.sibling}return null}var uI=Ar.unstable_scheduleCallback,_C=Ar.unstable_cancelCallback,ZU=Ar.unstable_shouldYield,$U=Ar.unstable_requestPaint,Rn=Ar.unstable_now,ez=Ar.unstable_getCurrentPriorityLevel,oS=Ar.unstable_ImmediatePriority,hI=Ar.unstable_UserBlockingPriority,c0=Ar.unstable_NormalPriority,tz=Ar.unstable_LowPriority,fI=Ar.unstable_IdlePriority,ry=null,Xs=null;function nz(n){if(Xs&&typeof Xs.onCommitFiberRoot=="function")try{Xs.onCommitFiberRoot(ry,n,void 0,(n.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:sz,iz=Math.log,rz=Math.LN2;function sz(n){return n>>>=0,n===0?32:31-(iz(n)/rz|0)|0}var dm=64,pm=4194304;function wf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function u0(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=wf(a):(s&=o,s!==0&&(i=wf(s)))}else o=t&~r,o!==0?i=wf(o):s!==0&&(i=wf(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-fs(e),r=1<<t,i|=n[t],e&=~r;return i}function oz(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function az(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-fs(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=oz(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Y_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function dI(){var n=dm;return dm<<=1,!(dm&4194240)&&(dm=64),n}function kx(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Od(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-fs(e),n[e]=t}function lz(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-fs(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function aS(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-fs(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Jt=0;function pI(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var mI,lS,gI,yI,vI,K_=!1,mm=[],Sa=null,Ma=null,Ea=null,td=new Map,nd=new Map,ya=[],cz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wC(n,e){switch(n){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":td.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nd.delete(e.pointerId)}}function Yh(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Ud(e),e!==null&&lS(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function uz(n,e,t,i,r){switch(e){case"focusin":return Sa=Yh(Sa,n,e,t,i,r),!0;case"dragenter":return Ma=Yh(Ma,n,e,t,i,r),!0;case"mouseover":return Ea=Yh(Ea,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return td.set(s,Yh(td.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,nd.set(s,Yh(nd.get(s)||null,n,e,t,i,r)),!0}return!1}function xI(n){var e=Dl(n.target);if(e!==null){var t=gc(e);if(t!==null){if(e=t.tag,e===13){if(e=aI(t),e!==null){n.blockedOn=e,vI(n.priority,function(){gI(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Rg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=q_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);W_=i,t.target.dispatchEvent(i),W_=null}else return e=Ud(t),e!==null&&lS(e),n.blockedOn=t,!1;e.shift()}return!0}function SC(n,e,t){Rg(n)&&t.delete(e)}function hz(){K_=!1,Sa!==null&&Rg(Sa)&&(Sa=null),Ma!==null&&Rg(Ma)&&(Ma=null),Ea!==null&&Rg(Ea)&&(Ea=null),td.forEach(SC),nd.forEach(SC)}function Kh(n,e){n.blockedOn===e&&(n.blockedOn=null,K_||(K_=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,hz)))}function id(n){function e(r){return Kh(r,n)}if(0<mm.length){Kh(mm[0],n);for(var t=1;t<mm.length;t++){var i=mm[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Sa!==null&&Kh(Sa,n),Ma!==null&&Kh(Ma,n),Ea!==null&&Kh(Ea,n),td.forEach(e),nd.forEach(e),t=0;t<ya.length;t++)i=ya[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<ya.length&&(t=ya[0],t.blockedOn===null);)xI(t),t.blockedOn===null&&ya.shift()}var zu=Wo.ReactCurrentBatchConfig,h0=!0;function fz(n,e,t,i){var r=Jt,s=zu.transition;zu.transition=null;try{Jt=1,cS(n,e,t,i)}finally{Jt=r,zu.transition=s}}function dz(n,e,t,i){var r=Jt,s=zu.transition;zu.transition=null;try{Jt=4,cS(n,e,t,i)}finally{Jt=r,zu.transition=s}}function cS(n,e,t,i){if(h0){var r=q_(n,e,t,i);if(r===null)jx(n,e,i,f0,t),wC(n,i);else if(uz(r,n,e,t,i))i.stopPropagation();else if(wC(n,i),e&4&&-1<cz.indexOf(n)){for(;r!==null;){var s=Ud(r);if(s!==null&&mI(s),s=q_(n,e,t,i),s===null&&jx(n,e,i,f0,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else jx(n,e,i,null,t)}}var f0=null;function q_(n,e,t,i){if(f0=null,n=sS(i),n=Dl(n),n!==null)if(e=gc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=aI(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return f0=n,null}function AI(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ez()){case oS:return 1;case hI:return 4;case c0:case tz:return 16;case fI:return 536870912;default:return 16}default:return 16}}var Aa=null,uS=null,Pg=null;function _I(){if(Pg)return Pg;var n,e=uS,t=e.length,i,r="value"in Aa?Aa.value:Aa.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Pg=r.slice(n,1<i?1-i:void 0)}function Bg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function gm(){return!0}function MC(){return!1}function Mr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gm:MC,this.isPropagationStopped=MC,this}return yn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=gm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=gm)},persist:function(){},isPersistent:gm}),e}var yh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hS=Mr(yh),Nd=yn({},yh,{view:0,detail:0}),pz=Mr(Nd),Fx,Ox,qh,sy=yn({},Nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fS,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qh&&(qh&&n.type==="mousemove"?(Fx=n.screenX-qh.screenX,Ox=n.screenY-qh.screenY):Ox=Fx=0,qh=n),Fx)},movementY:function(n){return"movementY"in n?n.movementY:Ox}}),EC=Mr(sy),mz=yn({},sy,{dataTransfer:0}),gz=Mr(mz),yz=yn({},Nd,{relatedTarget:0}),Nx=Mr(yz),vz=yn({},yh,{animationName:0,elapsedTime:0,pseudoElement:0}),xz=Mr(vz),Az=yn({},yh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_z=Mr(Az),wz=yn({},yh,{data:0}),bC=Mr(wz),Sz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ez={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bz(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Ez[n])?!!e[n]:!1}function fS(){return bz}var Cz=yn({},Nd,{key:function(n){if(n.key){var e=Sz[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Bg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Mz[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fS,charCode:function(n){return n.type==="keypress"?Bg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Tz=Mr(Cz),Rz=yn({},sy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CC=Mr(Rz),Pz=yn({},Nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fS}),Bz=Mr(Pz),Iz=yn({},yh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lz=Mr(Iz),Dz=yn({},sy,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),kz=Mr(Dz),Fz=[9,13,27,32],dS=Oo&&"CompositionEvent"in window,Pf=null;Oo&&"documentMode"in document&&(Pf=document.documentMode);var Oz=Oo&&"TextEvent"in window&&!Pf,wI=Oo&&(!dS||Pf&&8<Pf&&11>=Pf),TC=String.fromCharCode(32),RC=!1;function SI(n,e){switch(n){case"keyup":return Fz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MI(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var mu=!1;function Nz(n,e){switch(n){case"compositionend":return MI(e);case"keypress":return e.which!==32?null:(RC=!0,TC);case"textInput":return n=e.data,n===TC&&RC?null:n;default:return null}}function Uz(n,e){if(mu)return n==="compositionend"||!dS&&SI(n,e)?(n=_I(),Pg=uS=Aa=null,mu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wI&&e.locale!=="ko"?null:e.data;default:return null}}var zz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!zz[n.type]:e==="textarea"}function EI(n,e,t,i){nI(i),e=d0(e,"onChange"),0<e.length&&(t=new hS("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Bf=null,rd=null;function Hz(n){FI(n,0)}function oy(n){var e=vu(n);if(KB(e))return n}function Gz(n,e){if(n==="change")return e}var bI=!1;if(Oo){var Ux;if(Oo){var zx="oninput"in document;if(!zx){var BC=document.createElement("div");BC.setAttribute("oninput","return;"),zx=typeof BC.oninput=="function"}Ux=zx}else Ux=!1;bI=Ux&&(!document.documentMode||9<document.documentMode)}function IC(){Bf&&(Bf.detachEvent("onpropertychange",CI),rd=Bf=null)}function CI(n){if(n.propertyName==="value"&&oy(rd)){var e=[];EI(e,rd,n,sS(n)),oI(Hz,e)}}function Vz(n,e,t){n==="focusin"?(IC(),Bf=e,rd=t,Bf.attachEvent("onpropertychange",CI)):n==="focusout"&&IC()}function Wz(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return oy(rd)}function jz(n,e){if(n==="click")return oy(e)}function Xz(n,e){if(n==="input"||n==="change")return oy(e)}function Jz(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var As=typeof Object.is=="function"?Object.is:Jz;function sd(n,e){if(As(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!I_.call(e,r)||!As(n[r],e[r]))return!1}return!0}function LC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function DC(n,e){var t=LC(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=LC(t)}}function TI(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?TI(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function RI(){for(var n=window,e=o0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=o0(n.document)}return e}function pS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Yz(n){var e=RI(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&TI(t.ownerDocument.documentElement,t)){if(i!==null&&pS(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=DC(t,s);var o=DC(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Kz=Oo&&"documentMode"in document&&11>=document.documentMode,gu=null,Q_=null,If=null,Z_=!1;function kC(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Z_||gu==null||gu!==o0(i)||(i=gu,"selectionStart"in i&&pS(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),If&&sd(If,i)||(If=i,i=d0(Q_,"onSelect"),0<i.length&&(e=new hS("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=gu)))}function ym(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var yu={animationend:ym("Animation","AnimationEnd"),animationiteration:ym("Animation","AnimationIteration"),animationstart:ym("Animation","AnimationStart"),transitionend:ym("Transition","TransitionEnd")},Hx={},PI={};Oo&&(PI=document.createElement("div").style,"AnimationEvent"in window||(delete yu.animationend.animation,delete yu.animationiteration.animation,delete yu.animationstart.animation),"TransitionEvent"in window||delete yu.transitionend.transition);function ay(n){if(Hx[n])return Hx[n];if(!yu[n])return n;var e=yu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in PI)return Hx[n]=e[t];return n}var BI=ay("animationend"),II=ay("animationiteration"),LI=ay("animationstart"),DI=ay("transitionend"),kI=new Map,FC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ya(n,e){kI.set(n,e),mc(e,[n])}for(var Gx=0;Gx<FC.length;Gx++){var Vx=FC[Gx],qz=Vx.toLowerCase(),Qz=Vx[0].toUpperCase()+Vx.slice(1);Ya(qz,"on"+Qz)}Ya(BI,"onAnimationEnd");Ya(II,"onAnimationIteration");Ya(LI,"onAnimationStart");Ya("dblclick","onDoubleClick");Ya("focusin","onFocus");Ya("focusout","onBlur");Ya(DI,"onTransitionEnd");Ju("onMouseEnter",["mouseout","mouseover"]);Ju("onMouseLeave",["mouseout","mouseover"]);Ju("onPointerEnter",["pointerout","pointerover"]);Ju("onPointerLeave",["pointerout","pointerover"]);mc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mc("onBeforeInput",["compositionend","keypress","textInput","paste"]);mc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sf));function OC(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,qU(i,e,void 0,n),n.currentTarget=null}function FI(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;OC(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;OC(r,a,c),s=l}}}if(l0)throw n=J_,l0=!1,J_=null,n}function en(n,e){var t=e[i1];t===void 0&&(t=e[i1]=new Set);var i=n+"__bubble";t.has(i)||(OI(e,n,2,!1),t.add(i))}function Wx(n,e,t){var i=0;e&&(i|=4),OI(t,n,i,e)}var vm="_reactListening"+Math.random().toString(36).slice(2);function od(n){if(!n[vm]){n[vm]=!0,WB.forEach(function(t){t!=="selectionchange"&&(Zz.has(t)||Wx(t,!1,n),Wx(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[vm]||(e[vm]=!0,Wx("selectionchange",!1,e))}}function OI(n,e,t,i){switch(AI(e)){case 1:var r=fz;break;case 4:r=dz;break;default:r=cS}t=r.bind(null,e,t,n),r=void 0,!X_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function jx(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Dl(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}oI(function(){var c=s,u=sS(t),d=[];e:{var p=kI.get(n);if(p!==void 0){var m=hS,y=n;switch(n){case"keypress":if(Bg(t)===0)break e;case"keydown":case"keyup":m=Tz;break;case"focusin":y="focus",m=Nx;break;case"focusout":y="blur",m=Nx;break;case"beforeblur":case"afterblur":m=Nx;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=EC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=gz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Bz;break;case BI:case II:case LI:m=xz;break;case DI:m=Lz;break;case"scroll":m=pz;break;case"wheel":m=kz;break;case"copy":case"cut":case"paste":m=_z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=CC}var x=(e&4)!==0,A=!x&&n==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var w=c,_;w!==null;){_=w;var M=_.stateNode;if(_.tag===5&&M!==null&&(_=M,g!==null&&(M=ed(w,g),M!=null&&x.push(ad(w,M,_)))),A)break;w=w.return}0<x.length&&(p=new m(p,y,null,t,u),d.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==W_&&(y=t.relatedTarget||t.fromElement)&&(Dl(y)||y[No]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?Dl(y):null,y!==null&&(A=gc(y),y!==A||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(x=EC,M="onMouseLeave",g="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(x=CC,M="onPointerLeave",g="onPointerEnter",w="pointer"),A=m==null?p:vu(m),_=y==null?p:vu(y),p=new x(M,w+"leave",m,t,u),p.target=A,p.relatedTarget=_,M=null,Dl(u)===c&&(x=new x(g,w+"enter",y,t,u),x.target=_,x.relatedTarget=A,M=x),A=M,m&&y)t:{for(x=m,g=y,w=0,_=x;_;_=Uc(_))w++;for(_=0,M=g;M;M=Uc(M))_++;for(;0<w-_;)x=Uc(x),w--;for(;0<_-w;)g=Uc(g),_--;for(;w--;){if(x===g||g!==null&&x===g.alternate)break t;x=Uc(x),g=Uc(g)}x=null}else x=null;m!==null&&NC(d,p,m,x,!1),y!==null&&A!==null&&NC(d,A,y,x,!0)}}e:{if(p=c?vu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var b=Gz;else if(PC(p))if(bI)b=Xz;else{b=Wz;var C=Vz}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=jz);if(b&&(b=b(n,c))){EI(d,b,t,u);break e}C&&C(n,p,c),n==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&U_(p,"number",p.value)}switch(C=c?vu(c):window,n){case"focusin":(PC(C)||C.contentEditable==="true")&&(gu=C,Q_=c,If=null);break;case"focusout":If=Q_=gu=null;break;case"mousedown":Z_=!0;break;case"contextmenu":case"mouseup":case"dragend":Z_=!1,kC(d,t,u);break;case"selectionchange":if(Kz)break;case"keydown":case"keyup":kC(d,t,u)}var P;if(dS)e:{switch(n){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else mu?SI(n,t)&&(I="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(I="onCompositionStart");I&&(wI&&t.locale!=="ko"&&(mu||I!=="onCompositionStart"?I==="onCompositionEnd"&&mu&&(P=_I()):(Aa=u,uS="value"in Aa?Aa.value:Aa.textContent,mu=!0)),C=d0(c,I),0<C.length&&(I=new bC(I,n,null,t,u),d.push({event:I,listeners:C}),P?I.data=P:(P=MI(t),P!==null&&(I.data=P)))),(P=Oz?Nz(n,t):Uz(n,t))&&(c=d0(c,"onBeforeInput"),0<c.length&&(u=new bC("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=P))}FI(d,e)})}function ad(n,e,t){return{instance:n,listener:e,currentTarget:t}}function d0(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=ed(n,t),s!=null&&i.unshift(ad(n,s,r)),s=ed(n,e),s!=null&&i.push(ad(n,s,r))),n=n.return}return i}function Uc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function NC(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=ed(t,s),l!=null&&o.unshift(ad(t,l,a))):r||(l=ed(t,s),l!=null&&o.push(ad(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var $z=/\r\n?/g,eH=/\u0000|\uFFFD/g;function UC(n){return(typeof n=="string"?n:""+n).replace($z,`
`).replace(eH,"")}function xm(n,e,t){if(e=UC(e),UC(n)!==e&&t)throw Error(be(425))}function p0(){}var $_=null,e1=null;function t1(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var n1=typeof setTimeout=="function"?setTimeout:void 0,tH=typeof clearTimeout=="function"?clearTimeout:void 0,zC=typeof Promise=="function"?Promise:void 0,nH=typeof queueMicrotask=="function"?queueMicrotask:typeof zC<"u"?function(n){return zC.resolve(null).then(n).catch(iH)}:n1;function iH(n){setTimeout(function(){throw n})}function Xx(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),id(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);id(e)}function ba(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function HC(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var vh=Math.random().toString(36).slice(2),Gs="__reactFiber$"+vh,ld="__reactProps$"+vh,No="__reactContainer$"+vh,i1="__reactEvents$"+vh,rH="__reactListeners$"+vh,sH="__reactHandles$"+vh;function Dl(n){var e=n[Gs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[No]||t[Gs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=HC(n);n!==null;){if(t=n[Gs])return t;n=HC(n)}return e}n=t,t=n.parentNode}return null}function Ud(n){return n=n[Gs]||n[No],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function vu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(be(33))}function ly(n){return n[ld]||null}var r1=[],xu=-1;function Ka(n){return{current:n}}function nn(n){0>xu||(n.current=r1[xu],r1[xu]=null,xu--)}function Zt(n,e){xu++,r1[xu]=n.current,n.current=e}var za={},Ci=Ka(za),$i=Ka(!1),ec=za;function Yu(n,e){var t=n.type.contextTypes;if(!t)return za;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function er(n){return n=n.childContextTypes,n!=null}function m0(){nn($i),nn(Ci)}function GC(n,e,t){if(Ci.current!==za)throw Error(be(168));Zt(Ci,e),Zt($i,t)}function NI(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(be(108,VU(n)||"Unknown",r));return yn({},t,i)}function g0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||za,ec=Ci.current,Zt(Ci,n),Zt($i,$i.current),!0}function VC(n,e,t){var i=n.stateNode;if(!i)throw Error(be(169));t?(n=NI(n,e,ec),i.__reactInternalMemoizedMergedChildContext=n,nn($i),nn(Ci),Zt(Ci,n)):nn($i),Zt($i,t)}var Ao=null,cy=!1,Jx=!1;function UI(n){Ao===null?Ao=[n]:Ao.push(n)}function oH(n){cy=!0,UI(n)}function qa(){if(!Jx&&Ao!==null){Jx=!0;var n=0,e=Jt;try{var t=Ao;for(Jt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Ao=null,cy=!1}catch(r){throw Ao!==null&&(Ao=Ao.slice(n+1)),uI(oS,qa),r}finally{Jt=e,Jx=!1}}return null}var Au=[],_u=0,y0=null,v0=0,Hr=[],Gr=0,tc=null,Mo=1,Eo="";function Ml(n,e){Au[_u++]=v0,Au[_u++]=y0,y0=n,v0=e}function zI(n,e,t){Hr[Gr++]=Mo,Hr[Gr++]=Eo,Hr[Gr++]=tc,tc=n;var i=Mo;n=Eo;var r=32-fs(i)-1;i&=~(1<<r),t+=1;var s=32-fs(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Mo=1<<32-fs(e)+r|t<<r|i,Eo=s+n}else Mo=1<<s|t<<r|i,Eo=n}function mS(n){n.return!==null&&(Ml(n,1),zI(n,1,0))}function gS(n){for(;n===y0;)y0=Au[--_u],Au[_u]=null,v0=Au[--_u],Au[_u]=null;for(;n===tc;)tc=Hr[--Gr],Hr[Gr]=null,Eo=Hr[--Gr],Hr[Gr]=null,Mo=Hr[--Gr],Hr[Gr]=null}var gr=null,pr=null,ln=!1,cs=null;function HI(n,e){var t=Wr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function WC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,gr=n,pr=ba(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,gr=n,pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=tc!==null?{id:Mo,overflow:Eo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Wr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,gr=n,pr=null,!0):!1;default:return!1}}function s1(n){return(n.mode&1)!==0&&(n.flags&128)===0}function o1(n){if(ln){var e=pr;if(e){var t=e;if(!WC(n,e)){if(s1(n))throw Error(be(418));e=ba(t.nextSibling);var i=gr;e&&WC(n,e)?HI(i,t):(n.flags=n.flags&-4097|2,ln=!1,gr=n)}}else{if(s1(n))throw Error(be(418));n.flags=n.flags&-4097|2,ln=!1,gr=n}}}function jC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;gr=n}function Am(n){if(n!==gr)return!1;if(!ln)return jC(n),ln=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!t1(n.type,n.memoizedProps)),e&&(e=pr)){if(s1(n))throw GI(),Error(be(418));for(;e;)HI(n,e),e=ba(e.nextSibling)}if(jC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(be(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){pr=ba(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}pr=null}}else pr=gr?ba(n.stateNode.nextSibling):null;return!0}function GI(){for(var n=pr;n;)n=ba(n.nextSibling)}function Ku(){pr=gr=null,ln=!1}function yS(n){cs===null?cs=[n]:cs.push(n)}var aH=Wo.ReactCurrentBatchConfig;function Qh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(be(309));var i=t.stateNode}if(!i)throw Error(be(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(be(284));if(!t._owner)throw Error(be(290,n))}return n}function _m(n,e){throw n=Object.prototype.toString.call(e),Error(be(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function XC(n){var e=n._init;return e(n._payload)}function VI(n){function e(g,w){if(n){var _=g.deletions;_===null?(g.deletions=[w],g.flags|=16):_.push(w)}}function t(g,w){if(!n)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function i(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function r(g,w){return g=Pa(g,w),g.index=0,g.sibling=null,g}function s(g,w,_){return g.index=_,n?(_=g.alternate,_!==null?(_=_.index,_<w?(g.flags|=2,w):_):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,w,_,M){return w===null||w.tag!==6?(w=eA(_,g.mode,M),w.return=g,w):(w=r(w,_),w.return=g,w)}function l(g,w,_,M){var b=_.type;return b===pu?u(g,w,_.props.children,M,_.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===pa&&XC(b)===w.type)?(M=r(w,_.props),M.ref=Qh(g,w,_),M.return=g,M):(M=Ng(_.type,_.key,_.props,null,g.mode,M),M.ref=Qh(g,w,_),M.return=g,M)}function c(g,w,_,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=tA(_,g.mode,M),w.return=g,w):(w=r(w,_.children||[]),w.return=g,w)}function u(g,w,_,M,b){return w===null||w.tag!==7?(w=Jl(_,g.mode,M,b),w.return=g,w):(w=r(w,_),w.return=g,w)}function d(g,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=eA(""+w,g.mode,_),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case um:return _=Ng(w.type,w.key,w.props,null,g.mode,_),_.ref=Qh(g,null,w),_.return=g,_;case du:return w=tA(w,g.mode,_),w.return=g,w;case pa:var M=w._init;return d(g,M(w._payload),_)}if(_f(w)||Xh(w))return w=Jl(w,g.mode,_,null),w.return=g,w;_m(g,w)}return null}function p(g,w,_,M){var b=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:a(g,w,""+_,M);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case um:return _.key===b?l(g,w,_,M):null;case du:return _.key===b?c(g,w,_,M):null;case pa:return b=_._init,p(g,w,b(_._payload),M)}if(_f(_)||Xh(_))return b!==null?null:u(g,w,_,M,null);_m(g,_)}return null}function m(g,w,_,M,b){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(_)||null,a(w,g,""+M,b);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case um:return g=g.get(M.key===null?_:M.key)||null,l(w,g,M,b);case du:return g=g.get(M.key===null?_:M.key)||null,c(w,g,M,b);case pa:var C=M._init;return m(g,w,_,C(M._payload),b)}if(_f(M)||Xh(M))return g=g.get(_)||null,u(w,g,M,b,null);_m(w,M)}return null}function y(g,w,_,M){for(var b=null,C=null,P=w,I=w=0,T=null;P!==null&&I<_.length;I++){P.index>I?(T=P,P=null):T=P.sibling;var B=p(g,P,_[I],M);if(B===null){P===null&&(P=T);break}n&&P&&B.alternate===null&&e(g,P),w=s(B,w,I),C===null?b=B:C.sibling=B,C=B,P=T}if(I===_.length)return t(g,P),ln&&Ml(g,I),b;if(P===null){for(;I<_.length;I++)P=d(g,_[I],M),P!==null&&(w=s(P,w,I),C===null?b=P:C.sibling=P,C=P);return ln&&Ml(g,I),b}for(P=i(g,P);I<_.length;I++)T=m(P,g,I,_[I],M),T!==null&&(n&&T.alternate!==null&&P.delete(T.key===null?I:T.key),w=s(T,w,I),C===null?b=T:C.sibling=T,C=T);return n&&P.forEach(function(G){return e(g,G)}),ln&&Ml(g,I),b}function x(g,w,_,M){var b=Xh(_);if(typeof b!="function")throw Error(be(150));if(_=b.call(_),_==null)throw Error(be(151));for(var C=b=null,P=w,I=w=0,T=null,B=_.next();P!==null&&!B.done;I++,B=_.next()){P.index>I?(T=P,P=null):T=P.sibling;var G=p(g,P,B.value,M);if(G===null){P===null&&(P=T);break}n&&P&&G.alternate===null&&e(g,P),w=s(G,w,I),C===null?b=G:C.sibling=G,C=G,P=T}if(B.done)return t(g,P),ln&&Ml(g,I),b;if(P===null){for(;!B.done;I++,B=_.next())B=d(g,B.value,M),B!==null&&(w=s(B,w,I),C===null?b=B:C.sibling=B,C=B);return ln&&Ml(g,I),b}for(P=i(g,P);!B.done;I++,B=_.next())B=m(P,g,I,B.value,M),B!==null&&(n&&B.alternate!==null&&P.delete(B.key===null?I:B.key),w=s(B,w,I),C===null?b=B:C.sibling=B,C=B);return n&&P.forEach(function(Q){return e(g,Q)}),ln&&Ml(g,I),b}function A(g,w,_,M){if(typeof _=="object"&&_!==null&&_.type===pu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case um:e:{for(var b=_.key,C=w;C!==null;){if(C.key===b){if(b=_.type,b===pu){if(C.tag===7){t(g,C.sibling),w=r(C,_.props.children),w.return=g,g=w;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===pa&&XC(b)===C.type){t(g,C.sibling),w=r(C,_.props),w.ref=Qh(g,C,_),w.return=g,g=w;break e}t(g,C);break}else e(g,C);C=C.sibling}_.type===pu?(w=Jl(_.props.children,g.mode,M,_.key),w.return=g,g=w):(M=Ng(_.type,_.key,_.props,null,g.mode,M),M.ref=Qh(g,w,_),M.return=g,g=M)}return o(g);case du:e:{for(C=_.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){t(g,w.sibling),w=r(w,_.children||[]),w.return=g,g=w;break e}else{t(g,w);break}else e(g,w);w=w.sibling}w=tA(_,g.mode,M),w.return=g,g=w}return o(g);case pa:return C=_._init,A(g,w,C(_._payload),M)}if(_f(_))return y(g,w,_,M);if(Xh(_))return x(g,w,_,M);_m(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(t(g,w.sibling),w=r(w,_),w.return=g,g=w):(t(g,w),w=eA(_,g.mode,M),w.return=g,g=w),o(g)):t(g,w)}return A}var qu=VI(!0),WI=VI(!1),x0=Ka(null),A0=null,wu=null,vS=null;function xS(){vS=wu=A0=null}function AS(n){var e=x0.current;nn(x0),n._currentValue=e}function a1(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Hu(n,e){A0=n,vS=wu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(qi=!0),n.firstContext=null)}function Xr(n){var e=n._currentValue;if(vS!==n)if(n={context:n,memoizedValue:e,next:null},wu===null){if(A0===null)throw Error(be(308));wu=n,A0.dependencies={lanes:0,firstContext:n}}else wu=wu.next=n;return e}var kl=null;function _S(n){kl===null?kl=[n]:kl.push(n)}function jI(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,_S(e)):(t.next=r.next,r.next=t),e.interleaved=t,Uo(n,i)}function Uo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ma=!1;function wS(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XI(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Po(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,kt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Uo(n,t)}return r=i.interleaved,r===null?(e.next=e,_S(i)):(e.next=r.next,r.next=e),i.interleaved=e,Uo(n,t)}function Ig(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,aS(n,t)}}function JC(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function _0(n,e,t,i){var r=n.updateQueue;ma=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,x=a;switch(p=e,m=t,x.tag){case 1:if(y=x.payload,typeof y=="function"){d=y.call(m,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(m,d,p):y,p==null)break e;d=yn({},d,p);break e;case 2:ma=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ic|=o,n.lanes=o,n.memoizedState=d}}function YC(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(be(191,r));r.call(i)}}}var zd={},Js=Ka(zd),cd=Ka(zd),ud=Ka(zd);function Fl(n){if(n===zd)throw Error(be(174));return n}function SS(n,e){switch(Zt(ud,e),Zt(cd,n),Zt(Js,zd),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:H_(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=H_(e,n)}nn(Js),Zt(Js,e)}function Qu(){nn(Js),nn(cd),nn(ud)}function JI(n){Fl(ud.current);var e=Fl(Js.current),t=H_(e,n.type);e!==t&&(Zt(cd,n),Zt(Js,t))}function MS(n){cd.current===n&&(nn(Js),nn(cd))}var fn=Ka(0);function w0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yx=[];function ES(){for(var n=0;n<Yx.length;n++)Yx[n]._workInProgressVersionPrimary=null;Yx.length=0}var Lg=Wo.ReactCurrentDispatcher,Kx=Wo.ReactCurrentBatchConfig,nc=0,gn=null,Gn=null,$n=null,S0=!1,Lf=!1,hd=0,lH=0;function Ai(){throw Error(be(321))}function bS(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!As(n[t],e[t]))return!1;return!0}function CS(n,e,t,i,r,s){if(nc=s,gn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lg.current=n===null||n.memoizedState===null?fH:dH,n=t(i,r),Lf){s=0;do{if(Lf=!1,hd=0,25<=s)throw Error(be(301));s+=1,$n=Gn=null,e.updateQueue=null,Lg.current=pH,n=t(i,r)}while(Lf)}if(Lg.current=M0,e=Gn!==null&&Gn.next!==null,nc=0,$n=Gn=gn=null,S0=!1,e)throw Error(be(300));return n}function TS(){var n=hd!==0;return hd=0,n}function Us(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?gn.memoizedState=$n=n:$n=$n.next=n,$n}function Jr(){if(Gn===null){var n=gn.alternate;n=n!==null?n.memoizedState:null}else n=Gn.next;var e=$n===null?gn.memoizedState:$n.next;if(e!==null)$n=e,Gn=n;else{if(n===null)throw Error(be(310));Gn=n,n={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},$n===null?gn.memoizedState=$n=n:$n=$n.next=n}return $n}function fd(n,e){return typeof e=="function"?e(n):e}function qx(n){var e=Jr(),t=e.queue;if(t===null)throw Error(be(311));t.lastRenderedReducer=n;var i=Gn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((nc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,gn.lanes|=u,ic|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,As(i,e.memoizedState)||(qi=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,gn.lanes|=s,ic|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Qx(n){var e=Jr(),t=e.queue;if(t===null)throw Error(be(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);As(s,e.memoizedState)||(qi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function YI(){}function KI(n,e){var t=gn,i=Jr(),r=e(),s=!As(i.memoizedState,r);if(s&&(i.memoizedState=r,qi=!0),i=i.queue,RS(ZI.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||$n!==null&&$n.memoizedState.tag&1){if(t.flags|=2048,dd(9,QI.bind(null,t,i,r,e),void 0,null),ti===null)throw Error(be(349));nc&30||qI(t,e,r)}return r}function qI(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=gn.updateQueue,e===null?(e={lastEffect:null,stores:null},gn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function QI(n,e,t,i){e.value=t,e.getSnapshot=i,$I(e)&&eL(n)}function ZI(n,e,t){return t(function(){$I(e)&&eL(n)})}function $I(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!As(n,t)}catch{return!0}}function eL(n){var e=Uo(n,1);e!==null&&ds(e,n,1,-1)}function KC(n){var e=Us();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:n},e.queue=n,n=n.dispatch=hH.bind(null,gn,n),[e.memoizedState,n]}function dd(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=gn.updateQueue,e===null?(e={lastEffect:null,stores:null},gn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function tL(){return Jr().memoizedState}function Dg(n,e,t,i){var r=Us();gn.flags|=n,r.memoizedState=dd(1|e,t,void 0,i===void 0?null:i)}function uy(n,e,t,i){var r=Jr();i=i===void 0?null:i;var s=void 0;if(Gn!==null){var o=Gn.memoizedState;if(s=o.destroy,i!==null&&bS(i,o.deps)){r.memoizedState=dd(e,t,s,i);return}}gn.flags|=n,r.memoizedState=dd(1|e,t,s,i)}function qC(n,e){return Dg(8390656,8,n,e)}function RS(n,e){return uy(2048,8,n,e)}function nL(n,e){return uy(4,2,n,e)}function iL(n,e){return uy(4,4,n,e)}function rL(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function sL(n,e,t){return t=t!=null?t.concat([n]):null,uy(4,4,rL.bind(null,e,n),t)}function PS(){}function oL(n,e){var t=Jr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&bS(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function aL(n,e){var t=Jr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&bS(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function lL(n,e,t){return nc&21?(As(t,e)||(t=dI(),gn.lanes|=t,ic|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,qi=!0),n.memoizedState=t)}function cH(n,e){var t=Jt;Jt=t!==0&&4>t?t:4,n(!0);var i=Kx.transition;Kx.transition={};try{n(!1),e()}finally{Jt=t,Kx.transition=i}}function cL(){return Jr().memoizedState}function uH(n,e,t){var i=Ra(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},uL(n))hL(e,t);else if(t=jI(n,e,t,i),t!==null){var r=Fi();ds(t,n,i,r),fL(t,e,i)}}function hH(n,e,t){var i=Ra(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(uL(n))hL(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,As(a,o)){var l=e.interleaved;l===null?(r.next=r,_S(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=jI(n,e,r,i),t!==null&&(r=Fi(),ds(t,n,i,r),fL(t,e,i))}}function uL(n){var e=n.alternate;return n===gn||e!==null&&e===gn}function hL(n,e){Lf=S0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function fL(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,aS(n,t)}}var M0={readContext:Xr,useCallback:Ai,useContext:Ai,useEffect:Ai,useImperativeHandle:Ai,useInsertionEffect:Ai,useLayoutEffect:Ai,useMemo:Ai,useReducer:Ai,useRef:Ai,useState:Ai,useDebugValue:Ai,useDeferredValue:Ai,useTransition:Ai,useMutableSource:Ai,useSyncExternalStore:Ai,useId:Ai,unstable_isNewReconciler:!1},fH={readContext:Xr,useCallback:function(n,e){return Us().memoizedState=[n,e===void 0?null:e],n},useContext:Xr,useEffect:qC,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Dg(4194308,4,rL.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Dg(4194308,4,n,e)},useInsertionEffect:function(n,e){return Dg(4,2,n,e)},useMemo:function(n,e){var t=Us();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Us();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=uH.bind(null,gn,n),[i.memoizedState,n]},useRef:function(n){var e=Us();return n={current:n},e.memoizedState=n},useState:KC,useDebugValue:PS,useDeferredValue:function(n){return Us().memoizedState=n},useTransition:function(){var n=KC(!1),e=n[0];return n=cH.bind(null,n[1]),Us().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=gn,r=Us();if(ln){if(t===void 0)throw Error(be(407));t=t()}else{if(t=e(),ti===null)throw Error(be(349));nc&30||qI(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,qC(ZI.bind(null,i,s,n),[n]),i.flags|=2048,dd(9,QI.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Us(),e=ti.identifierPrefix;if(ln){var t=Eo,i=Mo;t=(i&~(1<<32-fs(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=hd++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=lH++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},dH={readContext:Xr,useCallback:oL,useContext:Xr,useEffect:RS,useImperativeHandle:sL,useInsertionEffect:nL,useLayoutEffect:iL,useMemo:aL,useReducer:qx,useRef:tL,useState:function(){return qx(fd)},useDebugValue:PS,useDeferredValue:function(n){var e=Jr();return lL(e,Gn.memoizedState,n)},useTransition:function(){var n=qx(fd)[0],e=Jr().memoizedState;return[n,e]},useMutableSource:YI,useSyncExternalStore:KI,useId:cL,unstable_isNewReconciler:!1},pH={readContext:Xr,useCallback:oL,useContext:Xr,useEffect:RS,useImperativeHandle:sL,useInsertionEffect:nL,useLayoutEffect:iL,useMemo:aL,useReducer:Qx,useRef:tL,useState:function(){return Qx(fd)},useDebugValue:PS,useDeferredValue:function(n){var e=Jr();return Gn===null?e.memoizedState=n:lL(e,Gn.memoizedState,n)},useTransition:function(){var n=Qx(fd)[0],e=Jr().memoizedState;return[n,e]},useMutableSource:YI,useSyncExternalStore:KI,useId:cL,unstable_isNewReconciler:!1};function os(n,e){if(n&&n.defaultProps){e=yn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function l1(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:yn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var hy={isMounted:function(n){return(n=n._reactInternals)?gc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Fi(),r=Ra(n),s=Po(i,r);s.payload=e,t!=null&&(s.callback=t),e=Ca(n,s,r),e!==null&&(ds(e,n,r,i),Ig(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Fi(),r=Ra(n),s=Po(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Ca(n,s,r),e!==null&&(ds(e,n,r,i),Ig(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Fi(),i=Ra(n),r=Po(t,i);r.tag=2,e!=null&&(r.callback=e),e=Ca(n,r,i),e!==null&&(ds(e,n,i,t),Ig(e,n,i))}};function QC(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!sd(t,i)||!sd(r,s):!0}function dL(n,e,t){var i=!1,r=za,s=e.contextType;return typeof s=="object"&&s!==null?s=Xr(s):(r=er(e)?ec:Ci.current,i=e.contextTypes,s=(i=i!=null)?Yu(n,r):za),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hy,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function ZC(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&hy.enqueueReplaceState(e,e.state,null)}function c1(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},wS(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Xr(s):(s=er(e)?ec:Ci.current,r.context=Yu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(l1(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&hy.enqueueReplaceState(r,r.state,null),_0(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Zu(n,e){try{var t="",i=e;do t+=GU(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Zx(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function u1(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var mH=typeof WeakMap=="function"?WeakMap:Map;function pL(n,e,t){t=Po(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){b0||(b0=!0,A1=i),u1(n,e)},t}function mL(n,e,t){t=Po(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){u1(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){u1(n,e),typeof i!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function $C(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new mH;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=RH.bind(null,n,e,t),e.then(n,n))}function eT(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function tT(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Po(-1,1),e.tag=2,Ca(t,e,1))),t.lanes|=1),n)}var gH=Wo.ReactCurrentOwner,qi=!1;function ki(n,e,t,i){e.child=n===null?WI(e,null,t,i):qu(e,n.child,t,i)}function nT(n,e,t,i,r){t=t.render;var s=e.ref;return Hu(e,r),i=CS(n,e,t,i,s,r),t=TS(),n!==null&&!qi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,zo(n,e,r)):(ln&&t&&mS(e),e.flags|=1,ki(n,e,i,r),e.child)}function iT(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!NS(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,gL(n,e,s,i,r)):(n=Ng(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:sd,t(o,i)&&n.ref===e.ref)return zo(n,e,r)}return e.flags|=1,n=Pa(s,i),n.ref=e.ref,n.return=e,e.child=n}function gL(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(sd(s,i)&&n.ref===e.ref)if(qi=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(qi=!0);else return e.lanes=n.lanes,zo(n,e,r)}return h1(n,e,t,i,r)}function yL(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(Mu,fr),fr|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Zt(Mu,fr),fr|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Zt(Mu,fr),fr|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Zt(Mu,fr),fr|=i;return ki(n,e,r,t),e.child}function vL(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function h1(n,e,t,i,r){var s=er(t)?ec:Ci.current;return s=Yu(e,s),Hu(e,r),t=CS(n,e,t,i,s,r),i=TS(),n!==null&&!qi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,zo(n,e,r)):(ln&&i&&mS(e),e.flags|=1,ki(n,e,t,r),e.child)}function rT(n,e,t,i,r){if(er(t)){var s=!0;g0(e)}else s=!1;if(Hu(e,r),e.stateNode===null)kg(n,e),dL(e,t,i),c1(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Xr(c):(c=er(t)?ec:Ci.current,c=Yu(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&ZC(e,o,i,c),ma=!1;var p=e.memoizedState;o.state=p,_0(e,i,o,r),l=e.memoizedState,a!==i||p!==l||$i.current||ma?(typeof u=="function"&&(l1(e,t,u,i),l=e.memoizedState),(a=ma||QC(e,t,a,i,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,XI(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:os(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Xr(l):(l=er(t)?ec:Ci.current,l=Yu(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&ZC(e,o,i,l),ma=!1,p=e.memoizedState,o.state=p,_0(e,i,o,r);var y=e.memoizedState;a!==d||p!==y||$i.current||ma?(typeof m=="function"&&(l1(e,t,m,i),y=e.memoizedState),(c=ma||QC(e,t,c,i,p,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return f1(n,e,t,i,s,r)}function f1(n,e,t,i,r,s){vL(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&VC(e,t,!1),zo(n,e,s);i=e.stateNode,gH.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=qu(e,n.child,null,s),e.child=qu(e,null,a,s)):ki(n,e,a,s),e.memoizedState=i.state,r&&VC(e,t,!0),e.child}function xL(n){var e=n.stateNode;e.pendingContext?GC(n,e.pendingContext,e.pendingContext!==e.context):e.context&&GC(n,e.context,!1),SS(n,e.containerInfo)}function sT(n,e,t,i,r){return Ku(),yS(r),e.flags|=256,ki(n,e,t,i),e.child}var d1={dehydrated:null,treeContext:null,retryLane:0};function p1(n){return{baseLanes:n,cachePool:null,transitions:null}}function AL(n,e,t){var i=e.pendingProps,r=fn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Zt(fn,r&1),n===null)return o1(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=py(o,i,0,null),n=Jl(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=p1(t),e.memoizedState=d1,n):BS(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return yH(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Pa(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Pa(a,s):(s=Jl(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?p1(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=d1,i}return s=n.child,n=s.sibling,i=Pa(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function BS(n,e){return e=py({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function wm(n,e,t,i){return i!==null&&yS(i),qu(e,n.child,null,t),n=BS(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function yH(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Zx(Error(be(422))),wm(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=py({mode:"visible",children:i.children},r,0,null),s=Jl(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&qu(e,n.child,null,o),e.child.memoizedState=p1(o),e.memoizedState=d1,s);if(!(e.mode&1))return wm(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(be(419)),i=Zx(s,i,void 0),wm(n,e,o,i)}if(a=(o&n.childLanes)!==0,qi||a){if(i=ti,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Uo(n,r),ds(i,n,r,-1))}return OS(),i=Zx(Error(be(421))),wm(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=PH.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,pr=ba(r.nextSibling),gr=e,ln=!0,cs=null,n!==null&&(Hr[Gr++]=Mo,Hr[Gr++]=Eo,Hr[Gr++]=tc,Mo=n.id,Eo=n.overflow,tc=e),e=BS(e,i.children),e.flags|=4096,e)}function oT(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),a1(n.return,e,t)}function $x(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function _L(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(ki(n,e,i.children,t),i=fn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&oT(n,t,e);else if(n.tag===19)oT(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Zt(fn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&w0(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),$x(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&w0(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}$x(e,!0,t,null,s);break;case"together":$x(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function zo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ic|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(be(153));if(e.child!==null){for(n=e.child,t=Pa(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Pa(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function vH(n,e,t){switch(e.tag){case 3:xL(e),Ku();break;case 5:JI(e);break;case 1:er(e.type)&&g0(e);break;case 4:SS(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Zt(x0,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Zt(fn,fn.current&1),e.flags|=128,null):t&e.child.childLanes?AL(n,e,t):(Zt(fn,fn.current&1),n=zo(n,e,t),n!==null?n.sibling:null);Zt(fn,fn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return _L(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Zt(fn,fn.current),i)break;return null;case 22:case 23:return e.lanes=0,yL(n,e,t)}return zo(n,e,t)}var wL,m1,SL,ML;wL=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};m1=function(){};SL=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Fl(Js.current);var s=null;switch(t){case"input":r=O_(n,r),i=O_(n,i),s=[];break;case"select":r=yn({},r,{value:void 0}),i=yn({},i,{value:void 0}),s=[];break;case"textarea":r=z_(n,r),i=z_(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=p0)}G_(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&en("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ML=function(n,e,t,i){t!==i&&(e.flags|=4)};function Zh(n,e){if(!ln)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function _i(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function xH(n,e,t){var i=e.pendingProps;switch(gS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _i(e),null;case 1:return er(e.type)&&m0(),_i(e),null;case 3:return i=e.stateNode,Qu(),nn($i),nn(Ci),ES(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Am(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cs!==null&&(S1(cs),cs=null))),m1(n,e),_i(e),null;case 5:MS(e);var r=Fl(ud.current);if(t=e.type,n!==null&&e.stateNode!=null)SL(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(be(166));return _i(e),null}if(n=Fl(Js.current),Am(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Gs]=e,i[ld]=s,n=(e.mode&1)!==0,t){case"dialog":en("cancel",i),en("close",i);break;case"iframe":case"object":case"embed":en("load",i);break;case"video":case"audio":for(r=0;r<Sf.length;r++)en(Sf[r],i);break;case"source":en("error",i);break;case"img":case"image":case"link":en("error",i),en("load",i);break;case"details":en("toggle",i);break;case"input":mC(i,s),en("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},en("invalid",i);break;case"textarea":yC(i,s),en("invalid",i)}G_(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&xm(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&xm(i.textContent,a,n),r=["children",""+a]):Zf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&en("scroll",i)}switch(t){case"input":hm(i),gC(i,s,!0);break;case"textarea":hm(i),vC(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=p0)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ZB(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Gs]=e,n[ld]=i,wL(n,e,!1,!1),e.stateNode=n;e:{switch(o=V_(t,i),t){case"dialog":en("cancel",n),en("close",n),r=i;break;case"iframe":case"object":case"embed":en("load",n),r=i;break;case"video":case"audio":for(r=0;r<Sf.length;r++)en(Sf[r],n);r=i;break;case"source":en("error",n),r=i;break;case"img":case"image":case"link":en("error",n),en("load",n),r=i;break;case"details":en("toggle",n),r=i;break;case"input":mC(n,i),r=O_(n,i),en("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=yn({},i,{value:void 0}),en("invalid",n);break;case"textarea":yC(n,i),r=z_(n,i),en("invalid",n);break;default:r=i}G_(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?tI(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$B(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&$f(n,l):typeof l=="number"&&$f(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&en("scroll",n):l!=null&&tS(n,s,l,o))}switch(t){case"input":hm(n),gC(n,i,!1);break;case"textarea":hm(n),vC(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Ua(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Ou(n,!!i.multiple,s,!1):i.defaultValue!=null&&Ou(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=p0)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _i(e),null;case 6:if(n&&e.stateNode!=null)ML(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(be(166));if(t=Fl(ud.current),Fl(Js.current),Am(e)){if(i=e.stateNode,t=e.memoizedProps,i[Gs]=e,(s=i.nodeValue!==t)&&(n=gr,n!==null))switch(n.tag){case 3:xm(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&xm(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Gs]=e,e.stateNode=i}return _i(e),null;case 13:if(nn(fn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ln&&pr!==null&&e.mode&1&&!(e.flags&128))GI(),Ku(),e.flags|=98560,s=!1;else if(s=Am(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(be(317));s[Gs]=e}else Ku(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_i(e),s=!1}else cs!==null&&(S1(cs),cs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||fn.current&1?Wn===0&&(Wn=3):OS())),e.updateQueue!==null&&(e.flags|=4),_i(e),null);case 4:return Qu(),m1(n,e),n===null&&od(e.stateNode.containerInfo),_i(e),null;case 10:return AS(e.type._context),_i(e),null;case 17:return er(e.type)&&m0(),_i(e),null;case 19:if(nn(fn),s=e.memoizedState,s===null)return _i(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Zh(s,!1);else{if(Wn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=w0(n),o!==null){for(e.flags|=128,Zh(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Zt(fn,fn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Rn()>$u&&(e.flags|=128,i=!0,Zh(s,!1),e.lanes=4194304)}else{if(!i)if(n=w0(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Zh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ln)return _i(e),null}else 2*Rn()-s.renderingStartTime>$u&&t!==1073741824&&(e.flags|=128,i=!0,Zh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rn(),e.sibling=null,t=fn.current,Zt(fn,i?t&1|2:t&1),e):(_i(e),null);case 22:case 23:return FS(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?fr&1073741824&&(_i(e),e.subtreeFlags&6&&(e.flags|=8192)):_i(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function AH(n,e){switch(gS(e),e.tag){case 1:return er(e.type)&&m0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Qu(),nn($i),nn(Ci),ES(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return MS(e),null;case 13:if(nn(fn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(be(340));Ku()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return nn(fn),null;case 4:return Qu(),null;case 10:return AS(e.type._context),null;case 22:case 23:return FS(),null;case 24:return null;default:return null}}var Sm=!1,Mi=!1,_H=typeof WeakSet=="function"?WeakSet:Set,We=null;function Su(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Sn(n,e,i)}else t.current=null}function g1(n,e,t){try{t()}catch(i){Sn(n,e,i)}}var aT=!1;function wH(n,e){if($_=h0,n=RI(),pS(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,p=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++u===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(e1={focusedElem:n,selectionRange:t},h0=!1,We=e;We!==null;)if(e=We,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,We=n;else for(;We!==null;){e=We;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,A=y.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:os(e.type,x),A);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(M){Sn(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,We=n;break}We=e.return}return y=aT,aT=!1,y}function Df(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&g1(e,t,s)}r=r.next}while(r!==i)}}function fy(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function y1(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function EL(n){var e=n.alternate;e!==null&&(n.alternate=null,EL(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Gs],delete e[ld],delete e[i1],delete e[rH],delete e[sH])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function bL(n){return n.tag===5||n.tag===3||n.tag===4}function lT(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||bL(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function v1(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=p0));else if(i!==4&&(n=n.child,n!==null))for(v1(n,e,t),n=n.sibling;n!==null;)v1(n,e,t),n=n.sibling}function x1(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(x1(n,e,t),n=n.sibling;n!==null;)x1(n,e,t),n=n.sibling}var ai=null,ls=!1;function na(n,e,t){for(t=t.child;t!==null;)CL(n,e,t),t=t.sibling}function CL(n,e,t){if(Xs&&typeof Xs.onCommitFiberUnmount=="function")try{Xs.onCommitFiberUnmount(ry,t)}catch{}switch(t.tag){case 5:Mi||Su(t,e);case 6:var i=ai,r=ls;ai=null,na(n,e,t),ai=i,ls=r,ai!==null&&(ls?(n=ai,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ai.removeChild(t.stateNode));break;case 18:ai!==null&&(ls?(n=ai,t=t.stateNode,n.nodeType===8?Xx(n.parentNode,t):n.nodeType===1&&Xx(n,t),id(n)):Xx(ai,t.stateNode));break;case 4:i=ai,r=ls,ai=t.stateNode.containerInfo,ls=!0,na(n,e,t),ai=i,ls=r;break;case 0:case 11:case 14:case 15:if(!Mi&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&g1(t,e,o),r=r.next}while(r!==i)}na(n,e,t);break;case 1:if(!Mi&&(Su(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Sn(t,e,a)}na(n,e,t);break;case 21:na(n,e,t);break;case 22:t.mode&1?(Mi=(i=Mi)||t.memoizedState!==null,na(n,e,t),Mi=i):na(n,e,t);break;default:na(n,e,t)}}function cT(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new _H),e.forEach(function(i){var r=BH.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function ns(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ai=a.stateNode,ls=!1;break e;case 3:ai=a.stateNode.containerInfo,ls=!0;break e;case 4:ai=a.stateNode.containerInfo,ls=!0;break e}a=a.return}if(ai===null)throw Error(be(160));CL(s,o,r),ai=null,ls=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Sn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TL(e,n),e=e.sibling}function TL(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ns(e,n),Ns(n),i&4){try{Df(3,n,n.return),fy(3,n)}catch(x){Sn(n,n.return,x)}try{Df(5,n,n.return)}catch(x){Sn(n,n.return,x)}}break;case 1:ns(e,n),Ns(n),i&512&&t!==null&&Su(t,t.return);break;case 5:if(ns(e,n),Ns(n),i&512&&t!==null&&Su(t,t.return),n.flags&32){var r=n.stateNode;try{$f(r,"")}catch(x){Sn(n,n.return,x)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&qB(r,s),V_(a,o);var c=V_(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?tI(r,d):u==="dangerouslySetInnerHTML"?$B(r,d):u==="children"?$f(r,d):tS(r,u,d,c)}switch(a){case"input":N_(r,s);break;case"textarea":QB(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ou(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ou(r,!!s.multiple,s.defaultValue,!0):Ou(r,!!s.multiple,s.multiple?[]:"",!1))}r[ld]=s}catch(x){Sn(n,n.return,x)}}break;case 6:if(ns(e,n),Ns(n),i&4){if(n.stateNode===null)throw Error(be(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(x){Sn(n,n.return,x)}}break;case 3:if(ns(e,n),Ns(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{id(e.containerInfo)}catch(x){Sn(n,n.return,x)}break;case 4:ns(e,n),Ns(n);break;case 13:ns(e,n),Ns(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(DS=Rn())),i&4&&cT(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Mi=(c=Mi)||u,ns(e,n),Mi=c):ns(e,n),Ns(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(We=n,u=n.child;u!==null;){for(d=We=u;We!==null;){switch(p=We,m=p.child,p.tag){case 0:case 11:case 14:case 15:Df(4,p,p.return);break;case 1:Su(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Sn(i,t,x)}}break;case 5:Su(p,p.return);break;case 22:if(p.memoizedState!==null){hT(d);continue}}m!==null?(m.return=p,We=m):hT(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eI("display",o))}catch(x){Sn(n,n.return,x)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){Sn(n,n.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ns(e,n),Ns(n),i&4&&cT(n);break;case 21:break;default:ns(e,n),Ns(n)}}function Ns(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(bL(t)){var i=t;break e}t=t.return}throw Error(be(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&($f(r,""),i.flags&=-33);var s=lT(n);x1(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=lT(n);v1(n,a,o);break;default:throw Error(be(161))}}catch(l){Sn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function SH(n,e,t){We=n,RL(n)}function RL(n,e,t){for(var i=(n.mode&1)!==0;We!==null;){var r=We,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Sm;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Mi;a=Sm;var c=Mi;if(Sm=o,(Mi=l)&&!c)for(We=r;We!==null;)o=We,l=o.child,o.tag===22&&o.memoizedState!==null?fT(r):l!==null?(l.return=o,We=l):fT(r);for(;s!==null;)We=s,RL(s),s=s.sibling;We=r,Sm=a,Mi=c}uT(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,We=s):uT(n)}}function uT(n){for(;We!==null;){var e=We;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mi||fy(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Mi)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:os(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&YC(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}YC(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&id(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}Mi||e.flags&512&&y1(e)}catch(p){Sn(e,e.return,p)}}if(e===n){We=null;break}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}}function hT(n){for(;We!==null;){var e=We;if(e===n){We=null;break}var t=e.sibling;if(t!==null){t.return=e.return,We=t;break}We=e.return}}function fT(n){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{fy(4,e)}catch(l){Sn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Sn(e,r,l)}}var s=e.return;try{y1(e)}catch(l){Sn(e,s,l)}break;case 5:var o=e.return;try{y1(e)}catch(l){Sn(e,o,l)}}}catch(l){Sn(e,e.return,l)}if(e===n){We=null;break}var a=e.sibling;if(a!==null){a.return=e.return,We=a;break}We=e.return}}var MH=Math.ceil,E0=Wo.ReactCurrentDispatcher,IS=Wo.ReactCurrentOwner,jr=Wo.ReactCurrentBatchConfig,kt=0,ti=null,Nn=null,hi=0,fr=0,Mu=Ka(0),Wn=0,pd=null,ic=0,dy=0,LS=0,kf=null,Xi=null,DS=0,$u=1/0,yo=null,b0=!1,A1=null,Ta=null,Mm=!1,_a=null,C0=0,Ff=0,_1=null,Fg=-1,Og=0;function Fi(){return kt&6?Rn():Fg!==-1?Fg:Fg=Rn()}function Ra(n){return n.mode&1?kt&2&&hi!==0?hi&-hi:aH.transition!==null?(Og===0&&(Og=dI()),Og):(n=Jt,n!==0||(n=window.event,n=n===void 0?16:AI(n.type)),n):1}function ds(n,e,t,i){if(50<Ff)throw Ff=0,_1=null,Error(be(185));Od(n,t,i),(!(kt&2)||n!==ti)&&(n===ti&&(!(kt&2)&&(dy|=t),Wn===4&&va(n,hi)),tr(n,i),t===1&&kt===0&&!(e.mode&1)&&($u=Rn()+500,cy&&qa()))}function tr(n,e){var t=n.callbackNode;az(n,e);var i=u0(n,n===ti?hi:0);if(i===0)t!==null&&_C(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&_C(t),e===1)n.tag===0?oH(dT.bind(null,n)):UI(dT.bind(null,n)),nH(function(){!(kt&6)&&qa()}),t=null;else{switch(pI(i)){case 1:t=oS;break;case 4:t=hI;break;case 16:t=c0;break;case 536870912:t=fI;break;default:t=c0}t=OL(t,PL.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function PL(n,e){if(Fg=-1,Og=0,kt&6)throw Error(be(327));var t=n.callbackNode;if(Gu()&&n.callbackNode!==t)return null;var i=u0(n,n===ti?hi:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=T0(n,i);else{e=i;var r=kt;kt|=2;var s=IL();(ti!==n||hi!==e)&&(yo=null,$u=Rn()+500,Xl(n,e));do try{CH();break}catch(a){BL(n,a)}while(1);xS(),E0.current=s,kt=r,Nn!==null?e=0:(ti=null,hi=0,e=Wn)}if(e!==0){if(e===2&&(r=Y_(n),r!==0&&(i=r,e=w1(n,r))),e===1)throw t=pd,Xl(n,0),va(n,i),tr(n,Rn()),t;if(e===6)va(n,i);else{if(r=n.current.alternate,!(i&30)&&!EH(r)&&(e=T0(n,i),e===2&&(s=Y_(n),s!==0&&(i=s,e=w1(n,s))),e===1))throw t=pd,Xl(n,0),va(n,i),tr(n,Rn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(be(345));case 2:El(n,Xi,yo);break;case 3:if(va(n,i),(i&130023424)===i&&(e=DS+500-Rn(),10<e)){if(u0(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Fi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=n1(El.bind(null,n,Xi,yo),e);break}El(n,Xi,yo);break;case 4:if(va(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-fs(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Rn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*MH(i/1960))-i,10<i){n.timeoutHandle=n1(El.bind(null,n,Xi,yo),i);break}El(n,Xi,yo);break;case 5:El(n,Xi,yo);break;default:throw Error(be(329))}}}return tr(n,Rn()),n.callbackNode===t?PL.bind(null,n):null}function w1(n,e){var t=kf;return n.current.memoizedState.isDehydrated&&(Xl(n,e).flags|=256),n=T0(n,e),n!==2&&(e=Xi,Xi=t,e!==null&&S1(e)),n}function S1(n){Xi===null?Xi=n:Xi.push.apply(Xi,n)}function EH(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!As(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function va(n,e){for(e&=~LS,e&=~dy,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-fs(e),i=1<<t;n[t]=-1,e&=~i}}function dT(n){if(kt&6)throw Error(be(327));Gu();var e=u0(n,0);if(!(e&1))return tr(n,Rn()),null;var t=T0(n,e);if(n.tag!==0&&t===2){var i=Y_(n);i!==0&&(e=i,t=w1(n,i))}if(t===1)throw t=pd,Xl(n,0),va(n,e),tr(n,Rn()),t;if(t===6)throw Error(be(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,El(n,Xi,yo),tr(n,Rn()),null}function kS(n,e){var t=kt;kt|=1;try{return n(e)}finally{kt=t,kt===0&&($u=Rn()+500,cy&&qa())}}function rc(n){_a!==null&&_a.tag===0&&!(kt&6)&&Gu();var e=kt;kt|=1;var t=jr.transition,i=Jt;try{if(jr.transition=null,Jt=1,n)return n()}finally{Jt=i,jr.transition=t,kt=e,!(kt&6)&&qa()}}function FS(){fr=Mu.current,nn(Mu)}function Xl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,tH(t)),Nn!==null)for(t=Nn.return;t!==null;){var i=t;switch(gS(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&m0();break;case 3:Qu(),nn($i),nn(Ci),ES();break;case 5:MS(i);break;case 4:Qu();break;case 13:nn(fn);break;case 19:nn(fn);break;case 10:AS(i.type._context);break;case 22:case 23:FS()}t=t.return}if(ti=n,Nn=n=Pa(n.current,null),hi=fr=e,Wn=0,pd=null,LS=dy=ic=0,Xi=kf=null,kl!==null){for(e=0;e<kl.length;e++)if(t=kl[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}kl=null}return n}function BL(n,e){do{var t=Nn;try{if(xS(),Lg.current=M0,S0){for(var i=gn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}S0=!1}if(nc=0,$n=Gn=gn=null,Lf=!1,hd=0,IS.current=null,t===null||t.return===null){Wn=1,pd=e,Nn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=hi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=eT(o);if(m!==null){m.flags&=-257,tT(m,o,a,s,e),m.mode&1&&$C(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){$C(s,c,e),OS();break e}l=Error(be(426))}}else if(ln&&a.mode&1){var A=eT(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),tT(A,o,a,s,e),yS(Zu(l,a));break e}}s=l=Zu(l,a),Wn!==4&&(Wn=2),kf===null?kf=[s]:kf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=pL(s,l,e);JC(s,g);break e;case 1:a=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ta===null||!Ta.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=mL(s,a,e);JC(s,M);break e}}s=s.return}while(s!==null)}DL(t)}catch(b){e=b,Nn===t&&t!==null&&(Nn=t=t.return);continue}break}while(1)}function IL(){var n=E0.current;return E0.current=M0,n===null?M0:n}function OS(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),ti===null||!(ic&268435455)&&!(dy&268435455)||va(ti,hi)}function T0(n,e){var t=kt;kt|=2;var i=IL();(ti!==n||hi!==e)&&(yo=null,Xl(n,e));do try{bH();break}catch(r){BL(n,r)}while(1);if(xS(),kt=t,E0.current=i,Nn!==null)throw Error(be(261));return ti=null,hi=0,Wn}function bH(){for(;Nn!==null;)LL(Nn)}function CH(){for(;Nn!==null&&!ZU();)LL(Nn)}function LL(n){var e=FL(n.alternate,n,fr);n.memoizedProps=n.pendingProps,e===null?DL(n):Nn=e,IS.current=null}function DL(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=AH(t,e),t!==null){t.flags&=32767,Nn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Wn=6,Nn=null;return}}else if(t=xH(t,e,fr),t!==null){Nn=t;return}if(e=e.sibling,e!==null){Nn=e;return}Nn=e=n}while(e!==null);Wn===0&&(Wn=5)}function El(n,e,t){var i=Jt,r=jr.transition;try{jr.transition=null,Jt=1,TH(n,e,t,i)}finally{jr.transition=r,Jt=i}return null}function TH(n,e,t,i){do Gu();while(_a!==null);if(kt&6)throw Error(be(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(be(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(lz(n,s),n===ti&&(Nn=ti=null,hi=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Mm||(Mm=!0,OL(c0,function(){return Gu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=jr.transition,jr.transition=null;var o=Jt;Jt=1;var a=kt;kt|=4,IS.current=null,wH(n,t),TL(t,n),Yz(e1),h0=!!$_,e1=$_=null,n.current=t,SH(t),$U(),kt=a,Jt=o,jr.transition=s}else n.current=t;if(Mm&&(Mm=!1,_a=n,C0=r),s=n.pendingLanes,s===0&&(Ta=null),nz(t.stateNode),tr(n,Rn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(b0)throw b0=!1,n=A1,A1=null,n;return C0&1&&n.tag!==0&&Gu(),s=n.pendingLanes,s&1?n===_1?Ff++:(Ff=0,_1=n):Ff=0,qa(),null}function Gu(){if(_a!==null){var n=pI(C0),e=jr.transition,t=Jt;try{if(jr.transition=null,Jt=16>n?16:n,_a===null)var i=!1;else{if(n=_a,_a=null,C0=0,kt&6)throw Error(be(331));var r=kt;for(kt|=4,We=n.current;We!==null;){var s=We,o=s.child;if(We.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(We=c;We!==null;){var u=We;switch(u.tag){case 0:case 11:case 15:Df(8,u,s)}var d=u.child;if(d!==null)d.return=u,We=d;else for(;We!==null;){u=We;var p=u.sibling,m=u.return;if(EL(u),u===c){We=null;break}if(p!==null){p.return=m,We=p;break}We=m}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var A=x.sibling;x.sibling=null,x=A}while(x!==null)}}We=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,We=o;else e:for(;We!==null;){if(s=We,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Df(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,We=g;break e}We=s.return}}var w=n.current;for(We=w;We!==null;){o=We;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,We=_;else e:for(o=w;We!==null;){if(a=We,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fy(9,a)}}catch(b){Sn(a,a.return,b)}if(a===o){We=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,We=M;break e}We=a.return}}if(kt=r,qa(),Xs&&typeof Xs.onPostCommitFiberRoot=="function")try{Xs.onPostCommitFiberRoot(ry,n)}catch{}i=!0}return i}finally{Jt=t,jr.transition=e}}return!1}function pT(n,e,t){e=Zu(t,e),e=pL(n,e,1),n=Ca(n,e,1),e=Fi(),n!==null&&(Od(n,1,e),tr(n,e))}function Sn(n,e,t){if(n.tag===3)pT(n,n,t);else for(;e!==null;){if(e.tag===3){pT(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ta===null||!Ta.has(i))){n=Zu(t,n),n=mL(e,n,1),e=Ca(e,n,1),n=Fi(),e!==null&&(Od(e,1,n),tr(e,n));break}}e=e.return}}function RH(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Fi(),n.pingedLanes|=n.suspendedLanes&t,ti===n&&(hi&t)===t&&(Wn===4||Wn===3&&(hi&130023424)===hi&&500>Rn()-DS?Xl(n,0):LS|=t),tr(n,e)}function kL(n,e){e===0&&(n.mode&1?(e=pm,pm<<=1,!(pm&130023424)&&(pm=4194304)):e=1);var t=Fi();n=Uo(n,e),n!==null&&(Od(n,e,t),tr(n,t))}function PH(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),kL(n,t)}function BH(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(be(314))}i!==null&&i.delete(e),kL(n,t)}var FL;FL=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||$i.current)qi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return qi=!1,vH(n,e,t);qi=!!(n.flags&131072)}else qi=!1,ln&&e.flags&1048576&&zI(e,v0,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;kg(n,e),n=e.pendingProps;var r=Yu(e,Ci.current);Hu(e,t),r=CS(null,e,i,n,r,t);var s=TS();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,er(i)?(s=!0,g0(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,wS(e),r.updater=hy,e.stateNode=r,r._reactInternals=e,c1(e,i,n,t),e=f1(null,e,i,!0,s,t)):(e.tag=0,ln&&s&&mS(e),ki(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(kg(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=LH(i),n=os(i,n),r){case 0:e=h1(null,e,i,n,t);break e;case 1:e=rT(null,e,i,n,t);break e;case 11:e=nT(null,e,i,n,t);break e;case 14:e=iT(null,e,i,os(i.type,n),t);break e}throw Error(be(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:os(i,r),h1(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:os(i,r),rT(n,e,i,r,t);case 3:e:{if(xL(e),n===null)throw Error(be(387));i=e.pendingProps,s=e.memoizedState,r=s.element,XI(n,e),_0(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Zu(Error(be(423)),e),e=sT(n,e,i,t,r);break e}else if(i!==r){r=Zu(Error(be(424)),e),e=sT(n,e,i,t,r);break e}else for(pr=ba(e.stateNode.containerInfo.firstChild),gr=e,ln=!0,cs=null,t=WI(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ku(),i===r){e=zo(n,e,t);break e}ki(n,e,i,t)}e=e.child}return e;case 5:return JI(e),n===null&&o1(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,t1(i,r)?o=null:s!==null&&t1(i,s)&&(e.flags|=32),vL(n,e),ki(n,e,o,t),e.child;case 6:return n===null&&o1(e),null;case 13:return AL(n,e,t);case 4:return SS(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=qu(e,null,i,t):ki(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:os(i,r),nT(n,e,i,r,t);case 7:return ki(n,e,e.pendingProps,t),e.child;case 8:return ki(n,e,e.pendingProps.children,t),e.child;case 12:return ki(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Zt(x0,i._currentValue),i._currentValue=o,s!==null)if(As(s.value,o)){if(s.children===r.children&&!$i.current){e=zo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Po(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),a1(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(be(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),a1(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ki(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Hu(e,t),r=Xr(r),i=i(r),e.flags|=1,ki(n,e,i,t),e.child;case 14:return i=e.type,r=os(i,e.pendingProps),r=os(i.type,r),iT(n,e,i,r,t);case 15:return gL(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:os(i,r),kg(n,e),e.tag=1,er(i)?(n=!0,g0(e)):n=!1,Hu(e,t),dL(e,i,r),c1(e,i,r,t),f1(null,e,i,!0,n,t);case 19:return _L(n,e,t);case 22:return yL(n,e,t)}throw Error(be(156,e.tag))};function OL(n,e){return uI(n,e)}function IH(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(n,e,t,i){return new IH(n,e,t,i)}function NS(n){return n=n.prototype,!(!n||!n.isReactComponent)}function LH(n){if(typeof n=="function")return NS(n)?1:0;if(n!=null){if(n=n.$$typeof,n===iS)return 11;if(n===rS)return 14}return 2}function Pa(n,e){var t=n.alternate;return t===null?(t=Wr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Ng(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")NS(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case pu:return Jl(t.children,r,s,e);case nS:o=8,r|=8;break;case L_:return n=Wr(12,t,e,r|2),n.elementType=L_,n.lanes=s,n;case D_:return n=Wr(13,t,e,r),n.elementType=D_,n.lanes=s,n;case k_:return n=Wr(19,t,e,r),n.elementType=k_,n.lanes=s,n;case JB:return py(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case jB:o=10;break e;case XB:o=9;break e;case iS:o=11;break e;case rS:o=14;break e;case pa:o=16,i=null;break e}throw Error(be(130,n==null?n:typeof n,""))}return e=Wr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Jl(n,e,t,i){return n=Wr(7,n,i,e),n.lanes=t,n}function py(n,e,t,i){return n=Wr(22,n,i,e),n.elementType=JB,n.lanes=t,n.stateNode={isHidden:!1},n}function eA(n,e,t){return n=Wr(6,n,null,e),n.lanes=t,n}function tA(n,e,t){return e=Wr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function DH(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kx(0),this.expirationTimes=kx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kx(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function US(n,e,t,i,r,s,o,a,l){return n=new DH(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},wS(s),n}function kH(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:du,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function NL(n){if(!n)return za;n=n._reactInternals;e:{if(gc(n)!==n||n.tag!==1)throw Error(be(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(er(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(n.tag===1){var t=n.type;if(er(t))return NI(n,t,e)}return e}function UL(n,e,t,i,r,s,o,a,l){return n=US(t,i,!0,n,r,s,o,a,l),n.context=NL(null),t=n.current,i=Fi(),r=Ra(t),s=Po(i,r),s.callback=e??null,Ca(t,s,r),n.current.lanes=r,Od(n,r,i),tr(n,i),n}function my(n,e,t,i){var r=e.current,s=Fi(),o=Ra(r);return t=NL(t),e.context===null?e.context=t:e.pendingContext=t,e=Po(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Ca(r,e,o),n!==null&&(ds(n,r,o,s),Ig(n,r,o)),o}function R0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function mT(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function zS(n,e){mT(n,e),(n=n.alternate)&&mT(n,e)}function FH(){return null}var zL=typeof reportError=="function"?reportError:function(n){console.error(n)};function HS(n){this._internalRoot=n}gy.prototype.render=HS.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(be(409));my(n,e,null,null)};gy.prototype.unmount=HS.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;rc(function(){my(null,n,null,null)}),e[No]=null}};function gy(n){this._internalRoot=n}gy.prototype.unstable_scheduleHydration=function(n){if(n){var e=yI();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ya.length&&e!==0&&e<ya[t].priority;t++);ya.splice(t,0,n),t===0&&xI(n)}};function GS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function yy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function gT(){}function OH(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=R0(o);s.call(c)}}var o=UL(e,i,n,0,null,!1,!1,"",gT);return n._reactRootContainer=o,n[No]=o.current,od(n.nodeType===8?n.parentNode:n),rc(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=R0(l);a.call(c)}}var l=US(n,0,!1,null,null,!1,!1,"",gT);return n._reactRootContainer=l,n[No]=l.current,od(n.nodeType===8?n.parentNode:n),rc(function(){my(e,l,t,i)}),l}function vy(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=R0(o);a.call(l)}}my(e,o,n,r)}else o=OH(t,e,n,r,i);return R0(o)}mI=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=wf(e.pendingLanes);t!==0&&(aS(e,t|1),tr(e,Rn()),!(kt&6)&&($u=Rn()+500,qa()))}break;case 13:rc(function(){var i=Uo(n,1);if(i!==null){var r=Fi();ds(i,n,1,r)}}),zS(n,1)}};lS=function(n){if(n.tag===13){var e=Uo(n,134217728);if(e!==null){var t=Fi();ds(e,n,134217728,t)}zS(n,134217728)}};gI=function(n){if(n.tag===13){var e=Ra(n),t=Uo(n,e);if(t!==null){var i=Fi();ds(t,n,e,i)}zS(n,e)}};yI=function(){return Jt};vI=function(n,e){var t=Jt;try{return Jt=n,e()}finally{Jt=t}};j_=function(n,e,t){switch(e){case"input":if(N_(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=ly(i);if(!r)throw Error(be(90));KB(i),N_(i,r)}}}break;case"textarea":QB(n,t);break;case"select":e=t.value,e!=null&&Ou(n,!!t.multiple,e,!1)}};rI=kS;sI=rc;var NH={usingClientEntryPoint:!1,Events:[Ud,vu,ly,nI,iI,kS]},$h={findFiberByHostInstance:Dl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UH={bundleType:$h.bundleType,version:$h.version,rendererPackageName:$h.rendererPackageName,rendererConfig:$h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=lI(n),n===null?null:n.stateNode},findFiberByHostInstance:$h.findFiberByHostInstance||FH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Em=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Em.isDisabled&&Em.supportsFiber)try{ry=Em.inject(UH),Xs=Em}catch{}}Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NH;Sr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GS(e))throw Error(be(200));return kH(n,e,null,t)};Sr.createRoot=function(n,e){if(!GS(n))throw Error(be(299));var t=!1,i="",r=zL;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=US(n,1,!1,null,null,t,!1,i,r),n[No]=e.current,od(n.nodeType===8?n.parentNode:n),new HS(e)};Sr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(be(188)):(n=Object.keys(n).join(","),Error(be(268,n)));return n=lI(e),n=n===null?null:n.stateNode,n};Sr.flushSync=function(n){return rc(n)};Sr.hydrate=function(n,e,t){if(!yy(e))throw Error(be(200));return vy(null,n,e,!0,t)};Sr.hydrateRoot=function(n,e,t){if(!GS(n))throw Error(be(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=zL;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=UL(e,null,n,1,t??null,r,!1,s,o),n[No]=e.current,od(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new gy(e)};Sr.render=function(n,e,t){if(!yy(e))throw Error(be(200));return vy(null,n,e,!1,t)};Sr.unmountComponentAtNode=function(n){if(!yy(n))throw Error(be(40));return n._reactRootContainer?(rc(function(){vy(null,null,n,!1,function(){n._reactRootContainer=null,n[No]=null})}),!0):!1};Sr.unstable_batchedUpdates=kS;Sr.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!yy(t))throw Error(be(200));if(n==null||n._reactInternals===void 0)throw Error(be(38));return vy(n,e,t,!1,i)};Sr.version="18.3.1-next-f1338f8080-20240426";function HL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HL)}catch(n){console.error(n)}}HL(),HB.exports=Sr;var zH=HB.exports,GL,yT=zH;GL=B_.createRoot=yT.createRoot,B_.hydrateRoot=yT.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},md.apply(this,arguments)}var Ol;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ol||(Ol={}));const vT="popstate";function HH(n){n===void 0&&(n={});function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=Hd(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),M1("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:P0(s))}function i(r,s){GH(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return WH(e,t,i,n)}function ps(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function GH(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VH(){return Math.random().toString(36).substr(2,8)}function xT(n,e){return{usr:n.state,key:n.key,idx:e}}function M1(n,e,t,i){return t===void 0&&(t=null),md({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Hd(e):e,{state:t,key:e&&e.key||i||VH()})}function P0(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Hd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function WH(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Ol.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(md({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Ol.Pop;let A=u(),g=A==null?null:A-c;c=A,l&&l({action:a,location:x.location,delta:g})}function p(A,g){a=Ol.Push;let w=M1(x.location,A,g);t&&t(w,A),c=u()+1;let _=xT(w,c),M=x.createHref(w);try{o.pushState(_,"",M)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;r.location.assign(M)}s&&l&&l({action:a,location:x.location,delta:1})}function m(A,g){a=Ol.Replace;let w=M1(x.location,A,g);t&&t(w,A),c=u();let _=xT(w,c),M=x.createHref(w);o.replaceState(_,"",M),s&&l&&l({action:a,location:x.location,delta:0})}function y(A){let g=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof A=="string"?A:P0(A);return w=w.replace(/ $/,"%20"),ps(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let x={get action(){return a},get location(){return n(r,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(vT,d),l=A,()=>{r.removeEventListener(vT,d),l=null}},createHref(A){return e(r,A)},createURL:y,encodeLocation(A){let g=y(A);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(A){return o.go(A)}};return x}var AT;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(AT||(AT={}));function VL(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function jH(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Hd(n):n;return{pathname:t?t.startsWith("/")?t:XH(t,e):e,search:YH(i),hash:KH(r)}}function XH(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function nA(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JH(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function WL(n,e){let t=JH(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function jL(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Hd(n):(r=md({},n),ps(!r.pathname||!r.pathname.includes("?"),nA("?","pathname","search",r)),ps(!r.pathname||!r.pathname.includes("#"),nA("#","pathname","hash",r)),ps(!r.search||!r.search.includes("#"),nA("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=jH(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const XL=n=>n.join("/").replace(/\/\/+/g,"/"),YH=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,KH=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,JL=["post","put","patch","delete"];new Set(JL);const qH=["get",...JL];new Set(qH);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function B0(){return B0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},B0.apply(this,arguments)}const YL=k.createContext(null),xh=k.createContext(null),VS=k.createContext(null),xy=k.createContext({outlet:null,matches:[],isDataRoute:!1});function QH(n,e){let{relative:t}=e===void 0?{}:e;Ay()||ps(!1);let{basename:i,navigator:r}=k.useContext(xh),{hash:s,pathname:o,search:a}=qL(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:XL([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Ay(){return k.useContext(VS)!=null}function WS(){return Ay()||ps(!1),k.useContext(VS).location}function KL(n){k.useContext(xh).static||k.useLayoutEffect(n)}function ZH(){let{isDataRoute:n}=k.useContext(xy);return n?iG():$H()}function $H(){Ay()||ps(!1);let n=k.useContext(YL),{basename:e,future:t,navigator:i}=k.useContext(xh),{matches:r}=k.useContext(xy),{pathname:s}=WS(),o=JSON.stringify(WL(r,t.v7_relativeSplatPath)),a=k.useRef(!1);return KL(()=>{a.current=!0}),k.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=jL(c,JSON.parse(o),s,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:XL([e,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[e,i,o,s,n])}function qL(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=k.useContext(xh),{matches:r}=k.useContext(xy),{pathname:s}=WS(),o=JSON.stringify(WL(r,i.v7_relativeSplatPath));return k.useMemo(()=>jL(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}var QL=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(QL||{}),ZL=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(ZL||{});function eG(n){let e=k.useContext(YL);return e||ps(!1),e}function tG(n){let e=k.useContext(xy);return e||ps(!1),e}function nG(n){let e=tG(),t=e.matches[e.matches.length-1];return t.route.id||ps(!1),t.route.id}function iG(){let{router:n}=eG(QL.UseNavigateStable),e=nG(ZL.UseNavigateStable),t=k.useRef(!1);return KL(()=>{t.current=!0}),k.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,B0({fromRouteId:e},s)))},[n,e])}function rG(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function sG(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Ol.Pop,navigator:s,static:o=!1,future:a}=n;Ay()&&ps(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:o,future:B0({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Hd(i));let{pathname:u="/",search:d="",hash:p="",state:m=null,key:y="default"}=i,x=k.useMemo(()=>{let A=VL(u,l);return A==null?null:{location:{pathname:A,search:d,hash:p,state:m,key:y},navigationType:r}},[l,u,d,p,m,y,r]);return x==null?null:k.createElement(xh.Provider,{value:c},k.createElement(VS.Provider,{children:t,value:x}))}new Promise(()=>{});/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function E1(){return E1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},E1.apply(this,arguments)}function oG(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function aG(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lG(n,e){return n.button===0&&(!e||e==="_self")&&!aG(n)}const cG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uG="6";try{window.__reactRouterVersion=uG}catch{}const hG="startTransition",_T=RU[hG];function fG(n){let{basename:e,children:t,future:i,window:r}=n,s=k.useRef();s.current==null&&(s.current=HH({window:r,v5Compat:!0}));let o=s.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=k.useCallback(d=>{c&&_T?_T(()=>l(d)):l(d)},[l,c]);return k.useLayoutEffect(()=>o.listen(u),[o,u]),k.useEffect(()=>rG(i),[i]),k.createElement(sG,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const dG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mG=k.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,p=oG(e,cG),{basename:m}=k.useContext(xh),y,x=!1;if(typeof c=="string"&&pG.test(c)&&(y=c,dG))try{let _=new URL(window.location.href),M=c.startsWith("//")?new URL(_.protocol+c):new URL(c),b=VL(M.pathname,m);M.origin===_.origin&&b!=null?c=b+M.search+M.hash:x=!0}catch{}let A=QH(c,{relative:r}),g=gG(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:d});function w(_){i&&i(_),_.defaultPrevented||g(_)}return k.createElement("a",E1({},p,{href:y||A,onClick:x||s?i:w,ref:t,target:l}))});var wT;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(wT||(wT={}));var ST;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ST||(ST={}));function gG(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=ZH(),c=WS(),u=qL(n,{relative:o});return k.useCallback(d=>{if(lG(d,t)){d.preventDefault();let p=i!==void 0?i:P0(c)===P0(u);l(n,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,i,r,t,n,s,o,a])}let yG={data:""},vG=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||yG,xG=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,AG=/\/\*[^]*?\*\/|  +/g,MT=/\n+/g,xa=(n,e)=>{let t="",i="",r="";for(let s in n){let o=n[s];s[0]=="@"?s[1]=="i"?t=s+" "+o+";":i+=s[1]=="f"?xa(o,s):s+"{"+xa(o,s[1]=="k"?"":e)+"}":typeof o=="object"?i+=xa(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=xa.p?xa.p(s,o):s+":"+o+";")}return t+(e&&r?e+"{"+r+"}":r)+i},lo={},$L=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+$L(n[t]);return e}return n},_G=(n,e,t,i,r)=>{let s=$L(n),o=lo[s]||(lo[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!lo[o]){let l=s!==n?n:(c=>{let u,d,p=[{}];for(;u=xG.exec(c.replace(AG,""));)u[4]?p.shift():u[3]?(d=u[3].replace(MT," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][u[1]]=u[2].replace(MT," ").trim();return p[0]})(n);lo[o]=xa(r?{["@keyframes "+o]:l}:l,t?"":"."+o)}let a=t&&lo.g?lo.g:null;return t&&(lo.g=lo[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(lo[o],e,i,a),o},wG=(n,e,t)=>n.reduce((i,r,s)=>{let o=e[s];if(o&&o.call){let a=o(t),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":xa(a,""):a===!1?"":a}return i+r+(o??"")},"");function _y(n){let e=this||{},t=n.call?n(e.p):n;return _G(t.unshift?t.raw?wG(t,[].slice.call(arguments,1),e.p):t.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):t,vG(e.target),e.g,e.o,e.k)}let eD,b1,C1;_y.bind({g:1});let Ho=_y.bind({k:1});function SG(n,e,t,i){xa.p=e,eD=n,b1=t,C1=i}function Qa(n,e){let t=this||{};return function(){let i=arguments;function r(s,o){let a=Object.assign({},s),l=a.className||r.className;t.p=Object.assign({theme:b1&&b1()},a),t.o=/ *go\d+/.test(l),a.className=_y.apply(t,i)+(l?" "+l:""),e&&(a.ref=o);let c=n;return n[0]&&(c=a.as||n,delete a.as),C1&&c[0]&&C1(a),eD(c,a)}return e?e(r):r}}var MG=n=>typeof n=="function",I0=(n,e)=>MG(n)?n(e):n,EG=(()=>{let n=0;return()=>(++n).toString()})(),tD=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),bG=20,jS="default",nD=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:i}=e;return nD(n,{type:n.toasts.find(o=>o.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let s=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},Ug=[],iD={toasts:[],pausedAt:void 0,settings:{toastLimit:bG}},Vs={},rD=(n,e=jS)=>{Vs[e]=nD(Vs[e]||iD,n),Ug.forEach(([t,i])=>{t===e&&i(Vs[e])})},sD=n=>Object.keys(Vs).forEach(e=>rD(n,e)),CG=n=>Object.keys(Vs).find(e=>Vs[e].toasts.some(t=>t.id===n)),wy=(n=jS)=>e=>{rD(e,n)},TG={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},RG=(n={},e=jS)=>{let[t,i]=k.useState(Vs[e]||iD),r=k.useRef(Vs[e]);k.useEffect(()=>(r.current!==Vs[e]&&i(Vs[e]),Ug.push([e,i]),()=>{let o=Ug.findIndex(([a])=>a===e);o>-1&&Ug.splice(o,1)}),[e]);let s=t.toasts.map(o=>{var a,l,c;return{...n,...n[o.type],...o,removeDelay:o.removeDelay||((a=n[o.type])==null?void 0:a.removeDelay)||(n==null?void 0:n.removeDelay),duration:o.duration||((l=n[o.type])==null?void 0:l.duration)||(n==null?void 0:n.duration)||TG[o.type],style:{...n.style,...(c=n[o.type])==null?void 0:c.style,...o.style}}});return{...t,toasts:s}},PG=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||EG()}),Gd=n=>(e,t)=>{let i=PG(e,n,t);return wy(i.toasterId||CG(i.id))({type:2,toast:i}),i.id},Vn=(n,e)=>Gd("blank")(n,e);Vn.error=Gd("error");Vn.success=Gd("success");Vn.loading=Gd("loading");Vn.custom=Gd("custom");Vn.dismiss=(n,e)=>{let t={type:3,toastId:n};e?wy(e)(t):sD(t)};Vn.dismissAll=n=>Vn.dismiss(void 0,n);Vn.remove=(n,e)=>{let t={type:4,toastId:n};e?wy(e)(t):sD(t)};Vn.removeAll=n=>Vn.remove(void 0,n);Vn.promise=(n,e,t)=>{let i=Vn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(r=>{let s=e.success?I0(e.success,r):void 0;return s?Vn.success(s,{id:i,...t,...t==null?void 0:t.success}):Vn.dismiss(i),r}).catch(r=>{let s=e.error?I0(e.error,r):void 0;s?Vn.error(s,{id:i,...t,...t==null?void 0:t.error}):Vn.dismiss(i)}),n};var BG=1e3,IG=(n,e="default")=>{let{toasts:t,pausedAt:i}=RG(n,e),r=k.useRef(new Map).current,s=k.useCallback((d,p=BG)=>{if(r.has(d))return;let m=setTimeout(()=>{r.delete(d),o({type:4,toastId:d})},p);r.set(d,m)},[]);k.useEffect(()=>{if(i)return;let d=Date.now(),p=t.map(m=>{if(m.duration===1/0)return;let y=(m.duration||0)+m.pauseDuration-(d-m.createdAt);if(y<0){m.visible&&Vn.dismiss(m.id);return}return setTimeout(()=>Vn.dismiss(m.id,e),y)});return()=>{p.forEach(m=>m&&clearTimeout(m))}},[t,i,e]);let o=k.useCallback(wy(e),[e]),a=k.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=k.useCallback((d,p)=>{o({type:1,toast:{id:d,height:p}})},[o]),c=k.useCallback(()=>{i&&o({type:6,time:Date.now()})},[i,o]),u=k.useCallback((d,p)=>{let{reverseOrder:m=!1,gutter:y=8,defaultPosition:x}=p||{},A=t.filter(_=>(_.position||x)===(d.position||x)&&_.height),g=A.findIndex(_=>_.id===d.id),w=A.filter((_,M)=>M<g&&_.visible).length;return A.filter(_=>_.visible).slice(...m?[w+1]:[0,w]).reduce((_,M)=>_+(M.height||0)+y,0)},[t]);return k.useEffect(()=>{t.forEach(d=>{if(d.dismissed)s(d.id,d.removeDelay);else{let p=r.get(d.id);p&&(clearTimeout(p),r.delete(d.id))}})},[t,s]),{toasts:t,handlers:{updateHeight:l,startPause:a,endPause:c,calculateOffset:u}}},LG=Ho`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,DG=Ho`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kG=Ho`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,FG=Qa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${LG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${DG} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${kG} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,OG=Ho`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,NG=Qa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${OG} 1s linear infinite;
`,UG=Ho`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,zG=Ho`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,HG=Qa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${UG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${zG} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,GG=Qa("div")`
  position: absolute;
`,VG=Qa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,WG=Ho`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jG=Qa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${WG} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,XG=({toast:n})=>{let{icon:e,type:t,iconTheme:i}=n;return e!==void 0?typeof e=="string"?k.createElement(jG,null,e):e:t==="blank"?null:k.createElement(VG,null,k.createElement(NG,{...i}),t!=="loading"&&k.createElement(GG,null,t==="error"?k.createElement(FG,{...i}):k.createElement(HG,{...i})))},JG=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,YG=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,KG="0%{opacity:0;} 100%{opacity:1;}",qG="0%{opacity:1;} 100%{opacity:0;}",QG=Qa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ZG=Qa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$G=(n,e)=>{let t=n.includes("top")?1:-1,[i,r]=tD()?[KG,qG]:[JG(t),YG(t)];return{animation:e?`${Ho(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ho(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},e4=k.memo(({toast:n,position:e,style:t,children:i})=>{let r=n.height?$G(n.position||e||"top-center",n.visible):{opacity:0},s=k.createElement(XG,{toast:n}),o=k.createElement(ZG,{...n.ariaProps},I0(n.message,n));return k.createElement(QG,{className:n.className,style:{...r,...t,...n.style}},typeof i=="function"?i({icon:s,message:o}):k.createElement(k.Fragment,null,s,o))});SG(k.createElement);var t4=({id:n,className:e,style:t,onHeightUpdate:i,children:r})=>{let s=k.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;i(n,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return k.createElement("div",{ref:s,className:e,style:t},r)},n4=(n,e)=>{let t=n.includes("top"),i=t?{top:0}:{bottom:0},r=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:tD()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...i,...r}},i4=_y`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bm=16,r4=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:i,children:r,toasterId:s,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:c}=IG(t,s);return k.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:bm,left:bm,right:bm,bottom:bm,pointerEvents:"none",...o},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,p=c.calculateOffset(u,{reverseOrder:n,gutter:i,defaultPosition:e}),m=n4(d,p);return k.createElement(t4,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?i4:"",style:m},u.type==="custom"?I0(u.message,u):r?r(u):k.createElement(e4,{toast:u,position:d}))}))},ET=Vn;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Vd="155",bl={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Cl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},oD=0,T1=1,aD=2,s4=3,lD=0,Sy=1,Of=2,as=3,Zs=0,Oi=1,Vr=2,o4=2,Bo=0,Yl=1,R1=2,P1=3,B1=4,cD=5,Il=100,uD=101,hD=102,I1=103,L1=104,fD=200,dD=201,pD=202,mD=203,XS=204,JS=205,gD=206,yD=207,vD=208,xD=209,AD=210,_D=0,wD=1,SD=2,L0=3,MD=4,ED=5,bD=6,CD=7,Wd=0,TD=1,RD=2,Ys=0,PD=1,BD=2,ID=3,YS=4,LD=5,My=300,Go=301,Ha=302,gd=303,yd=304,Ah=306,Ga=1e3,ci=1001,eh=1002,Mn=1003,vd=1004,a4=1004,Vu=1005,l4=1005,dn=1006,Ey=1007,c4=1007,$s=1008,u4=1008,Ks=1009,DD=1010,kD=1011,by=1012,KS=1013,bo=1014,Ws=1015,th=1016,qS=1017,QS=1018,Ba=1020,FD=1021,Yi=1023,OD=1024,ND=1025,Ia=1026,sc=1027,UD=1028,ZS=1029,zD=1030,$S=1031,eM=1033,zg=33776,Hg=33777,Gg=33778,Vg=33779,D1=35840,k1=35841,F1=35842,O1=35843,HD=36196,N1=37492,U1=37496,z1=37808,H1=37809,G1=37810,V1=37811,W1=37812,j1=37813,X1=37814,J1=37815,Y1=37816,K1=37817,q1=37818,Q1=37819,Z1=37820,$1=37821,Wg=36492,GD=36283,ew=36284,tw=36285,nw=36286,VD=2200,WD=2201,jD=2202,nh=2300,oc=2301,jg=2302,Nl=2400,Ul=2401,xd=2402,Cy=2500,tM=2501,XD=0,nM=1,D0=2,iM=3e3,La=3001,JD=3200,YD=3201,Za=0,KD=1,Da="",yt="srgb",_s="srgb-linear",rM="display-p3",h4=0,Xg=7680,f4=7681,d4=7682,p4=7683,m4=34055,g4=34056,y4=5386,v4=512,x4=513,A4=514,_4=515,w4=516,S4=517,M4=518,qD=519,QD=512,ZD=513,$D=514,ek=515,tk=516,nk=517,ik=518,rk=519,Ad=35044,E4=35048,b4=35040,C4=35045,T4=35049,R4=35041,P4=35046,B4=35050,I4=35042,L4="100",iw="300 es",k0=1035,js=2e3,_d=2001;let jo=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const wi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let bT=1234567;const Kl=Math.PI/180,ih=180/Math.PI;function yr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(wi[n&255]+wi[n>>8&255]+wi[n>>16&255]+wi[n>>24&255]+"-"+wi[e&255]+wi[e>>8&255]+"-"+wi[e>>16&15|64]+wi[e>>24&255]+"-"+wi[t&63|128]+wi[t>>8&255]+"-"+wi[t>>16&255]+wi[t>>24&255]+wi[i&255]+wi[i>>8&255]+wi[i>>16&255]+wi[i>>24&255]).toLowerCase()}function En(n,e,t){return Math.max(e,Math.min(t,n))}function sM(n,e){return(n%e+e)%e}function D4(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function k4(n,e,t){return n!==e?(t-n)/(e-n):0}function Nf(n,e,t){return(1-t)*n+t*e}function F4(n,e,t,i){return Nf(n,e,1-Math.exp(-t*i))}function O4(n,e=1){return e-Math.abs(sM(n,e*2)-e)}function N4(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function U4(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function z4(n,e){return n+Math.floor(Math.random()*(e-n+1))}function H4(n,e){return n+Math.random()*(e-n)}function G4(n){return n*(.5-Math.random())}function V4(n){n!==void 0&&(bT=n);let e=bT+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function W4(n){return n*Kl}function j4(n){return n*ih}function rw(n){return(n&n-1)===0&&n!==0}function sk(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function F0(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function X4(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),u=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*u,l*d,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*d,a*c);break;case"ZXZ":n.set(l*d,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*y,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*y,a*c);break;case"ZYZ":n.set(l*y,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ki(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function _t(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const oM={DEG2RAD:Kl,RAD2DEG:ih,generateUUID:yr,clamp:En,euclideanModulo:sM,mapLinear:D4,inverseLerp:k4,lerp:Nf,damp:F4,pingpong:O4,smoothstep:N4,smootherstep:U4,randInt:z4,randFloat:H4,randFloatSpread:G4,seededRandom:V4,degToRad:W4,radToDeg:j4,isPowerOfTwo:rw,ceilPowerOfTwo:sk,floorPowerOfTwo:F0,setQuaternionFromProperEuler:X4,normalize:_t,denormalize:Ki};class pe{constructor(e=0,t=0){pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(En(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Mt{constructor(e,t,i,r,s,o,a,l,c){Mt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],p=i[2],m=i[5],y=i[8],x=r[0],A=r[3],g=r[6],w=r[1],_=r[4],M=r[7],b=r[2],C=r[5],P=r[8];return s[0]=o*x+a*w+l*b,s[3]=o*A+a*_+l*C,s[6]=o*g+a*M+l*P,s[1]=c*x+u*w+d*b,s[4]=c*A+u*_+d*C,s[7]=c*g+u*M+d*P,s[2]=p*x+m*w+y*b,s[5]=p*A+m*_+y*C,s[8]=p*g+m*M+y*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,p=a*l-u*s,m=c*s-o*l,y=t*d+i*p+r*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/y;return e[0]=d*x,e[1]=(r*c-u*i)*x,e[2]=(a*i-r*o)*x,e[3]=p*x,e[4]=(u*t-r*l)*x,e[5]=(r*s-a*t)*x,e[6]=m*x,e[7]=(i*l-c*t)*x,e[8]=(o*t-i*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(iA.makeScale(e,t)),this}rotate(e){return this.premultiply(iA.makeRotation(-e)),this}translate(e,t){return this.premultiply(iA.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const iA=new Mt;function ok(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const J4={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Eu(n,e){return new J4[n](e)}function wd(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const CT={};function Uf(n){n in CT||(CT[n]=!0,console.warn(n))}function Wu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function rA(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Y4=new Mt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),K4=new Mt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function q4(n){return n.convertSRGBToLinear().applyMatrix3(K4)}function Q4(n){return n.applyMatrix3(Y4).convertLinearToSRGB()}const Z4={[_s]:n=>n,[yt]:n=>n.convertSRGBToLinear(),[rM]:q4},$4={[_s]:n=>n,[yt]:n=>n.convertLinearToSRGB(),[rM]:Q4},Or={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return _s},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=Z4[e],r=$4[t];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let zc;class aM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{zc===void 0&&(zc=wd("canvas")),zc.width=e.width,zc.height=e.height;const i=zc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=zc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=wd("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Wu(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Wu(t[i]/255)*255):t[i]=Wu(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let eV=0;class zl{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:eV++}),this.uuid=yr(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(sA(r[o].image)):s.push(sA(r[o]))}else s=sA(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function sA(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?aM.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let tV=0;class sn extends jo{constructor(e=sn.DEFAULT_IMAGE,t=sn.DEFAULT_MAPPING,i=ci,r=ci,s=dn,o=$s,a=Yi,l=Ks,c=sn.DEFAULT_ANISOTROPY,u=Da){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:tV++}),this.uuid=yr(),this.name="",this.source=new zl(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Mt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Uf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===La?yt:Da),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==My)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ga:e.x=e.x-Math.floor(e.x);break;case ci:e.x=e.x<0?0:1;break;case eh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ga:e.y=e.y-Math.floor(e.y);break;case ci:e.y=e.y<0?0:1;break;case eh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Uf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===yt?La:iM}set encoding(e){Uf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===La?yt:Da}}sn.DEFAULT_IMAGE=null;sn.DEFAULT_MAPPING=My;sn.DEFAULT_ANISOTROPY=1;class Xt{constructor(e=0,t=0,i=0,r=1){Xt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],p=l[1],m=l[5],y=l[9],x=l[2],A=l[6],g=l[10];if(Math.abs(u-p)<.01&&Math.abs(d-x)<.01&&Math.abs(y-A)<.01){if(Math.abs(u+p)<.1&&Math.abs(d+x)<.1&&Math.abs(y+A)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(c+1)/2,M=(m+1)/2,b=(g+1)/2,C=(u+p)/4,P=(d+x)/4,I=(y+A)/4;return _>M&&_>b?_<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(_),r=C/i,s=P/i):M>b?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=C/r,s=I/r):b<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(b),i=P/s,r=I/s),this.set(i,r,s,t),this}let w=Math.sqrt((A-y)*(A-y)+(d-x)*(d-x)+(p-u)*(p-u));return Math.abs(w)<.001&&(w=1),this.x=(A-y)/w,this.y=(d-x)/w,this.z=(p-u)/w,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ak extends jo{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Xt(0,0,e,t),this.scissorTest=!1,this.viewport=new Xt(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(Uf("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===La?yt:Da),this.texture=new sn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:dn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new zl(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ws extends ak{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Ty extends sn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Mn,this.minFilter=Mn,this.wrapR=ci,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nV extends ws{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Ty(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class lM extends sn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Mn,this.minFilter=Mn,this.wrapR=ci,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class iV extends ws{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new lM(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class rV extends ws{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class ni{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],y=s[o+2],x=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=x;return}if(d!==x||l!==p||c!==m||u!==y){let A=1-a;const g=l*p+c*m+u*y+d*x,w=g>=0?1:-1,_=1-g*g;if(_>Number.EPSILON){const b=Math.sqrt(_),C=Math.atan2(b,g*w);A=Math.sin(A*C)/b,a=Math.sin(a*C)/b}const M=a*w;if(l=l*A+p*M,c=c*A+m*M,u=u*A+y*M,d=d*A+x*M,A===1-a){const b=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=b,c*=b,u*=b,d*=b}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+u*d+l*m-c*p,e[t+1]=l*y+u*p+c*d-a*m,e[t+2]=c*y+u*m+a*p-l*d,e[t+3]=u*y-a*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),y=l(s/2);switch(o){case"XYZ":this._x=p*u*d+c*m*y,this._y=c*m*d-p*u*y,this._z=c*u*y+p*m*d,this._w=c*u*d-p*m*y;break;case"YXZ":this._x=p*u*d+c*m*y,this._y=c*m*d-p*u*y,this._z=c*u*y-p*m*d,this._w=c*u*d+p*m*y;break;case"ZXY":this._x=p*u*d-c*m*y,this._y=c*m*d+p*u*y,this._z=c*u*y+p*m*d,this._w=c*u*d-p*m*y;break;case"ZYX":this._x=p*u*d-c*m*y,this._y=c*m*d+p*u*y,this._z=c*u*y-p*m*d,this._w=c*u*d+p*m*y;break;case"YZX":this._x=p*u*d+c*m*y,this._y=c*m*d+p*u*y,this._z=c*u*y-p*m*d,this._w=c*u*d-p*m*y;break;case"XZY":this._x=p*u*d-c*m*y,this._y=c*m*d-p*u*y,this._z=c*u*y+p*m*d,this._w=c*u*d+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(En(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class D{constructor(e=0,t=0,i=0){D.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(TT.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(TT.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,u=l*i+a*t-s*r,d=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=c*l+p*-s+u*-a-d*-o,this.y=u*l+p*-o+d*-s-c*-a,this.z=d*l+p*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return oA.copy(this).projectOnVector(e),this.sub(oA)}reflect(e){return this.sub(oA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(En(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const oA=new D,TT=new ni;class bs{constructor(e=new D(1/0,1/0,1/0),t=new D(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(uo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(uo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=uo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Hc.copy(e.boundingBox),Hc.applyMatrix4(e.matrixWorld),this.union(Hc);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)uo.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(uo)}else r.boundingBox===null&&r.computeBoundingBox(),Hc.copy(r.boundingBox),Hc.applyMatrix4(e.matrixWorld),this.union(Hc)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,uo),uo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ef),Cm.subVectors(this.max,ef),Gc.subVectors(e.a,ef),Vc.subVectors(e.b,ef),Wc.subVectors(e.c,ef),ia.subVectors(Vc,Gc),ra.subVectors(Wc,Vc),dl.subVectors(Gc,Wc);let t=[0,-ia.z,ia.y,0,-ra.z,ra.y,0,-dl.z,dl.y,ia.z,0,-ia.x,ra.z,0,-ra.x,dl.z,0,-dl.x,-ia.y,ia.x,0,-ra.y,ra.x,0,-dl.y,dl.x,0];return!aA(t,Gc,Vc,Wc,Cm)||(t=[1,0,0,0,1,0,0,0,1],!aA(t,Gc,Vc,Wc,Cm))?!1:(Tm.crossVectors(ia,ra),t=[Tm.x,Tm.y,Tm.z],aA(t,Gc,Vc,Wc,Cm))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,uo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(uo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(co[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),co[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),co[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),co[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),co[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),co[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),co[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),co[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(co),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const co=[new D,new D,new D,new D,new D,new D,new D,new D],uo=new D,Hc=new bs,Gc=new D,Vc=new D,Wc=new D,ia=new D,ra=new D,dl=new D,ef=new D,Cm=new D,Tm=new D,pl=new D;function aA(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){pl.fromArray(n,s);const a=r.x*Math.abs(pl.x)+r.y*Math.abs(pl.y)+r.z*Math.abs(pl.z),l=e.dot(pl),c=t.dot(pl),u=i.dot(pl);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const sV=new bs,tf=new D,lA=new D;class qr{constructor(e=new D,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):sV.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;tf.subVectors(e,this.center);const t=tf.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(tf,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(lA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(tf.copy(e.center).add(lA)),this.expandByPoint(tf.copy(e.center).sub(lA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ho=new D,cA=new D,Rm=new D,sa=new D,uA=new D,Pm=new D,hA=new D;class yc{constructor(e=new D,t=new D(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ho)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ho.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ho.copy(this.origin).addScaledVector(this.direction,t),ho.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){cA.copy(e).add(t).multiplyScalar(.5),Rm.copy(t).sub(e).normalize(),sa.copy(this.origin).sub(cA);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Rm),a=sa.dot(this.direction),l=-sa.dot(Rm),c=sa.lengthSq(),u=Math.abs(1-o*o);let d,p,m,y;if(u>0)if(d=o*l-a,p=o*a-l,y=s*u,d>=0)if(p>=-y)if(p<=y){const x=1/u;d*=x,p*=x,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p<=-y?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=y?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(cA).addScaledVector(Rm,p),m}intersectSphere(e,t){ho.subVectors(e.center,this.origin);const i=ho.dot(this.direction),r=ho.dot(ho)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ho)!==null}intersectTriangle(e,t,i,r,s){uA.subVectors(t,e),Pm.subVectors(i,e),hA.crossVectors(uA,Pm);let o=this.direction.dot(hA),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;sa.subVectors(this.origin,e);const l=a*this.direction.dot(Pm.crossVectors(sa,Pm));if(l<0)return null;const c=a*this.direction.dot(uA.cross(sa));if(c<0||l+c>o)return null;const u=-a*sa.dot(hA);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ct{constructor(e,t,i,r,s,o,a,l,c,u,d,p,m,y,x,A){ct.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,u,d,p,m,y,x,A)}set(e,t,i,r,s,o,a,l,c,u,d,p,m,y,x,A){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=p,g[3]=m,g[7]=y,g[11]=x,g[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ct().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/jc.setFromMatrixColumn(e,0).length(),s=1/jc.setFromMatrixColumn(e,1).length(),o=1/jc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*d,y=a*u,x=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=m+y*c,t[5]=p-x*c,t[9]=-a*l,t[2]=x-p*c,t[6]=y+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*d,y=c*u,x=c*d;t[0]=p+x*a,t[4]=y*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=m*a-y,t[6]=x+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*d,y=c*u,x=c*d;t[0]=p-x*a,t[4]=-o*d,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*u,t[9]=x-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*d,y=a*u,x=a*d;t[0]=l*u,t[4]=y*c-m,t[8]=p*c+x,t[1]=l*d,t[5]=x*c+p,t[9]=m*c-y,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,y=a*l,x=a*c;t[0]=l*u,t[4]=x-p*d,t[8]=y*d+m,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*d+y,t[10]=p-x*d}else if(e.order==="XZY"){const p=o*l,m=o*c,y=a*l,x=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=p*d+x,t[5]=o*u,t[9]=m*d-y,t[2]=y*d-m,t[6]=a*u,t[10]=x*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(oV,e,aV)}lookAt(e,t,i){const r=this.elements;return cr.subVectors(e,t),cr.lengthSq()===0&&(cr.z=1),cr.normalize(),oa.crossVectors(i,cr),oa.lengthSq()===0&&(Math.abs(i.z)===1?cr.x+=1e-4:cr.z+=1e-4,cr.normalize(),oa.crossVectors(i,cr)),oa.normalize(),Bm.crossVectors(cr,oa),r[0]=oa.x,r[4]=Bm.x,r[8]=cr.x,r[1]=oa.y,r[5]=Bm.y,r[9]=cr.y,r[2]=oa.z,r[6]=Bm.z,r[10]=cr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],p=i[9],m=i[13],y=i[2],x=i[6],A=i[10],g=i[14],w=i[3],_=i[7],M=i[11],b=i[15],C=r[0],P=r[4],I=r[8],T=r[12],B=r[1],G=r[5],Q=r[9],J=r[13],q=r[2],ee=r[6],ie=r[10],te=r[14],F=r[3],X=r[7],j=r[11],z=r[15];return s[0]=o*C+a*B+l*q+c*F,s[4]=o*P+a*G+l*ee+c*X,s[8]=o*I+a*Q+l*ie+c*j,s[12]=o*T+a*J+l*te+c*z,s[1]=u*C+d*B+p*q+m*F,s[5]=u*P+d*G+p*ee+m*X,s[9]=u*I+d*Q+p*ie+m*j,s[13]=u*T+d*J+p*te+m*z,s[2]=y*C+x*B+A*q+g*F,s[6]=y*P+x*G+A*ee+g*X,s[10]=y*I+x*Q+A*ie+g*j,s[14]=y*T+x*J+A*te+g*z,s[3]=w*C+_*B+M*q+b*F,s[7]=w*P+_*G+M*ee+b*X,s[11]=w*I+_*Q+M*ie+b*j,s[15]=w*T+_*J+M*te+b*z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],p=e[10],m=e[14],y=e[3],x=e[7],A=e[11],g=e[15];return y*(+s*l*d-r*c*d-s*a*p+i*c*p+r*a*m-i*l*m)+x*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*u-s*l*u)+A*(+t*c*d-t*a*m-s*o*d+i*o*m+s*a*u-i*c*u)+g*(-r*a*u-t*l*d+t*a*p+r*o*d-i*o*p+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],p=e[10],m=e[11],y=e[12],x=e[13],A=e[14],g=e[15],w=d*A*c-x*p*c+x*l*m-a*A*m-d*l*g+a*p*g,_=y*p*c-u*A*c-y*l*m+o*A*m+u*l*g-o*p*g,M=u*x*c-y*d*c+y*a*m-o*x*m-u*a*g+o*d*g,b=y*d*l-u*x*l-y*a*p+o*x*p+u*a*A-o*d*A,C=t*w+i*_+r*M+s*b;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/C;return e[0]=w*P,e[1]=(x*p*s-d*A*s-x*r*m+i*A*m+d*r*g-i*p*g)*P,e[2]=(a*A*s-x*l*s+x*r*c-i*A*c-a*r*g+i*l*g)*P,e[3]=(d*l*s-a*p*s-d*r*c+i*p*c+a*r*m-i*l*m)*P,e[4]=_*P,e[5]=(u*A*s-y*p*s+y*r*m-t*A*m-u*r*g+t*p*g)*P,e[6]=(y*l*s-o*A*s-y*r*c+t*A*c+o*r*g-t*l*g)*P,e[7]=(o*p*s-u*l*s+u*r*c-t*p*c-o*r*m+t*l*m)*P,e[8]=M*P,e[9]=(y*d*s-u*x*s-y*i*m+t*x*m+u*i*g-t*d*g)*P,e[10]=(o*x*s-y*a*s+y*i*c-t*x*c-o*i*g+t*a*g)*P,e[11]=(u*a*s-o*d*s-u*i*c+t*d*c+o*i*m-t*a*m)*P,e[12]=b*P,e[13]=(u*x*r-y*d*r+y*i*p-t*x*p-u*i*A+t*d*A)*P,e[14]=(y*a*r-o*x*r-y*i*l+t*x*l+o*i*A-t*a*A)*P,e[15]=(o*d*r-u*a*r+u*i*l-t*d*l-o*i*p+t*a*p)*P,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,p=s*c,m=s*u,y=s*d,x=o*u,A=o*d,g=a*d,w=l*c,_=l*u,M=l*d,b=i.x,C=i.y,P=i.z;return r[0]=(1-(x+g))*b,r[1]=(m+M)*b,r[2]=(y-_)*b,r[3]=0,r[4]=(m-M)*C,r[5]=(1-(p+g))*C,r[6]=(A+w)*C,r[7]=0,r[8]=(y+_)*P,r[9]=(A-w)*P,r[10]=(1-(p+x))*P,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=jc.set(r[0],r[1],r[2]).length();const o=jc.set(r[4],r[5],r[6]).length(),a=jc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],is.copy(this);const c=1/s,u=1/o,d=1/a;return is.elements[0]*=c,is.elements[1]*=c,is.elements[2]*=c,is.elements[4]*=u,is.elements[5]*=u,is.elements[6]*=u,is.elements[8]*=d,is.elements[9]*=d,is.elements[10]*=d,t.setFromRotationMatrix(is),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=js){const l=this.elements,c=2*s/(t-e),u=2*s/(i-r),d=(t+e)/(t-e),p=(i+r)/(i-r);let m,y;if(a===js)m=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===_d)m=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=js){const l=this.elements,c=1/(t-e),u=1/(i-r),d=1/(o-s),p=(t+e)*c,m=(i+r)*u;let y,x;if(a===js)y=(o+s)*d,x=-2*d;else if(a===_d)y=s*d,x=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const jc=new D,is=new ct,oV=new D(0,0,0),aV=new D(1,1,1),oa=new D,Bm=new D,cr=new D,RT=new ct,PT=new ni;class vc{constructor(e=0,t=0,i=0,r=vc.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(En(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-En(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(En(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-En(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(En(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-En(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return RT.makeRotationFromQuaternion(e),this.setFromRotationMatrix(RT,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return PT.setFromEuler(this),this.setFromQuaternion(PT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}vc.DEFAULT_ORDER="XYZ";class ql{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let lV=0;const BT=new D,Xc=new ni,fo=new ct,Im=new D,nf=new D,cV=new D,uV=new ni,IT=new D(1,0,0),LT=new D(0,1,0),DT=new D(0,0,1),hV={type:"added"},kT={type:"removed"};class It extends jo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:lV++}),this.uuid=yr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=It.DEFAULT_UP.clone();const e=new D,t=new vc,i=new ni,r=new D(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ct},normalMatrix:{value:new Mt}}),this.matrix=new ct,this.matrixWorld=new ct,this.matrixAutoUpdate=It.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=It.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new ql,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Xc.setFromAxisAngle(e,t),this.quaternion.multiply(Xc),this}rotateOnWorldAxis(e,t){return Xc.setFromAxisAngle(e,t),this.quaternion.premultiply(Xc),this}rotateX(e){return this.rotateOnAxis(IT,e)}rotateY(e){return this.rotateOnAxis(LT,e)}rotateZ(e){return this.rotateOnAxis(DT,e)}translateOnAxis(e,t){return BT.copy(e).applyQuaternion(this.quaternion),this.position.add(BT.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(IT,e)}translateY(e){return this.translateOnAxis(LT,e)}translateZ(e){return this.translateOnAxis(DT,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(fo.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Im.copy(e):Im.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),nf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fo.lookAt(nf,Im,this.up):fo.lookAt(Im,nf,this.up),this.quaternion.setFromRotationMatrix(fo),r&&(fo.extractRotation(r.matrixWorld),Xc.setFromRotationMatrix(fo),this.quaternion.premultiply(Xc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(hV)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(kT)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(kT)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),fo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),fo.multiply(e.parent.matrixWorld)),e.applyMatrix4(fo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nf,e,cV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nf,uV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}It.DEFAULT_UP=new D(0,1,0);It.DEFAULT_MATRIX_AUTO_UPDATE=!0;It.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const rs=new D,po=new D,fA=new D,mo=new D,Jc=new D,Yc=new D,FT=new D,dA=new D,pA=new D,mA=new D;let Lm=!1;class Ji{constructor(e=new D,t=new D,i=new D){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),rs.subVectors(e,t),r.cross(rs);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){rs.subVectors(r,t),po.subVectors(i,t),fA.subVectors(e,t);const o=rs.dot(rs),a=rs.dot(po),l=rs.dot(fA),c=po.dot(po),u=po.dot(fA),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(c*l-a*u)*p,y=(o*u-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,mo),mo.x>=0&&mo.y>=0&&mo.x+mo.y<=1}static getUV(e,t,i,r,s,o,a,l){return Lm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Lm=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,mo),l.setScalar(0),l.addScaledVector(s,mo.x),l.addScaledVector(o,mo.y),l.addScaledVector(a,mo.z),l}static isFrontFacing(e,t,i,r){return rs.subVectors(i,t),po.subVectors(e,t),rs.cross(po).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return rs.subVectors(this.c,this.b),po.subVectors(this.a,this.b),rs.cross(po).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ji.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ji.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Lm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Lm=!0),Ji.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Ji.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Ji.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ji.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Jc.subVectors(r,i),Yc.subVectors(s,i),dA.subVectors(e,i);const l=Jc.dot(dA),c=Yc.dot(dA);if(l<=0&&c<=0)return t.copy(i);pA.subVectors(e,r);const u=Jc.dot(pA),d=Yc.dot(pA);if(u>=0&&d<=u)return t.copy(r);const p=l*d-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(Jc,o);mA.subVectors(e,s);const m=Jc.dot(mA),y=Yc.dot(mA);if(y>=0&&m<=y)return t.copy(s);const x=m*c-l*y;if(x<=0&&c>=0&&y<=0)return a=c/(c-y),t.copy(i).addScaledVector(Yc,a);const A=u*y-m*d;if(A<=0&&d-u>=0&&m-y>=0)return FT.subVectors(s,r),a=(d-u)/(d-u+(m-y)),t.copy(r).addScaledVector(FT,a);const g=1/(A+x+p);return o=x*g,a=p*g,t.copy(i).addScaledVector(Jc,o).addScaledVector(Yc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let fV=0;class Xn extends jo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:fV++}),this.uuid=yr(),this.name="",this.type="Material",this.blending=Yl,this.side=Zs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=XS,this.blendDst=JS,this.blendEquation=Il,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=L0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=qD,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Xg,this.stencilZFail=Xg,this.stencilZPass=Xg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Yl&&(i.blending=this.blending),this.side!==Zs&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const lk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ss={h:0,s:0,l:0},Dm={h:0,s:0,l:0};function gA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ke{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=yt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Or.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Or.workingColorSpace){return this.r=e,this.g=t,this.b=i,Or.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Or.workingColorSpace){if(e=sM(e,1),t=En(t,0,1),i=En(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=gA(o,s,e+1/3),this.g=gA(o,s,e),this.b=gA(o,s,e-1/3)}return Or.toWorkingColorSpace(this,r),this}setStyle(e,t=yt){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=yt){const i=lk[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Wu(e.r),this.g=Wu(e.g),this.b=Wu(e.b),this}copyLinearToSRGB(e){return this.r=rA(e.r),this.g=rA(e.g),this.b=rA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=yt){return Or.fromWorkingColorSpace(Si.copy(this),e),Math.round(En(Si.r*255,0,255))*65536+Math.round(En(Si.g*255,0,255))*256+Math.round(En(Si.b*255,0,255))}getHexString(e=yt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Or.workingColorSpace){Or.fromWorkingColorSpace(Si.copy(this),t);const i=Si.r,r=Si.g,s=Si.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Or.workingColorSpace){return Or.fromWorkingColorSpace(Si.copy(this),t),e.r=Si.r,e.g=Si.g,e.b=Si.b,e}getStyle(e=yt){Or.fromWorkingColorSpace(Si.copy(this),e);const t=Si.r,i=Si.g,r=Si.b;return e!==yt?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(ss),ss.h+=e,ss.s+=t,ss.l+=i,this.setHSL(ss.h,ss.s,ss.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(ss),e.getHSL(Dm);const i=Nf(ss.h,Dm.h,t),r=Nf(ss.s,Dm.s,t),s=Nf(ss.l,Dm.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Si=new ke;ke.NAMES=lk;class mr extends Xn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const So=dV();function dV(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function ji(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=En(n,-65504,65504),So.floatView[0]=n;const e=So.uint32View[0],t=e>>23&511;return So.baseTable[t]+((e&8388607)>>So.shiftTable[t])}function Mf(n){const e=n>>10;return So.uint32View[0]=So.mantissaTable[So.offsetTable[e]+(n&1023)]+So.exponentTable[e],So.floatView[0]}const pV={toHalfFloat:ji,fromHalfFloat:Mf},Dn=new D,km=new pe;class zt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Ad,this.updateRange={offset:0,count:-1},this.gpuType=Ws,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)km.fromBufferAttribute(this,t),km.applyMatrix3(e),this.setXY(t,km.x,km.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Dn.fromBufferAttribute(this,t),Dn.applyMatrix3(e),this.setXYZ(t,Dn.x,Dn.y,Dn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Dn.fromBufferAttribute(this,t),Dn.applyMatrix4(e),this.setXYZ(t,Dn.x,Dn.y,Dn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Dn.fromBufferAttribute(this,t),Dn.applyNormalMatrix(e),this.setXYZ(t,Dn.x,Dn.y,Dn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Dn.fromBufferAttribute(this,t),Dn.transformDirection(e),this.setXYZ(t,Dn.x,Dn.y,Dn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Ki(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=_t(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ki(t,this.array)),t}setX(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ki(t,this.array)),t}setY(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ki(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ki(t,this.array)),t}setW(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array),s=_t(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ad&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class mV extends zt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class gV extends zt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class yV extends zt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class vV extends zt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class cM extends zt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class xV extends zt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class uM extends zt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class AV extends zt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Mf(this.array[e*this.itemSize]);return this.normalized&&(t=Ki(t,this.array)),t}setX(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize]=ji(t),this}getY(e){let t=Mf(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ki(t,this.array)),t}setY(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+1]=ji(t),this}getZ(e){let t=Mf(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ki(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+2]=ji(t),this}getW(e){let t=Mf(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ki(t,this.array)),t}setW(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+3]=ji(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array)),this.array[e+0]=ji(t),this.array[e+1]=ji(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.array[e+0]=ji(t),this.array[e+1]=ji(i),this.array[e+2]=ji(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array),s=_t(s,this.array)),this.array[e+0]=ji(t),this.array[e+1]=ji(i),this.array[e+2]=ji(r),this.array[e+3]=ji(s),this}}class Je extends zt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class _V extends zt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let wV=0;const Lr=new ct,yA=new It,Kc=new D,ur=new bs,rf=new bs,Zn=new D;class vt extends jo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:wV++}),this.uuid=yr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ok(e)?uM:cM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Mt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Lr.makeRotationFromQuaternion(e),this.applyMatrix4(Lr),this}rotateX(e){return Lr.makeRotationX(e),this.applyMatrix4(Lr),this}rotateY(e){return Lr.makeRotationY(e),this.applyMatrix4(Lr),this}rotateZ(e){return Lr.makeRotationZ(e),this.applyMatrix4(Lr),this}translate(e,t,i){return Lr.makeTranslation(e,t,i),this.applyMatrix4(Lr),this}scale(e,t,i){return Lr.makeScale(e,t,i),this.applyMatrix4(Lr),this}lookAt(e){return yA.lookAt(e),yA.updateMatrix(),this.applyMatrix4(yA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kc).negate(),this.translate(Kc.x,Kc.y,Kc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Je(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new bs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new D(-1/0,-1/0,-1/0),new D(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];ur.setFromBufferAttribute(s),this.morphTargetsRelative?(Zn.addVectors(this.boundingBox.min,ur.min),this.boundingBox.expandByPoint(Zn),Zn.addVectors(this.boundingBox.max,ur.max),this.boundingBox.expandByPoint(Zn)):(this.boundingBox.expandByPoint(ur.min),this.boundingBox.expandByPoint(ur.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new D,1/0);return}if(e){const i=this.boundingSphere.center;if(ur.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];rf.setFromBufferAttribute(a),this.morphTargetsRelative?(Zn.addVectors(ur.min,rf.min),ur.expandByPoint(Zn),Zn.addVectors(ur.max,rf.max),ur.expandByPoint(Zn)):(ur.expandByPoint(rf.min),ur.expandByPoint(rf.max))}ur.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Zn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Zn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Zn.fromBufferAttribute(a,c),l&&(Kc.fromBufferAttribute(e,c),Zn.add(Kc)),r=Math.max(r,i.distanceToSquared(Zn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new zt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let B=0;B<a;B++)c[B]=new D,u[B]=new D;const d=new D,p=new D,m=new D,y=new pe,x=new pe,A=new pe,g=new D,w=new D;function _(B,G,Q){d.fromArray(r,B*3),p.fromArray(r,G*3),m.fromArray(r,Q*3),y.fromArray(o,B*2),x.fromArray(o,G*2),A.fromArray(o,Q*2),p.sub(d),m.sub(d),x.sub(y),A.sub(y);const J=1/(x.x*A.y-A.x*x.y);isFinite(J)&&(g.copy(p).multiplyScalar(A.y).addScaledVector(m,-x.y).multiplyScalar(J),w.copy(m).multiplyScalar(x.x).addScaledVector(p,-A.x).multiplyScalar(J),c[B].add(g),c[G].add(g),c[Q].add(g),u[B].add(w),u[G].add(w),u[Q].add(w))}let M=this.groups;M.length===0&&(M=[{start:0,count:i.length}]);for(let B=0,G=M.length;B<G;++B){const Q=M[B],J=Q.start,q=Q.count;for(let ee=J,ie=J+q;ee<ie;ee+=3)_(i[ee+0],i[ee+1],i[ee+2])}const b=new D,C=new D,P=new D,I=new D;function T(B){P.fromArray(s,B*3),I.copy(P);const G=c[B];b.copy(G),b.sub(P.multiplyScalar(P.dot(G))).normalize(),C.crossVectors(I,G);const J=C.dot(u[B])<0?-1:1;l[B*4]=b.x,l[B*4+1]=b.y,l[B*4+2]=b.z,l[B*4+3]=J}for(let B=0,G=M.length;B<G;++B){const Q=M[B],J=Q.start,q=Q.count;for(let ee=J,ie=J+q;ee<ie;ee+=3)T(i[ee+0]),T(i[ee+1]),T(i[ee+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new zt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new D,s=new D,o=new D,a=new D,l=new D,c=new D,u=new D,d=new D;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),x=e.getX(p+1),A=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,x),o.fromBufferAttribute(t,A),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,x),c.fromBufferAttribute(i,A),a.add(u),l.add(u),c.add(u),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(A,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(p+0,u.x,u.y,u.z),i.setXYZ(p+1,u.x,u.y,u.z),i.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Zn.fromBufferAttribute(e,t),Zn.normalize(),e.setXYZ(t,Zn.x,Zn.y,Zn.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,p=new c.constructor(l.length*u);let m=0,y=0;for(let x=0,A=l.length;x<A;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*u;for(let g=0;g<u;g++)p[y++]=c[m++]}return new zt(p,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new vt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const p=c[u],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let p=0,m=d.length;p<m;p++)u.push(d[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const OT=new ct,ml=new yc,Fm=new qr,NT=new D,qc=new D,Qc=new D,Zc=new D,vA=new D,Om=new D,Nm=new pe,Um=new pe,zm=new pe,UT=new D,zT=new D,HT=new D,Hm=new D,Gm=new D;class jn extends It{constructor(e=new vt,t=new mr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Om.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(vA.fromBufferAttribute(d,e),o?Om.addScaledVector(vA,u):Om.addScaledVector(vA.sub(t),u))}t.add(Om)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Fm.copy(i.boundingSphere),Fm.applyMatrix4(s),ml.copy(e.ray).recast(e.near),!(Fm.containsPoint(ml.origin)===!1&&(ml.intersectSphere(Fm,NT)===null||ml.origin.distanceToSquared(NT)>(e.far-e.near)**2))&&(OT.copy(s).invert(),ml.copy(e.ray).applyMatrix4(OT),!(i.boundingBox!==null&&ml.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,ml)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,x=p.length;y<x;y++){const A=p[y],g=o[A.materialIndex],w=Math.max(A.start,m.start),_=Math.min(a.count,Math.min(A.start+A.count,m.start+m.count));for(let M=w,b=_;M<b;M+=3){const C=a.getX(M),P=a.getX(M+1),I=a.getX(M+2);r=Vm(this,g,e,i,c,u,d,C,P,I),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const y=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let A=y,g=x;A<g;A+=3){const w=a.getX(A),_=a.getX(A+1),M=a.getX(A+2);r=Vm(this,o,e,i,c,u,d,w,_,M),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,x=p.length;y<x;y++){const A=p[y],g=o[A.materialIndex],w=Math.max(A.start,m.start),_=Math.min(l.count,Math.min(A.start+A.count,m.start+m.count));for(let M=w,b=_;M<b;M+=3){const C=M,P=M+1,I=M+2;r=Vm(this,g,e,i,c,u,d,C,P,I),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const y=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let A=y,g=x;A<g;A+=3){const w=A,_=A+1,M=A+2;r=Vm(this,o,e,i,c,u,d,w,_,M),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}}}function SV(n,e,t,i,r,s,o,a){let l;if(e.side===Oi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Zs,a),l===null)return null;Gm.copy(a),Gm.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Gm);return c<t.near||c>t.far?null:{distance:c,point:Gm.clone(),object:n}}function Vm(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,qc),n.getVertexPosition(l,Qc),n.getVertexPosition(c,Zc);const u=SV(n,e,t,i,qc,Qc,Zc,Hm);if(u){r&&(Nm.fromBufferAttribute(r,a),Um.fromBufferAttribute(r,l),zm.fromBufferAttribute(r,c),u.uv=Ji.getInterpolation(Hm,qc,Qc,Zc,Nm,Um,zm,new pe)),s&&(Nm.fromBufferAttribute(s,a),Um.fromBufferAttribute(s,l),zm.fromBufferAttribute(s,c),u.uv1=Ji.getInterpolation(Hm,qc,Qc,Zc,Nm,Um,zm,new pe),u.uv2=u.uv1),o&&(UT.fromBufferAttribute(o,a),zT.fromBufferAttribute(o,l),HT.fromBufferAttribute(o,c),u.normal=Ji.getInterpolation(Hm,qc,Qc,Zc,UT,zT,HT,new D),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new D,materialIndex:0};Ji.getNormal(qc,Qc,Zc,d.normal),u.face=d}return u}class xc extends vt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let p=0,m=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Je(c,3)),this.setAttribute("normal",new Je(u,3)),this.setAttribute("uv",new Je(d,2));function y(x,A,g,w,_,M,b,C,P,I,T){const B=M/P,G=b/I,Q=M/2,J=b/2,q=C/2,ee=P+1,ie=I+1;let te=0,F=0;const X=new D;for(let j=0;j<ie;j++){const z=j*G-J;for(let Y=0;Y<ee;Y++){const fe=Y*B-Q;X[x]=fe*w,X[A]=z*_,X[g]=q,c.push(X.x,X.y,X.z),X[x]=0,X[A]=0,X[g]=C>0?1:-1,u.push(X.x,X.y,X.z),d.push(Y/P),d.push(1-j/I),te+=1}}for(let j=0;j<I;j++)for(let z=0;z<P;z++){const Y=p+z+ee*j,fe=p+z+ee*(j+1),ye=p+(z+1)+ee*(j+1),we=p+(z+1)+ee*j;l.push(Y,fe,we),l.push(fe,ye,we),F+=6}a.addGroup(m,F,T),m+=F,p+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function rh(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Li(n){const e={};for(let t=0;t<n.length;t++){const i=rh(n[t]);for(const r in i)e[r]=i[r]}return e}function MV(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function ck(n){return n.getRenderTarget()===null?n.outputColorSpace:_s}const uk={clone:rh,merge:Li};var EV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,bV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class eo extends Xn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=EV,this.fragmentShader=bV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=rh(e.uniforms),this.uniformsGroups=MV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class jd extends It{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ct,this.projectionMatrix=new ct,this.projectionMatrixInverse=new ct,this.coordinateSystem=js}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class cn extends jd{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=ih*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Kl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ih*2*Math.atan(Math.tan(Kl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Kl*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const $c=-90,eu=1;class hM extends It{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new cn($c,eu,e,t);r.layers=this.layers,this.add(r);const s=new cn($c,eu,e,t);s.layers=this.layers,this.add(s);const o=new cn($c,eu,e,t);o.layers=this.layers,this.add(o);const a=new cn($c,eu,e,t);a.layers=this.layers,this.add(a);const l=new cn($c,eu,e,t);l.layers=this.layers,this.add(l);const c=new cn($c,eu,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===js)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===_d)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.xr.enabled;e.xr.enabled=!1;const p=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=p,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(u),e.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}class Xd extends sn{constructor(e,t,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Go,super(e,t,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class fM extends ws{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(Uf("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===La?yt:Da),this.texture=new Xd(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:dn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new xc(5,5,5),s=new eo({name:"CubemapFromEquirect",uniforms:rh(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Oi,blending:Bo});s.uniforms.tEquirect.value=t;const o=new jn(r,s),a=t.minFilter;return t.minFilter===$s&&(t.minFilter=dn),new hM(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const xA=new D,CV=new D,TV=new Mt;class _o{constructor(e=new D(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=xA.subVectors(i,t).cross(CV.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(xA),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||TV.getNormalMatrix(e),r=this.coplanarPoint(xA).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const gl=new qr,Wm=new D;class Ry{constructor(e=new _o,t=new _o,i=new _o,r=new _o,s=new _o,o=new _o){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=js){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],d=r[6],p=r[7],m=r[8],y=r[9],x=r[10],A=r[11],g=r[12],w=r[13],_=r[14],M=r[15];if(i[0].setComponents(l-s,p-c,A-m,M-g).normalize(),i[1].setComponents(l+s,p+c,A+m,M+g).normalize(),i[2].setComponents(l+o,p+u,A+y,M+w).normalize(),i[3].setComponents(l-o,p-u,A-y,M-w).normalize(),i[4].setComponents(l-a,p-d,A-x,M-_).normalize(),t===js)i[5].setComponents(l+a,p+d,A+x,M+_).normalize();else if(t===_d)i[5].setComponents(a,d,x,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),gl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),gl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(gl)}intersectsSprite(e){return gl.center.set(0,0,0),gl.radius=.7071067811865476,gl.applyMatrix4(e.matrixWorld),this.intersectsSphere(gl)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Wm.x=r.normal.x>0?e.max.x:e.min.x,Wm.y=r.normal.y>0?e.max.y:e.min.y,Wm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Wm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function hk(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function RV(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,u){const d=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,d,p),c.onUploadCallback();let y;if(d instanceof Float32Array)y=n.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)y=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)y=n.SHORT;else if(d instanceof Uint32Array)y=n.UNSIGNED_INT;else if(d instanceof Int32Array)y=n.INT;else if(d instanceof Int8Array)y=n.BYTE;else if(d instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const p=u.array,m=u.updateRange;n.bindBuffer(d,c),m.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d===void 0?i.set(c,r(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class Jd extends vt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,p=t/l,m=[],y=[],x=[],A=[];for(let g=0;g<u;g++){const w=g*p-o;for(let _=0;_<c;_++){const M=_*d-s;y.push(M,-w,0),x.push(0,0,1),A.push(_/a),A.push(1-g/l)}}for(let g=0;g<l;g++)for(let w=0;w<a;w++){const _=w+c*g,M=w+c*(g+1),b=w+1+c*(g+1),C=w+1+c*g;m.push(_,M,C),m.push(M,b,C)}this.setIndex(m),this.setAttribute("position",new Je(y,3)),this.setAttribute("normal",new Je(x,3)),this.setAttribute("uv",new Je(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jd(e.width,e.height,e.widthSegments,e.heightSegments)}}var PV=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,BV=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,IV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,LV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,DV=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,kV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,FV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,OV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,NV=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,UV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,zV=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,HV=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,GV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,VV=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,WV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,jV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,XV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,JV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,YV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,KV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,qV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,QV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,ZV=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,$V=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,e5=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,t5=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,n5=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,i5=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,r5="gl_FragColor = linearToOutputTexel( gl_FragColor );",s5=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,o5=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,a5=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,l5=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,c5=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,u5=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,h5=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,f5=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,d5=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,p5=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,m5=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,g5=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,y5=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,v5=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,x5=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,A5=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,_5=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,w5=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,S5=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,M5=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,E5=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,b5=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,C5=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,T5=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,R5=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,P5=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,B5=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,I5=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,L5=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,D5=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,k5=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,F5=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,O5=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,N5=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,U5=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,z5=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,H5=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,G5=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,V5=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,W5=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,j5=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,X5=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,J5=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Y5=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,K5=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,q5=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Q5=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Z5=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,$5=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,e9=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,t9=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,n9=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,i9=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,r9=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,s9=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,o9=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,a9=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,l9=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,c9=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,u9=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,h9=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,f9=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,d9=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,p9=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,m9=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,g9=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,y9=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,v9=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,x9=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,A9=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,_9=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,w9=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,S9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,M9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,E9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,b9=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const C9=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,T9=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,R9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,P9=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,B9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,I9=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,L9=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,D9=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,k9=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,F9=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,O9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,N9=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,U9=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,z9=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,H9=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,G9=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,V9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,W9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,j9=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,X9=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,J9=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Y9=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,K9=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,q9=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Q9=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Z9=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$9=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,e8=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,t8=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,n8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,i8=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,r8=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,s8=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,o8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,At={alphahash_fragment:PV,alphahash_pars_fragment:BV,alphamap_fragment:IV,alphamap_pars_fragment:LV,alphatest_fragment:DV,alphatest_pars_fragment:kV,aomap_fragment:FV,aomap_pars_fragment:OV,begin_vertex:NV,beginnormal_vertex:UV,bsdfs:zV,iridescence_fragment:HV,bumpmap_pars_fragment:GV,clipping_planes_fragment:VV,clipping_planes_pars_fragment:WV,clipping_planes_pars_vertex:jV,clipping_planes_vertex:XV,color_fragment:JV,color_pars_fragment:YV,color_pars_vertex:KV,color_vertex:qV,common:QV,cube_uv_reflection_fragment:ZV,defaultnormal_vertex:$V,displacementmap_pars_vertex:e5,displacementmap_vertex:t5,emissivemap_fragment:n5,emissivemap_pars_fragment:i5,colorspace_fragment:r5,colorspace_pars_fragment:s5,envmap_fragment:o5,envmap_common_pars_fragment:a5,envmap_pars_fragment:l5,envmap_pars_vertex:c5,envmap_physical_pars_fragment:_5,envmap_vertex:u5,fog_vertex:h5,fog_pars_vertex:f5,fog_fragment:d5,fog_pars_fragment:p5,gradientmap_pars_fragment:m5,lightmap_fragment:g5,lightmap_pars_fragment:y5,lights_lambert_fragment:v5,lights_lambert_pars_fragment:x5,lights_pars_begin:A5,lights_toon_fragment:w5,lights_toon_pars_fragment:S5,lights_phong_fragment:M5,lights_phong_pars_fragment:E5,lights_physical_fragment:b5,lights_physical_pars_fragment:C5,lights_fragment_begin:T5,lights_fragment_maps:R5,lights_fragment_end:P5,logdepthbuf_fragment:B5,logdepthbuf_pars_fragment:I5,logdepthbuf_pars_vertex:L5,logdepthbuf_vertex:D5,map_fragment:k5,map_pars_fragment:F5,map_particle_fragment:O5,map_particle_pars_fragment:N5,metalnessmap_fragment:U5,metalnessmap_pars_fragment:z5,morphcolor_vertex:H5,morphnormal_vertex:G5,morphtarget_pars_vertex:V5,morphtarget_vertex:W5,normal_fragment_begin:j5,normal_fragment_maps:X5,normal_pars_fragment:J5,normal_pars_vertex:Y5,normal_vertex:K5,normalmap_pars_fragment:q5,clearcoat_normal_fragment_begin:Q5,clearcoat_normal_fragment_maps:Z5,clearcoat_pars_fragment:$5,iridescence_pars_fragment:e9,opaque_fragment:t9,packing:n9,premultiplied_alpha_fragment:i9,project_vertex:r9,dithering_fragment:s9,dithering_pars_fragment:o9,roughnessmap_fragment:a9,roughnessmap_pars_fragment:l9,shadowmap_pars_fragment:c9,shadowmap_pars_vertex:u9,shadowmap_vertex:h9,shadowmask_pars_fragment:f9,skinbase_vertex:d9,skinning_pars_vertex:p9,skinning_vertex:m9,skinnormal_vertex:g9,specularmap_fragment:y9,specularmap_pars_fragment:v9,tonemapping_fragment:x9,tonemapping_pars_fragment:A9,transmission_fragment:_9,transmission_pars_fragment:w9,uv_pars_fragment:S9,uv_pars_vertex:M9,uv_vertex:E9,worldpos_vertex:b9,background_vert:C9,background_frag:T9,backgroundCube_vert:R9,backgroundCube_frag:P9,cube_vert:B9,cube_frag:I9,depth_vert:L9,depth_frag:D9,distanceRGBA_vert:k9,distanceRGBA_frag:F9,equirect_vert:O9,equirect_frag:N9,linedashed_vert:U9,linedashed_frag:z9,meshbasic_vert:H9,meshbasic_frag:G9,meshlambert_vert:V9,meshlambert_frag:W9,meshmatcap_vert:j9,meshmatcap_frag:X9,meshnormal_vert:J9,meshnormal_frag:Y9,meshphong_vert:K9,meshphong_frag:q9,meshphysical_vert:Q9,meshphysical_frag:Z9,meshtoon_vert:$9,meshtoon_frag:e8,points_vert:t8,points_frag:n8,shadow_vert:i8,shadow_frag:r8,sprite_vert:s8,sprite_frag:o8},Ie={common:{diffuse:{value:new ke(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Mt},alphaMap:{value:null},alphaMapTransform:{value:new Mt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Mt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Mt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Mt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Mt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Mt},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Mt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Mt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Mt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Mt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Mt},alphaTest:{value:0},uvTransform:{value:new Mt}},sprite:{diffuse:{value:new ke(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Mt},alphaMap:{value:null},alphaMapTransform:{value:new Mt},alphaTest:{value:0}}},us={basic:{uniforms:Li([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.fog]),vertexShader:At.meshbasic_vert,fragmentShader:At.meshbasic_frag},lambert:{uniforms:Li([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,Ie.lights,{emissive:{value:new ke(0)}}]),vertexShader:At.meshlambert_vert,fragmentShader:At.meshlambert_frag},phong:{uniforms:Li([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,Ie.lights,{emissive:{value:new ke(0)},specular:{value:new ke(1118481)},shininess:{value:30}}]),vertexShader:At.meshphong_vert,fragmentShader:At.meshphong_frag},standard:{uniforms:Li([Ie.common,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.roughnessmap,Ie.metalnessmap,Ie.fog,Ie.lights,{emissive:{value:new ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag},toon:{uniforms:Li([Ie.common,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.gradientmap,Ie.fog,Ie.lights,{emissive:{value:new ke(0)}}]),vertexShader:At.meshtoon_vert,fragmentShader:At.meshtoon_frag},matcap:{uniforms:Li([Ie.common,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,{matcap:{value:null}}]),vertexShader:At.meshmatcap_vert,fragmentShader:At.meshmatcap_frag},points:{uniforms:Li([Ie.points,Ie.fog]),vertexShader:At.points_vert,fragmentShader:At.points_frag},dashed:{uniforms:Li([Ie.common,Ie.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:At.linedashed_vert,fragmentShader:At.linedashed_frag},depth:{uniforms:Li([Ie.common,Ie.displacementmap]),vertexShader:At.depth_vert,fragmentShader:At.depth_frag},normal:{uniforms:Li([Ie.common,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,{opacity:{value:1}}]),vertexShader:At.meshnormal_vert,fragmentShader:At.meshnormal_frag},sprite:{uniforms:Li([Ie.sprite,Ie.fog]),vertexShader:At.sprite_vert,fragmentShader:At.sprite_frag},background:{uniforms:{uvTransform:{value:new Mt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:At.background_vert,fragmentShader:At.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:At.backgroundCube_vert,fragmentShader:At.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:At.cube_vert,fragmentShader:At.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:At.equirect_vert,fragmentShader:At.equirect_frag},distanceRGBA:{uniforms:Li([Ie.common,Ie.displacementmap,{referencePosition:{value:new D},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:At.distanceRGBA_vert,fragmentShader:At.distanceRGBA_frag},shadow:{uniforms:Li([Ie.lights,Ie.fog,{color:{value:new ke(0)},opacity:{value:1}}]),vertexShader:At.shadow_vert,fragmentShader:At.shadow_frag}};us.physical={uniforms:Li([us.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Mt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Mt},clearcoatNormalScale:{value:new pe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Mt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Mt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Mt},sheen:{value:0},sheenColor:{value:new ke(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Mt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Mt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Mt},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Mt},attenuationDistance:{value:0},attenuationColor:{value:new ke(0)},specularColor:{value:new ke(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Mt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Mt},anisotropyVector:{value:new pe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Mt}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag};const jm={r:0,b:0,g:0};function a8(n,e,t,i,r,s,o){const a=new ke(0);let l=s===!0?0:1,c,u,d=null,p=0,m=null;function y(A,g){let w=!1,_=g.isScene===!0?g.background:null;switch(_&&_.isTexture&&(_=(g.backgroundBlurriness>0?t:e).get(_)),_===null?x(a,l):_&&_.isColor&&(x(_,1),w=!0),n.xr.getEnvironmentBlendMode()){case"opaque":w=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),w=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),w=!0;break}(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===Ah)?(u===void 0&&(u=new jn(new xc(1,1,1),new eo({name:"BackgroundCubeMaterial",uniforms:rh(us.backgroundCube.uniforms),vertexShader:us.backgroundCube.vertexShader,fragmentShader:us.backgroundCube.fragmentShader,side:Oi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,P,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=_,u.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=_.colorSpace!==yt,(d!==_||p!==_.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=_,p=_.version,m=n.toneMapping),u.layers.enableAll(),A.unshift(u,u.geometry,u.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new jn(new Jd(2,2),new eo({name:"BackgroundMaterial",uniforms:rh(us.background.uniforms),vertexShader:us.background.vertexShader,fragmentShader:us.background.fragmentShader,side:Zs,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=_.colorSpace!==yt,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(d!==_||p!==_.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=_,p=_.version,m=n.toneMapping),c.layers.enableAll(),A.unshift(c,c.geometry,c.material,0,0,null))}function x(A,g){A.getRGB(jm,ck(n)),i.buffers.color.setClear(jm.r,jm.g,jm.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(A,g=1){a.set(A),l=g,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,x(a,l)},render:y}}function l8(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=A(null);let c=l,u=!1;function d(q,ee,ie,te,F){let X=!1;if(o){const j=x(te,ie,ee);c!==j&&(c=j,m(c.object)),X=g(q,te,ie,F),X&&w(q,te,ie,F)}else{const j=ee.wireframe===!0;(c.geometry!==te.id||c.program!==ie.id||c.wireframe!==j)&&(c.geometry=te.id,c.program=ie.id,c.wireframe=j,X=!0)}F!==null&&t.update(F,n.ELEMENT_ARRAY_BUFFER),(X||u)&&(u=!1,I(q,ee,ie,te),F!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(F).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(q){return i.isWebGL2?n.bindVertexArray(q):s.bindVertexArrayOES(q)}function y(q){return i.isWebGL2?n.deleteVertexArray(q):s.deleteVertexArrayOES(q)}function x(q,ee,ie){const te=ie.wireframe===!0;let F=a[q.id];F===void 0&&(F={},a[q.id]=F);let X=F[ee.id];X===void 0&&(X={},F[ee.id]=X);let j=X[te];return j===void 0&&(j=A(p()),X[te]=j),j}function A(q){const ee=[],ie=[],te=[];for(let F=0;F<r;F++)ee[F]=0,ie[F]=0,te[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ee,enabledAttributes:ie,attributeDivisors:te,object:q,attributes:{},index:null}}function g(q,ee,ie,te){const F=c.attributes,X=ee.attributes;let j=0;const z=ie.getAttributes();for(const Y in z)if(z[Y].location>=0){const ye=F[Y];let we=X[Y];if(we===void 0&&(Y==="instanceMatrix"&&q.instanceMatrix&&(we=q.instanceMatrix),Y==="instanceColor"&&q.instanceColor&&(we=q.instanceColor)),ye===void 0||ye.attribute!==we||we&&ye.data!==we.data)return!0;j++}return c.attributesNum!==j||c.index!==te}function w(q,ee,ie,te){const F={},X=ee.attributes;let j=0;const z=ie.getAttributes();for(const Y in z)if(z[Y].location>=0){let ye=X[Y];ye===void 0&&(Y==="instanceMatrix"&&q.instanceMatrix&&(ye=q.instanceMatrix),Y==="instanceColor"&&q.instanceColor&&(ye=q.instanceColor));const we={};we.attribute=ye,ye&&ye.data&&(we.data=ye.data),F[Y]=we,j++}c.attributes=F,c.attributesNum=j,c.index=te}function _(){const q=c.newAttributes;for(let ee=0,ie=q.length;ee<ie;ee++)q[ee]=0}function M(q){b(q,0)}function b(q,ee){const ie=c.newAttributes,te=c.enabledAttributes,F=c.attributeDivisors;ie[q]=1,te[q]===0&&(n.enableVertexAttribArray(q),te[q]=1),F[q]!==ee&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](q,ee),F[q]=ee)}function C(){const q=c.newAttributes,ee=c.enabledAttributes;for(let ie=0,te=ee.length;ie<te;ie++)ee[ie]!==q[ie]&&(n.disableVertexAttribArray(ie),ee[ie]=0)}function P(q,ee,ie,te,F,X,j){j===!0?n.vertexAttribIPointer(q,ee,ie,F,X):n.vertexAttribPointer(q,ee,ie,te,F,X)}function I(q,ee,ie,te){if(i.isWebGL2===!1&&(q.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const F=te.attributes,X=ie.getAttributes(),j=ee.defaultAttributeValues;for(const z in X){const Y=X[z];if(Y.location>=0){let fe=F[z];if(fe===void 0&&(z==="instanceMatrix"&&q.instanceMatrix&&(fe=q.instanceMatrix),z==="instanceColor"&&q.instanceColor&&(fe=q.instanceColor)),fe!==void 0){const ye=fe.normalized,we=fe.itemSize,Re=t.get(fe);if(Re===void 0)continue;const Le=Re.buffer,ze=Re.type,nt=Re.bytesPerElement,et=i.isWebGL2===!0&&(ze===n.INT||ze===n.UNSIGNED_INT||fe.gpuType===KS);if(fe.isInterleavedBufferAttribute){const _e=fe.data,H=_e.stride,ve=fe.offset;if(_e.isInstancedInterleavedBuffer){for(let me=0;me<Y.locationSize;me++)b(Y.location+me,_e.meshPerAttribute);q.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let me=0;me<Y.locationSize;me++)M(Y.location+me);n.bindBuffer(n.ARRAY_BUFFER,Le);for(let me=0;me<Y.locationSize;me++)P(Y.location+me,we/Y.locationSize,ze,ye,H*nt,(ve+we/Y.locationSize*me)*nt,et)}else{if(fe.isInstancedBufferAttribute){for(let _e=0;_e<Y.locationSize;_e++)b(Y.location+_e,fe.meshPerAttribute);q.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let _e=0;_e<Y.locationSize;_e++)M(Y.location+_e);n.bindBuffer(n.ARRAY_BUFFER,Le);for(let _e=0;_e<Y.locationSize;_e++)P(Y.location+_e,we/Y.locationSize,ze,ye,we*nt,we/Y.locationSize*_e*nt,et)}}else if(j!==void 0){const ye=j[z];if(ye!==void 0)switch(ye.length){case 2:n.vertexAttrib2fv(Y.location,ye);break;case 3:n.vertexAttrib3fv(Y.location,ye);break;case 4:n.vertexAttrib4fv(Y.location,ye);break;default:n.vertexAttrib1fv(Y.location,ye)}}}}C()}function T(){Q();for(const q in a){const ee=a[q];for(const ie in ee){const te=ee[ie];for(const F in te)y(te[F].object),delete te[F];delete ee[ie]}delete a[q]}}function B(q){if(a[q.id]===void 0)return;const ee=a[q.id];for(const ie in ee){const te=ee[ie];for(const F in te)y(te[F].object),delete te[F];delete ee[ie]}delete a[q.id]}function G(q){for(const ee in a){const ie=a[ee];if(ie[q.id]===void 0)continue;const te=ie[q.id];for(const F in te)y(te[F].object),delete te[F];delete ie[q.id]}}function Q(){J(),u=!0,c!==l&&(c=l,m(c.object))}function J(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:Q,resetDefaultState:J,dispose:T,releaseStatesOfGeometry:B,releaseStatesOfProgram:G,initAttributes:_,enableAttribute:M,disableUnusedAttributes:C}}function c8(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,d){if(d===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,u,d),t.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function u8(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),A=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),_=p>0,M=o||e.has("OES_texture_float"),b=_&&M,C=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:x,maxVertexUniforms:A,maxVaryings:g,maxFragmentUniforms:w,vertexTextures:_,floatFragmentTextures:M,floatVertexTextures:b,maxSamples:C}}function h8(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new _o,a=new Mt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=u(d,p,0)},this.setState=function(d,p,m){const y=d.clippingPlanes,x=d.clipIntersection,A=d.clipShadows,g=n.get(d);if(!r||y===null||y.length===0||s&&!A)s?u(null):c();else{const w=s?0:i,_=w*4;let M=g.clippingState||null;l.value=M,M=u(y,p,_,m);for(let b=0;b!==_;++b)M[b]=t[b];g.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,p,m,y){const x=d!==null?d.length:0;let A=null;if(x!==0){if(A=l.value,y!==!0||A===null){const g=m+x*4,w=p.matrixWorldInverse;a.getNormalMatrix(w),(A===null||A.length<g)&&(A=new Float32Array(g));for(let _=0,M=m;_!==x;++_,M+=4)o.copy(d[_]).applyMatrix4(w,a),o.normal.toArray(A,M),A[M+3]=o.constant}l.value=A,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,A}}function f8(n){let e=new WeakMap;function t(o,a){return a===gd?o.mapping=Go:a===yd&&(o.mapping=Ha),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===gd||a===yd)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new fM(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class ms extends jd{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const bu=4,GT=[.125,.215,.35,.446,.526,.582],Ll=20,AA=new ms,VT=new ke;let _A=null;const Tl=(1+Math.sqrt(5))/2,tu=1/Tl,WT=[new D(1,1,1),new D(-1,1,1),new D(1,1,-1),new D(-1,1,-1),new D(0,Tl,tu),new D(0,Tl,-tu),new D(tu,0,Tl),new D(-tu,0,Tl),new D(Tl,tu,0),new D(-Tl,tu,0)];class sw{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){_A=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=JT(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=XT(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_A),e.scissorTest=!1,Xm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Go||e.mapping===Ha?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_A=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:dn,minFilter:dn,generateMipmaps:!1,type:th,format:Yi,colorSpace:_s,depthBuffer:!1},r=jT(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=jT(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=d8(s)),this._blurMaterial=p8(s,e,t)}return r}_compileMaterial(e){const t=new jn(this._lodPlanes[0],e);this._renderer.compile(t,AA)}_sceneToCubeUV(e,t,i,r){const a=new cn(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,p=u.toneMapping;u.getClearColor(VT),u.toneMapping=Ys,u.autoClear=!1;const m=new mr({name:"PMREM.Background",side:Oi,depthWrite:!1,depthTest:!1}),y=new jn(new xc,m);let x=!1;const A=e.background;A?A.isColor&&(m.color.copy(A),e.background=null,x=!0):(m.color.copy(VT),x=!0);for(let g=0;g<6;g++){const w=g%3;w===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):w===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const _=this._cubeSize;Xm(r,w*_,g>2?_:0,_,_),u.setRenderTarget(r),x&&u.render(y,a),u.render(e,a)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=p,u.autoClear=d,e.background=A}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Go||e.mapping===Ha;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=JT()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=XT());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new jn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Xm(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,AA)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=WT[(r-1)%WT.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new jn(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Ll-1),x=s/y,A=isFinite(s)?1+Math.floor(u*x):Ll;A>Ll&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${Ll}`);const g=[];let w=0;for(let P=0;P<Ll;++P){const I=P/x,T=Math.exp(-I*I/2);g.push(T),P===0?w+=T:P<A&&(w+=2*T)}for(let P=0;P<g.length;P++)g[P]=g[P]/w;p.envMap.value=e.texture,p.samples.value=A,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:_}=this;p.dTheta.value=y,p.mipInt.value=_-i;const M=this._sizeLods[r],b=3*M*(r>_-bu?r-_+bu:0),C=4*(this._cubeSize-M);Xm(t,b,C,3*M,2*M),l.setRenderTarget(t),l.render(d,AA)}}function d8(n){const e=[],t=[],i=[];let r=n;const s=n-bu+1+GT.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-bu?l=GT[o-n+bu-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,p=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,y=6,x=3,A=2,g=1,w=new Float32Array(x*y*m),_=new Float32Array(A*y*m),M=new Float32Array(g*y*m);for(let C=0;C<m;C++){const P=C%3*2/3-1,I=C>2?0:-1,T=[P,I,0,P+2/3,I,0,P+2/3,I+1,0,P,I,0,P+2/3,I+1,0,P,I+1,0];w.set(T,x*y*C),_.set(p,A*y*C);const B=[C,C,C,C,C,C];M.set(B,g*y*C)}const b=new vt;b.setAttribute("position",new zt(w,x)),b.setAttribute("uv",new zt(_,A)),b.setAttribute("faceIndex",new zt(M,g)),e.push(b),r>bu&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function jT(n,e,t){const i=new ws(n,e,t);return i.texture.mapping=Ah,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Xm(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function p8(n,e,t){const i=new Float32Array(Ll),r=new D(0,1,0);return new eo({name:"SphericalGaussianBlur",defines:{n:Ll,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:dM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Bo,depthTest:!1,depthWrite:!1})}function XT(){return new eo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:dM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Bo,depthTest:!1,depthWrite:!1})}function JT(){return new eo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:dM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Bo,depthTest:!1,depthWrite:!1})}function dM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function m8(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===gd||l===yd,u=l===Go||l===Ha;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new sw(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&r(d)){t===null&&(t=new sw(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function g8(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function y8(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);for(const y in p.morphAttributes){const x=p.morphAttributes[y];for(let A=0,g=x.length;A<g;A++)e.remove(x[A])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const y in p)e.update(p[y],n.ARRAY_BUFFER);const m=d.morphAttributes;for(const y in m){const x=m[y];for(let A=0,g=x.length;A<g;A++)e.update(x[A],n.ARRAY_BUFFER)}}function c(d){const p=[],m=d.index,y=d.attributes.position;let x=0;if(m!==null){const w=m.array;x=m.version;for(let _=0,M=w.length;_<M;_+=3){const b=w[_+0],C=w[_+1],P=w[_+2];p.push(b,C,C,P,P,b)}}else if(y!==void 0){const w=y.array;x=y.version;for(let _=0,M=w.length/3-1;_<M;_+=3){const b=_+0,C=_+1,P=_+2;p.push(b,C,C,P,P,b)}}else return;const A=new(ok(p)?uM:cM)(p,1);A.version=x;const g=s.get(d);g&&e.remove(g),s.set(d,A)}function u(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function v8(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function d(p,m,y){if(y===0)return;let x,A;if(r)x=n,A="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),A="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[A](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function x8(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function A8(n,e){return n[0]-e[0]}function _8(n,e){return Math.abs(e[1])-Math.abs(n[1])}function w8(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Xt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const y=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,x=y!==void 0?y.length:0;let A=s.get(u);if(A===void 0||A.count!==x){let ee=function(){J.dispose(),s.delete(u),u.removeEventListener("dispose",ee)};var m=ee;A!==void 0&&A.texture.dispose();const _=u.morphAttributes.position!==void 0,M=u.morphAttributes.normal!==void 0,b=u.morphAttributes.color!==void 0,C=u.morphAttributes.position||[],P=u.morphAttributes.normal||[],I=u.morphAttributes.color||[];let T=0;_===!0&&(T=1),M===!0&&(T=2),b===!0&&(T=3);let B=u.attributes.position.count*T,G=1;B>e.maxTextureSize&&(G=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const Q=new Float32Array(B*G*4*x),J=new Ty(Q,B,G,x);J.type=Ws,J.needsUpdate=!0;const q=T*4;for(let ie=0;ie<x;ie++){const te=C[ie],F=P[ie],X=I[ie],j=B*G*4*ie;for(let z=0;z<te.count;z++){const Y=z*q;_===!0&&(o.fromBufferAttribute(te,z),Q[j+Y+0]=o.x,Q[j+Y+1]=o.y,Q[j+Y+2]=o.z,Q[j+Y+3]=0),M===!0&&(o.fromBufferAttribute(F,z),Q[j+Y+4]=o.x,Q[j+Y+5]=o.y,Q[j+Y+6]=o.z,Q[j+Y+7]=0),b===!0&&(o.fromBufferAttribute(X,z),Q[j+Y+8]=o.x,Q[j+Y+9]=o.y,Q[j+Y+10]=o.z,Q[j+Y+11]=X.itemSize===4?o.w:1)}}A={count:x,texture:J,size:new pe(B,G)},s.set(u,A),u.addEventListener("dispose",ee)}let g=0;for(let _=0;_<p.length;_++)g+=p[_];const w=u.morphTargetsRelative?1:1-g;d.getUniforms().setValue(n,"morphTargetBaseInfluence",w),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",A.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",A.size)}else{const y=p===void 0?0:p.length;let x=i[u.id];if(x===void 0||x.length!==y){x=[];for(let M=0;M<y;M++)x[M]=[M,0];i[u.id]=x}for(let M=0;M<y;M++){const b=x[M];b[0]=M,b[1]=p[M]}x.sort(_8);for(let M=0;M<8;M++)M<y&&x[M][1]?(a[M][0]=x[M][0],a[M][1]=x[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(A8);const A=u.morphAttributes.position,g=u.morphAttributes.normal;let w=0;for(let M=0;M<8;M++){const b=a[M],C=b[0],P=b[1];C!==Number.MAX_SAFE_INTEGER&&P?(A&&u.getAttribute("morphTarget"+M)!==A[C]&&u.setAttribute("morphTarget"+M,A[C]),g&&u.getAttribute("morphNormal"+M)!==g[C]&&u.setAttribute("morphNormal"+M,g[C]),r[M]=P,w+=P):(A&&u.hasAttribute("morphTarget"+M)===!0&&u.deleteAttribute("morphTarget"+M),g&&u.hasAttribute("morphNormal"+M)===!0&&u.deleteAttribute("morphNormal"+M),r[M]=0)}const _=u.morphTargetsRelative?1:1-w;d.getUniforms().setValue(n,"morphTargetBaseInfluence",_),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function S8(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const fk=new sn,dk=new Ty,pk=new lM,mk=new Xd,YT=[],KT=[],qT=new Float32Array(16),QT=new Float32Array(9),ZT=new Float32Array(4);function _h(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=YT[r];if(s===void 0&&(s=new Float32Array(r),YT[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Jn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Yn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Py(n,e){let t=KT[e];t===void 0&&(t=new Int32Array(e),KT[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function M8(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function E8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Jn(t,e))return;n.uniform2fv(this.addr,e),Yn(t,e)}}function b8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Jn(t,e))return;n.uniform3fv(this.addr,e),Yn(t,e)}}function C8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Jn(t,e))return;n.uniform4fv(this.addr,e),Yn(t,e)}}function T8(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Jn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Yn(t,e)}else{if(Jn(t,i))return;ZT.set(i),n.uniformMatrix2fv(this.addr,!1,ZT),Yn(t,i)}}function R8(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Jn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Yn(t,e)}else{if(Jn(t,i))return;QT.set(i),n.uniformMatrix3fv(this.addr,!1,QT),Yn(t,i)}}function P8(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Jn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Yn(t,e)}else{if(Jn(t,i))return;qT.set(i),n.uniformMatrix4fv(this.addr,!1,qT),Yn(t,i)}}function B8(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function I8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Jn(t,e))return;n.uniform2iv(this.addr,e),Yn(t,e)}}function L8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Jn(t,e))return;n.uniform3iv(this.addr,e),Yn(t,e)}}function D8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Jn(t,e))return;n.uniform4iv(this.addr,e),Yn(t,e)}}function k8(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function F8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Jn(t,e))return;n.uniform2uiv(this.addr,e),Yn(t,e)}}function O8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Jn(t,e))return;n.uniform3uiv(this.addr,e),Yn(t,e)}}function N8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Jn(t,e))return;n.uniform4uiv(this.addr,e),Yn(t,e)}}function U8(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||fk,r)}function z8(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||pk,r)}function H8(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||mk,r)}function G8(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||dk,r)}function V8(n){switch(n){case 5126:return M8;case 35664:return E8;case 35665:return b8;case 35666:return C8;case 35674:return T8;case 35675:return R8;case 35676:return P8;case 5124:case 35670:return B8;case 35667:case 35671:return I8;case 35668:case 35672:return L8;case 35669:case 35673:return D8;case 5125:return k8;case 36294:return F8;case 36295:return O8;case 36296:return N8;case 35678:case 36198:case 36298:case 36306:case 35682:return U8;case 35679:case 36299:case 36307:return z8;case 35680:case 36300:case 36308:case 36293:return H8;case 36289:case 36303:case 36311:case 36292:return G8}}function W8(n,e){n.uniform1fv(this.addr,e)}function j8(n,e){const t=_h(e,this.size,2);n.uniform2fv(this.addr,t)}function X8(n,e){const t=_h(e,this.size,3);n.uniform3fv(this.addr,t)}function J8(n,e){const t=_h(e,this.size,4);n.uniform4fv(this.addr,t)}function Y8(n,e){const t=_h(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function K8(n,e){const t=_h(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function q8(n,e){const t=_h(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Q8(n,e){n.uniform1iv(this.addr,e)}function Z8(n,e){n.uniform2iv(this.addr,e)}function $8(n,e){n.uniform3iv(this.addr,e)}function eW(n,e){n.uniform4iv(this.addr,e)}function tW(n,e){n.uniform1uiv(this.addr,e)}function nW(n,e){n.uniform2uiv(this.addr,e)}function iW(n,e){n.uniform3uiv(this.addr,e)}function rW(n,e){n.uniform4uiv(this.addr,e)}function sW(n,e,t){const i=this.cache,r=e.length,s=Py(t,r);Jn(i,s)||(n.uniform1iv(this.addr,s),Yn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||fk,s[o])}function oW(n,e,t){const i=this.cache,r=e.length,s=Py(t,r);Jn(i,s)||(n.uniform1iv(this.addr,s),Yn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||pk,s[o])}function aW(n,e,t){const i=this.cache,r=e.length,s=Py(t,r);Jn(i,s)||(n.uniform1iv(this.addr,s),Yn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||mk,s[o])}function lW(n,e,t){const i=this.cache,r=e.length,s=Py(t,r);Jn(i,s)||(n.uniform1iv(this.addr,s),Yn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||dk,s[o])}function cW(n){switch(n){case 5126:return W8;case 35664:return j8;case 35665:return X8;case 35666:return J8;case 35674:return Y8;case 35675:return K8;case 35676:return q8;case 5124:case 35670:return Q8;case 35667:case 35671:return Z8;case 35668:case 35672:return $8;case 35669:case 35673:return eW;case 5125:return tW;case 36294:return nW;case 36295:return iW;case 36296:return rW;case 35678:case 36198:case 36298:case 36306:case 35682:return sW;case 35679:case 36299:case 36307:return oW;case 35680:case 36300:case 36308:case 36293:return aW;case 36289:case 36303:case 36311:case 36292:return lW}}class uW{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=V8(t.type)}}class hW{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=cW(t.type)}}class fW{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const wA=/(\w+)(\])?(\[|\.)?/g;function $T(n,e){n.seq.push(e),n.map[e.id]=e}function dW(n,e,t){const i=n.name,r=i.length;for(wA.lastIndex=0;;){const s=wA.exec(i),o=wA.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){$T(t,c===void 0?new uW(a,n,e):new hW(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new fW(a),$T(t,d)),t=d}}}class Jg{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);dW(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function eR(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let pW=0;function mW(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function gW(n){switch(n){case _s:return["Linear","( value )"];case yt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function tR(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+mW(n.getShaderSource(e),o)}else return r}function yW(n,e){const t=gW(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function vW(n,e){let t;switch(e){case PD:t="Linear";break;case BD:t="Reinhard";break;case ID:t="OptimizedCineon";break;case YS:t="ACESFilmic";break;case LD:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function xW(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ef).join(`
`)}function AW(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function _W(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Ef(n){return n!==""}function nR(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function iR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const wW=/^[ \t]*#include +<([\w\d./]+)>/gm;function ow(n){return n.replace(wW,MW)}const SW=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function MW(n,e){let t=At[e];if(t===void 0){const i=SW.get(e);if(i!==void 0)t=At[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return ow(t)}const EW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function rR(n){return n.replace(EW,bW)}function bW(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function sR(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function CW(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Sy?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Of?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===as&&(e="SHADOWMAP_TYPE_VSM"),e}function TW(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Go:case Ha:e="ENVMAP_TYPE_CUBE";break;case Ah:e="ENVMAP_TYPE_CUBE_UV";break}return e}function RW(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ha:e="ENVMAP_MODE_REFRACTION";break}return e}function PW(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Wd:e="ENVMAP_BLENDING_MULTIPLY";break;case TD:e="ENVMAP_BLENDING_MIX";break;case RD:e="ENVMAP_BLENDING_ADD";break}return e}function BW(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function IW(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=CW(t),c=TW(t),u=RW(t),d=PW(t),p=BW(t),m=t.isWebGL2?"":xW(t),y=AW(s),x=r.createProgram();let A,g,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(Ef).join(`
`),A.length>0&&(A+=`
`),g=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(Ef).join(`
`),g.length>0&&(g+=`
`)):(A=[sR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ef).join(`
`),g=[m,sR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ys?"#define TONE_MAPPING":"",t.toneMapping!==Ys?At.tonemapping_pars_fragment:"",t.toneMapping!==Ys?vW("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",At.colorspace_pars_fragment,yW("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Ef).join(`
`)),o=ow(o),o=nR(o,t),o=iR(o,t),a=ow(a),a=nR(a,t),a=iR(a,t),o=rR(o),a=rR(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,A=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,g=["#define varying in",t.glslVersion===iw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===iw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const _=w+A+o,M=w+g+a,b=eR(r,r.VERTEX_SHADER,_),C=eR(r,r.FRAGMENT_SHADER,M);if(r.attachShader(x,b),r.attachShader(x,C),t.index0AttributeName!==void 0?r.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(x,0,"position"),r.linkProgram(x),n.debug.checkShaderErrors){const T=r.getProgramInfoLog(x).trim(),B=r.getShaderInfoLog(b).trim(),G=r.getShaderInfoLog(C).trim();let Q=!0,J=!0;if(r.getProgramParameter(x,r.LINK_STATUS)===!1)if(Q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,x,b,C);else{const q=tR(r,b,"vertex"),ee=tR(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(x,r.VALIDATE_STATUS)+`

Program Info Log: `+T+`
`+q+`
`+ee)}else T!==""?console.warn("THREE.WebGLProgram: Program Info Log:",T):(B===""||G==="")&&(J=!1);J&&(this.diagnostics={runnable:Q,programLog:T,vertexShader:{log:B,prefix:A},fragmentShader:{log:G,prefix:g}})}r.deleteShader(b),r.deleteShader(C);let P;this.getUniforms=function(){return P===void 0&&(P=new Jg(r,x)),P};let I;return this.getAttributes=function(){return I===void 0&&(I=_W(r,x)),I},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=pW++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=b,this.fragmentShader=C,this}let LW=0;class DW{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new kW(e),t.set(e,i)),i}}class kW{constructor(e){this.id=LW++,this.code=e,this.usedTimes=0}}function FW(n,e,t,i,r,s,o){const a=new ql,l=new DW,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(T){return T===0?"uv":`uv${T}`}function A(T,B,G,Q,J){const q=Q.fog,ee=J.geometry,ie=T.isMeshStandardMaterial?Q.environment:null,te=(T.isMeshStandardMaterial?t:e).get(T.envMap||ie),F=te&&te.mapping===Ah?te.image.height:null,X=y[T.type];T.precision!==null&&(m=r.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));const j=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,z=j!==void 0?j.length:0;let Y=0;ee.morphAttributes.position!==void 0&&(Y=1),ee.morphAttributes.normal!==void 0&&(Y=2),ee.morphAttributes.color!==void 0&&(Y=3);let fe,ye,we,Re;if(X){const Lt=us[X];fe=Lt.vertexShader,ye=Lt.fragmentShader}else fe=T.vertexShader,ye=T.fragmentShader,l.update(T),we=l.getVertexShaderID(T),Re=l.getFragmentShaderID(T);const Le=n.getRenderTarget(),ze=J.isInstancedMesh===!0,nt=!!T.map,et=!!T.matcap,_e=!!te,H=!!T.aoMap,ve=!!T.lightMap,me=!!T.bumpMap,Se=!!T.normalMap,xe=!!T.displacementMap,Ge=!!T.emissiveMap,Ne=!!T.metalnessMap,He=!!T.roughnessMap,tt=T.anisotropy>0,xt=T.clearcoat>0,Wt=T.iridescence>0,U=T.sheen>0,L=T.transmission>0,oe=tt&&!!T.anisotropyMap,Ee=xt&&!!T.clearcoatMap,Ae=xt&&!!T.clearcoatNormalMap,Ce=xt&&!!T.clearcoatRoughnessMap,Ye=Wt&&!!T.iridescenceMap,Pe=Wt&&!!T.iridescenceThicknessMap,le=U&&!!T.sheenColorMap,$e=U&&!!T.sheenRoughnessMap,qe=!!T.specularMap,Qe=!!T.specularColorMap,Ve=!!T.specularIntensityMap,V=L&&!!T.transmissionMap,ge=L&&!!T.thicknessMap,De=!!T.gradientMap,W=!!T.alphaMap,Me=T.alphaTest>0,ae=!!T.alphaHash,Te=!!T.extensions,Fe=!!ee.attributes.uv1,Tt=!!ee.attributes.uv2,Bt=!!ee.attributes.uv3;let Ft=Ys;return T.toneMapped&&(Le===null||Le.isXRRenderTarget===!0)&&(Ft=n.toneMapping),{isWebGL2:u,shaderID:X,shaderType:T.type,shaderName:T.name,vertexShader:fe,fragmentShader:ye,defines:T.defines,customVertexShaderID:we,customFragmentShaderID:Re,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,instancing:ze,instancingColor:ze&&J.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Le===null?n.outputColorSpace:Le.isXRRenderTarget===!0?Le.texture.colorSpace:_s,map:nt,matcap:et,envMap:_e,envMapMode:_e&&te.mapping,envMapCubeUVHeight:F,aoMap:H,lightMap:ve,bumpMap:me,normalMap:Se,displacementMap:p&&xe,emissiveMap:Ge,normalMapObjectSpace:Se&&T.normalMapType===KD,normalMapTangentSpace:Se&&T.normalMapType===Za,metalnessMap:Ne,roughnessMap:He,anisotropy:tt,anisotropyMap:oe,clearcoat:xt,clearcoatMap:Ee,clearcoatNormalMap:Ae,clearcoatRoughnessMap:Ce,iridescence:Wt,iridescenceMap:Ye,iridescenceThicknessMap:Pe,sheen:U,sheenColorMap:le,sheenRoughnessMap:$e,specularMap:qe,specularColorMap:Qe,specularIntensityMap:Ve,transmission:L,transmissionMap:V,thicknessMap:ge,gradientMap:De,opaque:T.transparent===!1&&T.blending===Yl,alphaMap:W,alphaTest:Me,alphaHash:ae,combine:T.combine,mapUv:nt&&x(T.map.channel),aoMapUv:H&&x(T.aoMap.channel),lightMapUv:ve&&x(T.lightMap.channel),bumpMapUv:me&&x(T.bumpMap.channel),normalMapUv:Se&&x(T.normalMap.channel),displacementMapUv:xe&&x(T.displacementMap.channel),emissiveMapUv:Ge&&x(T.emissiveMap.channel),metalnessMapUv:Ne&&x(T.metalnessMap.channel),roughnessMapUv:He&&x(T.roughnessMap.channel),anisotropyMapUv:oe&&x(T.anisotropyMap.channel),clearcoatMapUv:Ee&&x(T.clearcoatMap.channel),clearcoatNormalMapUv:Ae&&x(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ce&&x(T.clearcoatRoughnessMap.channel),iridescenceMapUv:Ye&&x(T.iridescenceMap.channel),iridescenceThicknessMapUv:Pe&&x(T.iridescenceThicknessMap.channel),sheenColorMapUv:le&&x(T.sheenColorMap.channel),sheenRoughnessMapUv:$e&&x(T.sheenRoughnessMap.channel),specularMapUv:qe&&x(T.specularMap.channel),specularColorMapUv:Qe&&x(T.specularColorMap.channel),specularIntensityMapUv:Ve&&x(T.specularIntensityMap.channel),transmissionMapUv:V&&x(T.transmissionMap.channel),thicknessMapUv:ge&&x(T.thicknessMap.channel),alphaMapUv:W&&x(T.alphaMap.channel),vertexTangents:!!ee.attributes.tangent&&(Se||tt),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,vertexUv1s:Fe,vertexUv2s:Tt,vertexUv3s:Bt,pointsUvs:J.isPoints===!0&&!!ee.attributes.uv&&(nt||W),fog:!!q,useFog:T.fog===!0,fogExp2:q&&q.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:J.isSkinnedMesh===!0,morphTargets:ee.morphAttributes.position!==void 0,morphNormals:ee.morphAttributes.normal!==void 0,morphColors:ee.morphAttributes.color!==void 0,morphTargetsCount:z,morphTextureStride:Y,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&G.length>0,shadowMapType:n.shadowMap.type,toneMapping:Ft,useLegacyLights:n._useLegacyLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Vr,flipSided:T.side===Oi,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:Te&&T.extensions.derivatives===!0,extensionFragDepth:Te&&T.extensions.fragDepth===!0,extensionDrawBuffers:Te&&T.extensions.drawBuffers===!0,extensionShaderTextureLOD:Te&&T.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function g(T){const B=[];if(T.shaderID?B.push(T.shaderID):(B.push(T.customVertexShaderID),B.push(T.customFragmentShaderID)),T.defines!==void 0)for(const G in T.defines)B.push(G),B.push(T.defines[G]);return T.isRawShaderMaterial===!1&&(w(B,T),_(B,T),B.push(n.outputColorSpace)),B.push(T.customProgramCacheKey),B.join()}function w(T,B){T.push(B.precision),T.push(B.outputColorSpace),T.push(B.envMapMode),T.push(B.envMapCubeUVHeight),T.push(B.mapUv),T.push(B.alphaMapUv),T.push(B.lightMapUv),T.push(B.aoMapUv),T.push(B.bumpMapUv),T.push(B.normalMapUv),T.push(B.displacementMapUv),T.push(B.emissiveMapUv),T.push(B.metalnessMapUv),T.push(B.roughnessMapUv),T.push(B.anisotropyMapUv),T.push(B.clearcoatMapUv),T.push(B.clearcoatNormalMapUv),T.push(B.clearcoatRoughnessMapUv),T.push(B.iridescenceMapUv),T.push(B.iridescenceThicknessMapUv),T.push(B.sheenColorMapUv),T.push(B.sheenRoughnessMapUv),T.push(B.specularMapUv),T.push(B.specularColorMapUv),T.push(B.specularIntensityMapUv),T.push(B.transmissionMapUv),T.push(B.thicknessMapUv),T.push(B.combine),T.push(B.fogExp2),T.push(B.sizeAttenuation),T.push(B.morphTargetsCount),T.push(B.morphAttributeCount),T.push(B.numDirLights),T.push(B.numPointLights),T.push(B.numSpotLights),T.push(B.numSpotLightMaps),T.push(B.numHemiLights),T.push(B.numRectAreaLights),T.push(B.numDirLightShadows),T.push(B.numPointLightShadows),T.push(B.numSpotLightShadows),T.push(B.numSpotLightShadowsWithMaps),T.push(B.shadowMapType),T.push(B.toneMapping),T.push(B.numClippingPlanes),T.push(B.numClipIntersection),T.push(B.depthPacking)}function _(T,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.matcap&&a.enable(4),B.envMap&&a.enable(5),B.normalMapObjectSpace&&a.enable(6),B.normalMapTangentSpace&&a.enable(7),B.clearcoat&&a.enable(8),B.iridescence&&a.enable(9),B.alphaTest&&a.enable(10),B.vertexColors&&a.enable(11),B.vertexAlphas&&a.enable(12),B.vertexUv1s&&a.enable(13),B.vertexUv2s&&a.enable(14),B.vertexUv3s&&a.enable(15),B.vertexTangents&&a.enable(16),B.anisotropy&&a.enable(17),T.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.useLegacyLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.opaque&&a.enable(17),B.pointsUvs&&a.enable(18),T.push(a.mask)}function M(T){const B=y[T.type];let G;if(B){const Q=us[B];G=uk.clone(Q.uniforms)}else G=T.uniforms;return G}function b(T,B){let G;for(let Q=0,J=c.length;Q<J;Q++){const q=c[Q];if(q.cacheKey===B){G=q,++G.usedTimes;break}}return G===void 0&&(G=new IW(n,B,T,s),c.push(G)),G}function C(T){if(--T.usedTimes===0){const B=c.indexOf(T);c[B]=c[c.length-1],c.pop(),T.destroy()}}function P(T){l.remove(T)}function I(){l.dispose()}return{getParameters:A,getProgramCacheKey:g,getUniforms:M,acquireProgram:b,releaseProgram:C,releaseShaderCache:P,programs:c,dispose:I}}function OW(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function NW(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function oR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function aR(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,m,y,x,A){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:y,renderOrder:d.renderOrder,z:x,group:A},n[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=y,g.renderOrder=d.renderOrder,g.z=x,g.group=A),e++,g}function a(d,p,m,y,x,A){const g=o(d,p,m,y,x,A);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(d,p,m,y,x,A){const g=o(d,p,m,y,x,A);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function c(d,p){t.length>1&&t.sort(d||NW),i.length>1&&i.sort(p||oR),r.length>1&&r.sort(p||oR)}function u(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function UW(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new aR,n.set(i,[o])):r>=s.length?(o=new aR,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function zW(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new D,color:new ke};break;case"SpotLight":t={position:new D,direction:new D,color:new ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new D,color:new ke,distance:0,decay:0};break;case"HemisphereLight":t={direction:new D,skyColor:new ke,groundColor:new ke};break;case"RectAreaLight":t={color:new ke,position:new D,halfWidth:new D,halfHeight:new D};break}return n[e.id]=t,t}}}function HW(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let GW=0;function VW(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function WW(n,e){const t=new zW,i=HW(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new D);const s=new D,o=new ct,a=new ct;function l(u,d){let p=0,m=0,y=0;for(let G=0;G<9;G++)r.probe[G].set(0,0,0);let x=0,A=0,g=0,w=0,_=0,M=0,b=0,C=0,P=0,I=0;u.sort(VW);const T=d===!0?Math.PI:1;for(let G=0,Q=u.length;G<Q;G++){const J=u[G],q=J.color,ee=J.intensity,ie=J.distance,te=J.shadow&&J.shadow.map?J.shadow.map.texture:null;if(J.isAmbientLight)p+=q.r*ee*T,m+=q.g*ee*T,y+=q.b*ee*T;else if(J.isLightProbe)for(let F=0;F<9;F++)r.probe[F].addScaledVector(J.sh.coefficients[F],ee);else if(J.isDirectionalLight){const F=t.get(J);if(F.color.copy(J.color).multiplyScalar(J.intensity*T),J.castShadow){const X=J.shadow,j=i.get(J);j.shadowBias=X.bias,j.shadowNormalBias=X.normalBias,j.shadowRadius=X.radius,j.shadowMapSize=X.mapSize,r.directionalShadow[x]=j,r.directionalShadowMap[x]=te,r.directionalShadowMatrix[x]=J.shadow.matrix,M++}r.directional[x]=F,x++}else if(J.isSpotLight){const F=t.get(J);F.position.setFromMatrixPosition(J.matrixWorld),F.color.copy(q).multiplyScalar(ee*T),F.distance=ie,F.coneCos=Math.cos(J.angle),F.penumbraCos=Math.cos(J.angle*(1-J.penumbra)),F.decay=J.decay,r.spot[g]=F;const X=J.shadow;if(J.map&&(r.spotLightMap[P]=J.map,P++,X.updateMatrices(J),J.castShadow&&I++),r.spotLightMatrix[g]=X.matrix,J.castShadow){const j=i.get(J);j.shadowBias=X.bias,j.shadowNormalBias=X.normalBias,j.shadowRadius=X.radius,j.shadowMapSize=X.mapSize,r.spotShadow[g]=j,r.spotShadowMap[g]=te,C++}g++}else if(J.isRectAreaLight){const F=t.get(J);F.color.copy(q).multiplyScalar(ee),F.halfWidth.set(J.width*.5,0,0),F.halfHeight.set(0,J.height*.5,0),r.rectArea[w]=F,w++}else if(J.isPointLight){const F=t.get(J);if(F.color.copy(J.color).multiplyScalar(J.intensity*T),F.distance=J.distance,F.decay=J.decay,J.castShadow){const X=J.shadow,j=i.get(J);j.shadowBias=X.bias,j.shadowNormalBias=X.normalBias,j.shadowRadius=X.radius,j.shadowMapSize=X.mapSize,j.shadowCameraNear=X.camera.near,j.shadowCameraFar=X.camera.far,r.pointShadow[A]=j,r.pointShadowMap[A]=te,r.pointShadowMatrix[A]=J.shadow.matrix,b++}r.point[A]=F,A++}else if(J.isHemisphereLight){const F=t.get(J);F.skyColor.copy(J.color).multiplyScalar(ee*T),F.groundColor.copy(J.groundColor).multiplyScalar(ee*T),r.hemi[_]=F,_++}}w>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ie.LTC_FLOAT_1,r.rectAreaLTC2=Ie.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Ie.LTC_HALF_1,r.rectAreaLTC2=Ie.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=y;const B=r.hash;(B.directionalLength!==x||B.pointLength!==A||B.spotLength!==g||B.rectAreaLength!==w||B.hemiLength!==_||B.numDirectionalShadows!==M||B.numPointShadows!==b||B.numSpotShadows!==C||B.numSpotMaps!==P)&&(r.directional.length=x,r.spot.length=g,r.rectArea.length=w,r.point.length=A,r.hemi.length=_,r.directionalShadow.length=M,r.directionalShadowMap.length=M,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=C,r.spotShadowMap.length=C,r.directionalShadowMatrix.length=M,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=C+P-I,r.spotLightMap.length=P,r.numSpotLightShadowsWithMaps=I,B.directionalLength=x,B.pointLength=A,B.spotLength=g,B.rectAreaLength=w,B.hemiLength=_,B.numDirectionalShadows=M,B.numPointShadows=b,B.numSpotShadows=C,B.numSpotMaps=P,r.version=GW++)}function c(u,d){let p=0,m=0,y=0,x=0,A=0;const g=d.matrixWorldInverse;for(let w=0,_=u.length;w<_;w++){const M=u[w];if(M.isDirectionalLight){const b=r.directional[p];b.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(g),p++}else if(M.isSpotLight){const b=r.spot[y];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(g),b.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(g),y++}else if(M.isRectAreaLight){const b=r.rectArea[x];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(g),a.identity(),o.copy(M.matrixWorld),o.premultiply(g),a.extractRotation(o),b.halfWidth.set(M.width*.5,0,0),b.halfHeight.set(0,M.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),x++}else if(M.isPointLight){const b=r.point[m];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(g),m++}else if(M.isHemisphereLight){const b=r.hemi[A];b.direction.setFromMatrixPosition(M.matrixWorld),b.direction.transformDirection(g),A++}}}return{setup:l,setupView:c,state:r}}function lR(n,e){const t=new WW(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){t.setup(i,d)}function c(d){t.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function jW(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new lR(n,e),t.set(s,[l])):o>=a.length?(l=new lR(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class pM extends Xn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=JD,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class mM extends Xn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const XW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,JW=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function YW(n,e,t){let i=new Ry;const r=new pe,s=new pe,o=new Xt,a=new pM({depthPacking:YD}),l=new mM,c={},u=t.maxTextureSize,d={[Zs]:Oi,[Oi]:Zs,[Vr]:Vr},p=new eo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:XW,fragmentShader:JW}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new vt;y.setAttribute("position",new zt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new jn(y,p),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Sy;let g=this.type;this.render=function(b,C,P){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||b.length===0)return;const I=n.getRenderTarget(),T=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),G=n.state;G.setBlending(Bo),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const Q=g!==as&&this.type===as,J=g===as&&this.type!==as;for(let q=0,ee=b.length;q<ee;q++){const ie=b[q],te=ie.shadow;if(te===void 0){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if(te.autoUpdate===!1&&te.needsUpdate===!1)continue;r.copy(te.mapSize);const F=te.getFrameExtents();if(r.multiply(F),s.copy(te.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/F.x),r.x=s.x*F.x,te.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/F.y),r.y=s.y*F.y,te.mapSize.y=s.y)),te.map===null||Q===!0||J===!0){const j=this.type!==as?{minFilter:Mn,magFilter:Mn}:{};te.map!==null&&te.map.dispose(),te.map=new ws(r.x,r.y,j),te.map.texture.name=ie.name+".shadowMap",te.camera.updateProjectionMatrix()}n.setRenderTarget(te.map),n.clear();const X=te.getViewportCount();for(let j=0;j<X;j++){const z=te.getViewport(j);o.set(s.x*z.x,s.y*z.y,s.x*z.z,s.y*z.w),G.viewport(o),te.updateMatrices(ie,j),i=te.getFrustum(),M(C,P,te.camera,ie,this.type)}te.isPointLightShadow!==!0&&this.type===as&&w(te,P),te.needsUpdate=!1}g=this.type,A.needsUpdate=!1,n.setRenderTarget(I,T,B)};function w(b,C){const P=e.update(x);p.defines.VSM_SAMPLES!==b.blurSamples&&(p.defines.VSM_SAMPLES=b.blurSamples,m.defines.VSM_SAMPLES=b.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new ws(r.x,r.y)),p.uniforms.shadow_pass.value=b.map.texture,p.uniforms.resolution.value=b.mapSize,p.uniforms.radius.value=b.radius,n.setRenderTarget(b.mapPass),n.clear(),n.renderBufferDirect(C,null,P,p,x,null),m.uniforms.shadow_pass.value=b.mapPass.texture,m.uniforms.resolution.value=b.mapSize,m.uniforms.radius.value=b.radius,n.setRenderTarget(b.map),n.clear(),n.renderBufferDirect(C,null,P,m,x,null)}function _(b,C,P,I){let T=null;const B=P.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(B!==void 0)T=B;else if(T=P.isPointLight===!0?l:a,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const G=T.uuid,Q=C.uuid;let J=c[G];J===void 0&&(J={},c[G]=J);let q=J[Q];q===void 0&&(q=T.clone(),J[Q]=q),T=q}if(T.visible=C.visible,T.wireframe=C.wireframe,I===as?T.side=C.shadowSide!==null?C.shadowSide:C.side:T.side=C.shadowSide!==null?C.shadowSide:d[C.side],T.alphaMap=C.alphaMap,T.alphaTest=C.alphaTest,T.map=C.map,T.clipShadows=C.clipShadows,T.clippingPlanes=C.clippingPlanes,T.clipIntersection=C.clipIntersection,T.displacementMap=C.displacementMap,T.displacementScale=C.displacementScale,T.displacementBias=C.displacementBias,T.wireframeLinewidth=C.wireframeLinewidth,T.linewidth=C.linewidth,P.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const G=n.properties.get(T);G.light=P}return T}function M(b,C,P,I,T){if(b.visible===!1)return;if(b.layers.test(C.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&T===as)&&(!b.frustumCulled||i.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,b.matrixWorld);const Q=e.update(b),J=b.material;if(Array.isArray(J)){const q=Q.groups;for(let ee=0,ie=q.length;ee<ie;ee++){const te=q[ee],F=J[te.materialIndex];if(F&&F.visible){const X=_(b,F,I,T);n.renderBufferDirect(P,null,Q,X,b,te)}}}else if(J.visible){const q=_(b,J,I,T);n.renderBufferDirect(P,null,Q,q,b,null)}}const G=b.children;for(let Q=0,J=G.length;Q<J;Q++)M(G[Q],C,P,I,T)}}function KW(n,e,t){const i=t.isWebGL2;function r(){let W=!1;const Me=new Xt;let ae=null;const Te=new Xt(0,0,0,0);return{setMask:function(Fe){ae!==Fe&&!W&&(n.colorMask(Fe,Fe,Fe,Fe),ae=Fe)},setLocked:function(Fe){W=Fe},setClear:function(Fe,Tt,Bt,Ft,si){si===!0&&(Fe*=Ft,Tt*=Ft,Bt*=Ft),Me.set(Fe,Tt,Bt,Ft),Te.equals(Me)===!1&&(n.clearColor(Fe,Tt,Bt,Ft),Te.copy(Me))},reset:function(){W=!1,ae=null,Te.set(-1,0,0,0)}}}function s(){let W=!1,Me=null,ae=null,Te=null;return{setTest:function(Fe){Fe?Le(n.DEPTH_TEST):ze(n.DEPTH_TEST)},setMask:function(Fe){Me!==Fe&&!W&&(n.depthMask(Fe),Me=Fe)},setFunc:function(Fe){if(ae!==Fe){switch(Fe){case _D:n.depthFunc(n.NEVER);break;case wD:n.depthFunc(n.ALWAYS);break;case SD:n.depthFunc(n.LESS);break;case L0:n.depthFunc(n.LEQUAL);break;case MD:n.depthFunc(n.EQUAL);break;case ED:n.depthFunc(n.GEQUAL);break;case bD:n.depthFunc(n.GREATER);break;case CD:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ae=Fe}},setLocked:function(Fe){W=Fe},setClear:function(Fe){Te!==Fe&&(n.clearDepth(Fe),Te=Fe)},reset:function(){W=!1,Me=null,ae=null,Te=null}}}function o(){let W=!1,Me=null,ae=null,Te=null,Fe=null,Tt=null,Bt=null,Ft=null,si=null;return{setTest:function(Lt){W||(Lt?Le(n.STENCIL_TEST):ze(n.STENCIL_TEST))},setMask:function(Lt){Me!==Lt&&!W&&(n.stencilMask(Lt),Me=Lt)},setFunc:function(Lt,Un,vn){(ae!==Lt||Te!==Un||Fe!==vn)&&(n.stencilFunc(Lt,Un,vn),ae=Lt,Te=Un,Fe=vn)},setOp:function(Lt,Un,vn){(Tt!==Lt||Bt!==Un||Ft!==vn)&&(n.stencilOp(Lt,Un,vn),Tt=Lt,Bt=Un,Ft=vn)},setLocked:function(Lt){W=Lt},setClear:function(Lt){si!==Lt&&(n.clearStencil(Lt),si=Lt)},reset:function(){W=!1,Me=null,ae=null,Te=null,Fe=null,Tt=null,Bt=null,Ft=null,si=null}}}const a=new r,l=new s,c=new o,u=new WeakMap,d=new WeakMap;let p={},m={},y=new WeakMap,x=[],A=null,g=!1,w=null,_=null,M=null,b=null,C=null,P=null,I=null,T=!1,B=null,G=null,Q=null,J=null,q=null;const ee=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ie=!1,te=0;const F=n.getParameter(n.VERSION);F.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(F)[1]),ie=te>=1):F.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),ie=te>=2);let X=null,j={};const z=n.getParameter(n.SCISSOR_BOX),Y=n.getParameter(n.VIEWPORT),fe=new Xt().fromArray(z),ye=new Xt().fromArray(Y);function we(W,Me,ae,Te){const Fe=new Uint8Array(4),Tt=n.createTexture();n.bindTexture(W,Tt),n.texParameteri(W,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(W,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Bt=0;Bt<ae;Bt++)i&&(W===n.TEXTURE_3D||W===n.TEXTURE_2D_ARRAY)?n.texImage3D(Me,0,n.RGBA,1,1,Te,0,n.RGBA,n.UNSIGNED_BYTE,Fe):n.texImage2D(Me+Bt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Fe);return Tt}const Re={};Re[n.TEXTURE_2D]=we(n.TEXTURE_2D,n.TEXTURE_2D,1),Re[n.TEXTURE_CUBE_MAP]=we(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Re[n.TEXTURE_2D_ARRAY]=we(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Re[n.TEXTURE_3D]=we(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Le(n.DEPTH_TEST),l.setFunc(L0),xe(!1),Ge(T1),Le(n.CULL_FACE),me(Bo);function Le(W){p[W]!==!0&&(n.enable(W),p[W]=!0)}function ze(W){p[W]!==!1&&(n.disable(W),p[W]=!1)}function nt(W,Me){return m[W]!==Me?(n.bindFramebuffer(W,Me),m[W]=Me,i&&(W===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=Me),W===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=Me)),!0):!1}function et(W,Me){let ae=x,Te=!1;if(W)if(ae=y.get(Me),ae===void 0&&(ae=[],y.set(Me,ae)),W.isWebGLMultipleRenderTargets){const Fe=W.texture;if(ae.length!==Fe.length||ae[0]!==n.COLOR_ATTACHMENT0){for(let Tt=0,Bt=Fe.length;Tt<Bt;Tt++)ae[Tt]=n.COLOR_ATTACHMENT0+Tt;ae.length=Fe.length,Te=!0}}else ae[0]!==n.COLOR_ATTACHMENT0&&(ae[0]=n.COLOR_ATTACHMENT0,Te=!0);else ae[0]!==n.BACK&&(ae[0]=n.BACK,Te=!0);Te&&(t.isWebGL2?n.drawBuffers(ae):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ae))}function _e(W){return A!==W?(n.useProgram(W),A=W,!0):!1}const H={[Il]:n.FUNC_ADD,[uD]:n.FUNC_SUBTRACT,[hD]:n.FUNC_REVERSE_SUBTRACT};if(i)H[I1]=n.MIN,H[L1]=n.MAX;else{const W=e.get("EXT_blend_minmax");W!==null&&(H[I1]=W.MIN_EXT,H[L1]=W.MAX_EXT)}const ve={[fD]:n.ZERO,[dD]:n.ONE,[pD]:n.SRC_COLOR,[XS]:n.SRC_ALPHA,[AD]:n.SRC_ALPHA_SATURATE,[vD]:n.DST_COLOR,[gD]:n.DST_ALPHA,[mD]:n.ONE_MINUS_SRC_COLOR,[JS]:n.ONE_MINUS_SRC_ALPHA,[xD]:n.ONE_MINUS_DST_COLOR,[yD]:n.ONE_MINUS_DST_ALPHA};function me(W,Me,ae,Te,Fe,Tt,Bt,Ft){if(W===Bo){g===!0&&(ze(n.BLEND),g=!1);return}if(g===!1&&(Le(n.BLEND),g=!0),W!==cD){if(W!==w||Ft!==T){if((_!==Il||C!==Il)&&(n.blendEquation(n.FUNC_ADD),_=Il,C=Il),Ft)switch(W){case Yl:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case R1:n.blendFunc(n.ONE,n.ONE);break;case P1:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case B1:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",W);break}else switch(W){case Yl:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case R1:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case P1:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case B1:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",W);break}M=null,b=null,P=null,I=null,w=W,T=Ft}return}Fe=Fe||Me,Tt=Tt||ae,Bt=Bt||Te,(Me!==_||Fe!==C)&&(n.blendEquationSeparate(H[Me],H[Fe]),_=Me,C=Fe),(ae!==M||Te!==b||Tt!==P||Bt!==I)&&(n.blendFuncSeparate(ve[ae],ve[Te],ve[Tt],ve[Bt]),M=ae,b=Te,P=Tt,I=Bt),w=W,T=!1}function Se(W,Me){W.side===Vr?ze(n.CULL_FACE):Le(n.CULL_FACE);let ae=W.side===Oi;Me&&(ae=!ae),xe(ae),W.blending===Yl&&W.transparent===!1?me(Bo):me(W.blending,W.blendEquation,W.blendSrc,W.blendDst,W.blendEquationAlpha,W.blendSrcAlpha,W.blendDstAlpha,W.premultipliedAlpha),l.setFunc(W.depthFunc),l.setTest(W.depthTest),l.setMask(W.depthWrite),a.setMask(W.colorWrite);const Te=W.stencilWrite;c.setTest(Te),Te&&(c.setMask(W.stencilWriteMask),c.setFunc(W.stencilFunc,W.stencilRef,W.stencilFuncMask),c.setOp(W.stencilFail,W.stencilZFail,W.stencilZPass)),He(W.polygonOffset,W.polygonOffsetFactor,W.polygonOffsetUnits),W.alphaToCoverage===!0?Le(n.SAMPLE_ALPHA_TO_COVERAGE):ze(n.SAMPLE_ALPHA_TO_COVERAGE)}function xe(W){B!==W&&(W?n.frontFace(n.CW):n.frontFace(n.CCW),B=W)}function Ge(W){W!==oD?(Le(n.CULL_FACE),W!==G&&(W===T1?n.cullFace(n.BACK):W===aD?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ze(n.CULL_FACE),G=W}function Ne(W){W!==Q&&(ie&&n.lineWidth(W),Q=W)}function He(W,Me,ae){W?(Le(n.POLYGON_OFFSET_FILL),(J!==Me||q!==ae)&&(n.polygonOffset(Me,ae),J=Me,q=ae)):ze(n.POLYGON_OFFSET_FILL)}function tt(W){W?Le(n.SCISSOR_TEST):ze(n.SCISSOR_TEST)}function xt(W){W===void 0&&(W=n.TEXTURE0+ee-1),X!==W&&(n.activeTexture(W),X=W)}function Wt(W,Me,ae){ae===void 0&&(X===null?ae=n.TEXTURE0+ee-1:ae=X);let Te=j[ae];Te===void 0&&(Te={type:void 0,texture:void 0},j[ae]=Te),(Te.type!==W||Te.texture!==Me)&&(X!==ae&&(n.activeTexture(ae),X=ae),n.bindTexture(W,Me||Re[W]),Te.type=W,Te.texture=Me)}function U(){const W=j[X];W!==void 0&&W.type!==void 0&&(n.bindTexture(W.type,null),W.type=void 0,W.texture=void 0)}function L(){try{n.compressedTexImage2D.apply(n,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function oe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Ee(){try{n.texSubImage2D.apply(n,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Ae(){try{n.texSubImage3D.apply(n,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Ce(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Ye(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Pe(){try{n.texStorage2D.apply(n,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function le(){try{n.texStorage3D.apply(n,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function $e(){try{n.texImage2D.apply(n,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function qe(){try{n.texImage3D.apply(n,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Qe(W){fe.equals(W)===!1&&(n.scissor(W.x,W.y,W.z,W.w),fe.copy(W))}function Ve(W){ye.equals(W)===!1&&(n.viewport(W.x,W.y,W.z,W.w),ye.copy(W))}function V(W,Me){let ae=d.get(Me);ae===void 0&&(ae=new WeakMap,d.set(Me,ae));let Te=ae.get(W);Te===void 0&&(Te=n.getUniformBlockIndex(Me,W.name),ae.set(W,Te))}function ge(W,Me){const Te=d.get(Me).get(W);u.get(Me)!==Te&&(n.uniformBlockBinding(Me,Te,W.__bindingPointIndex),u.set(Me,Te))}function De(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},X=null,j={},m={},y=new WeakMap,x=[],A=null,g=!1,w=null,_=null,M=null,b=null,C=null,P=null,I=null,T=!1,B=null,G=null,Q=null,J=null,q=null,fe.set(0,0,n.canvas.width,n.canvas.height),ye.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Le,disable:ze,bindFramebuffer:nt,drawBuffers:et,useProgram:_e,setBlending:me,setMaterial:Se,setFlipSided:xe,setCullFace:Ge,setLineWidth:Ne,setPolygonOffset:He,setScissorTest:tt,activeTexture:xt,bindTexture:Wt,unbindTexture:U,compressedTexImage2D:L,compressedTexImage3D:oe,texImage2D:$e,texImage3D:qe,updateUBOMapping:V,uniformBlockBinding:ge,texStorage2D:Pe,texStorage3D:le,texSubImage2D:Ee,texSubImage3D:Ae,compressedTexSubImage2D:Ce,compressedTexSubImage3D:Ye,scissor:Qe,viewport:Ve,reset:De}}function qW(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let x;const A=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(U,L){return g?new OffscreenCanvas(U,L):wd("canvas")}function _(U,L,oe,Ee){let Ae=1;if((U.width>Ee||U.height>Ee)&&(Ae=Ee/Math.max(U.width,U.height)),Ae<1||L===!0)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap){const Ce=L?F0:Math.floor,Ye=Ce(Ae*U.width),Pe=Ce(Ae*U.height);x===void 0&&(x=w(Ye,Pe));const le=oe?w(Ye,Pe):x;return le.width=Ye,le.height=Pe,le.getContext("2d").drawImage(U,0,0,Ye,Pe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+U.width+"x"+U.height+") to ("+Ye+"x"+Pe+")."),le}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+U.width+"x"+U.height+")."),U;return U}function M(U){return rw(U.width)&&rw(U.height)}function b(U){return a?!1:U.wrapS!==ci||U.wrapT!==ci||U.minFilter!==Mn&&U.minFilter!==dn}function C(U,L){return U.generateMipmaps&&L&&U.minFilter!==Mn&&U.minFilter!==dn}function P(U){n.generateMipmap(U)}function I(U,L,oe,Ee,Ae=!1){if(a===!1)return L;if(U!==null){if(n[U]!==void 0)return n[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let Ce=L;return L===n.RED&&(oe===n.FLOAT&&(Ce=n.R32F),oe===n.HALF_FLOAT&&(Ce=n.R16F),oe===n.UNSIGNED_BYTE&&(Ce=n.R8)),L===n.RED_INTEGER&&(oe===n.UNSIGNED_BYTE&&(Ce=n.R8UI),oe===n.UNSIGNED_SHORT&&(Ce=n.R16UI),oe===n.UNSIGNED_INT&&(Ce=n.R32UI),oe===n.BYTE&&(Ce=n.R8I),oe===n.SHORT&&(Ce=n.R16I),oe===n.INT&&(Ce=n.R32I)),L===n.RG&&(oe===n.FLOAT&&(Ce=n.RG32F),oe===n.HALF_FLOAT&&(Ce=n.RG16F),oe===n.UNSIGNED_BYTE&&(Ce=n.RG8)),L===n.RGBA&&(oe===n.FLOAT&&(Ce=n.RGBA32F),oe===n.HALF_FLOAT&&(Ce=n.RGBA16F),oe===n.UNSIGNED_BYTE&&(Ce=Ee===yt&&Ae===!1?n.SRGB8_ALPHA8:n.RGBA8),oe===n.UNSIGNED_SHORT_4_4_4_4&&(Ce=n.RGBA4),oe===n.UNSIGNED_SHORT_5_5_5_1&&(Ce=n.RGB5_A1)),(Ce===n.R16F||Ce===n.R32F||Ce===n.RG16F||Ce===n.RG32F||Ce===n.RGBA16F||Ce===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ce}function T(U,L,oe){return C(U,oe)===!0||U.isFramebufferTexture&&U.minFilter!==Mn&&U.minFilter!==dn?Math.log2(Math.max(L.width,L.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?L.mipmaps.length:1}function B(U){return U===Mn||U===vd||U===Vu?n.NEAREST:n.LINEAR}function G(U){const L=U.target;L.removeEventListener("dispose",G),J(L),L.isVideoTexture&&y.delete(L)}function Q(U){const L=U.target;L.removeEventListener("dispose",Q),ee(L)}function J(U){const L=i.get(U);if(L.__webglInit===void 0)return;const oe=U.source,Ee=A.get(oe);if(Ee){const Ae=Ee[L.__cacheKey];Ae.usedTimes--,Ae.usedTimes===0&&q(U),Object.keys(Ee).length===0&&A.delete(oe)}i.remove(U)}function q(U){const L=i.get(U);n.deleteTexture(L.__webglTexture);const oe=U.source,Ee=A.get(oe);delete Ee[L.__cacheKey],o.memory.textures--}function ee(U){const L=U.texture,oe=i.get(U),Ee=i.get(L);if(Ee.__webglTexture!==void 0&&(n.deleteTexture(Ee.__webglTexture),o.memory.textures--),U.depthTexture&&U.depthTexture.dispose(),U.isWebGLCubeRenderTarget)for(let Ae=0;Ae<6;Ae++){if(Array.isArray(oe.__webglFramebuffer[Ae]))for(let Ce=0;Ce<oe.__webglFramebuffer[Ae].length;Ce++)n.deleteFramebuffer(oe.__webglFramebuffer[Ae][Ce]);else n.deleteFramebuffer(oe.__webglFramebuffer[Ae]);oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[Ae])}else{if(Array.isArray(oe.__webglFramebuffer))for(let Ae=0;Ae<oe.__webglFramebuffer.length;Ae++)n.deleteFramebuffer(oe.__webglFramebuffer[Ae]);else n.deleteFramebuffer(oe.__webglFramebuffer);if(oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let Ae=0;Ae<oe.__webglColorRenderbuffer.length;Ae++)oe.__webglColorRenderbuffer[Ae]&&n.deleteRenderbuffer(oe.__webglColorRenderbuffer[Ae]);oe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(U.isWebGLMultipleRenderTargets)for(let Ae=0,Ce=L.length;Ae<Ce;Ae++){const Ye=i.get(L[Ae]);Ye.__webglTexture&&(n.deleteTexture(Ye.__webglTexture),o.memory.textures--),i.remove(L[Ae])}i.remove(L),i.remove(U)}let ie=0;function te(){ie=0}function F(){const U=ie;return U>=l&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+l),ie+=1,U}function X(U){const L=[];return L.push(U.wrapS),L.push(U.wrapT),L.push(U.wrapR||0),L.push(U.magFilter),L.push(U.minFilter),L.push(U.anisotropy),L.push(U.internalFormat),L.push(U.format),L.push(U.type),L.push(U.generateMipmaps),L.push(U.premultiplyAlpha),L.push(U.flipY),L.push(U.unpackAlignment),L.push(U.colorSpace),L.join()}function j(U,L){const oe=i.get(U);if(U.isVideoTexture&&xt(U),U.isRenderTargetTexture===!1&&U.version>0&&oe.__version!==U.version){const Ee=U.image;if(Ee===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ee.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{nt(oe,U,L);return}}t.bindTexture(n.TEXTURE_2D,oe.__webglTexture,n.TEXTURE0+L)}function z(U,L){const oe=i.get(U);if(U.version>0&&oe.__version!==U.version){nt(oe,U,L);return}t.bindTexture(n.TEXTURE_2D_ARRAY,oe.__webglTexture,n.TEXTURE0+L)}function Y(U,L){const oe=i.get(U);if(U.version>0&&oe.__version!==U.version){nt(oe,U,L);return}t.bindTexture(n.TEXTURE_3D,oe.__webglTexture,n.TEXTURE0+L)}function fe(U,L){const oe=i.get(U);if(U.version>0&&oe.__version!==U.version){et(oe,U,L);return}t.bindTexture(n.TEXTURE_CUBE_MAP,oe.__webglTexture,n.TEXTURE0+L)}const ye={[Ga]:n.REPEAT,[ci]:n.CLAMP_TO_EDGE,[eh]:n.MIRRORED_REPEAT},we={[Mn]:n.NEAREST,[vd]:n.NEAREST_MIPMAP_NEAREST,[Vu]:n.NEAREST_MIPMAP_LINEAR,[dn]:n.LINEAR,[Ey]:n.LINEAR_MIPMAP_NEAREST,[$s]:n.LINEAR_MIPMAP_LINEAR},Re={[QD]:n.NEVER,[rk]:n.ALWAYS,[ZD]:n.LESS,[ek]:n.LEQUAL,[$D]:n.EQUAL,[ik]:n.GEQUAL,[tk]:n.GREATER,[nk]:n.NOTEQUAL};function Le(U,L,oe){if(oe?(n.texParameteri(U,n.TEXTURE_WRAP_S,ye[L.wrapS]),n.texParameteri(U,n.TEXTURE_WRAP_T,ye[L.wrapT]),(U===n.TEXTURE_3D||U===n.TEXTURE_2D_ARRAY)&&n.texParameteri(U,n.TEXTURE_WRAP_R,ye[L.wrapR]),n.texParameteri(U,n.TEXTURE_MAG_FILTER,we[L.magFilter]),n.texParameteri(U,n.TEXTURE_MIN_FILTER,we[L.minFilter])):(n.texParameteri(U,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(U,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(U===n.TEXTURE_3D||U===n.TEXTURE_2D_ARRAY)&&n.texParameteri(U,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(L.wrapS!==ci||L.wrapT!==ci)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(U,n.TEXTURE_MAG_FILTER,B(L.magFilter)),n.texParameteri(U,n.TEXTURE_MIN_FILTER,B(L.minFilter)),L.minFilter!==Mn&&L.minFilter!==dn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),L.compareFunction&&(n.texParameteri(U,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(U,n.TEXTURE_COMPARE_FUNC,Re[L.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ee=e.get("EXT_texture_filter_anisotropic");if(L.magFilter===Mn||L.minFilter!==Vu&&L.minFilter!==$s||L.type===Ws&&e.has("OES_texture_float_linear")===!1||a===!1&&L.type===th&&e.has("OES_texture_half_float_linear")===!1)return;(L.anisotropy>1||i.get(L).__currentAnisotropy)&&(n.texParameterf(U,Ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(L.anisotropy,r.getMaxAnisotropy())),i.get(L).__currentAnisotropy=L.anisotropy)}}function ze(U,L){let oe=!1;U.__webglInit===void 0&&(U.__webglInit=!0,L.addEventListener("dispose",G));const Ee=L.source;let Ae=A.get(Ee);Ae===void 0&&(Ae={},A.set(Ee,Ae));const Ce=X(L);if(Ce!==U.__cacheKey){Ae[Ce]===void 0&&(Ae[Ce]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,oe=!0),Ae[Ce].usedTimes++;const Ye=Ae[U.__cacheKey];Ye!==void 0&&(Ae[U.__cacheKey].usedTimes--,Ye.usedTimes===0&&q(L)),U.__cacheKey=Ce,U.__webglTexture=Ae[Ce].texture}return oe}function nt(U,L,oe){let Ee=n.TEXTURE_2D;(L.isDataArrayTexture||L.isCompressedArrayTexture)&&(Ee=n.TEXTURE_2D_ARRAY),L.isData3DTexture&&(Ee=n.TEXTURE_3D);const Ae=ze(U,L),Ce=L.source;t.bindTexture(Ee,U.__webglTexture,n.TEXTURE0+oe);const Ye=i.get(Ce);if(Ce.version!==Ye.__version||Ae===!0){t.activeTexture(n.TEXTURE0+oe),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,L.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,L.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,L.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Pe=b(L)&&M(L.image)===!1;let le=_(L.image,Pe,!1,u);le=Wt(L,le);const $e=M(le)||a,qe=s.convert(L.format,L.colorSpace);let Qe=s.convert(L.type),Ve=I(L.internalFormat,qe,Qe,L.colorSpace);Le(Ee,L,$e);let V;const ge=L.mipmaps,De=a&&L.isVideoTexture!==!0,W=Ye.__version===void 0||Ae===!0,Me=T(L,le,$e);if(L.isDepthTexture)Ve=n.DEPTH_COMPONENT,a?L.type===Ws?Ve=n.DEPTH_COMPONENT32F:L.type===bo?Ve=n.DEPTH_COMPONENT24:L.type===Ba?Ve=n.DEPTH24_STENCIL8:Ve=n.DEPTH_COMPONENT16:L.type===Ws&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),L.format===Ia&&Ve===n.DEPTH_COMPONENT&&L.type!==by&&L.type!==bo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),L.type=bo,Qe=s.convert(L.type)),L.format===sc&&Ve===n.DEPTH_COMPONENT&&(Ve=n.DEPTH_STENCIL,L.type!==Ba&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),L.type=Ba,Qe=s.convert(L.type))),W&&(De?t.texStorage2D(n.TEXTURE_2D,1,Ve,le.width,le.height):t.texImage2D(n.TEXTURE_2D,0,Ve,le.width,le.height,0,qe,Qe,null));else if(L.isDataTexture)if(ge.length>0&&$e){De&&W&&t.texStorage2D(n.TEXTURE_2D,Me,Ve,ge[0].width,ge[0].height);for(let ae=0,Te=ge.length;ae<Te;ae++)V=ge[ae],De?t.texSubImage2D(n.TEXTURE_2D,ae,0,0,V.width,V.height,qe,Qe,V.data):t.texImage2D(n.TEXTURE_2D,ae,Ve,V.width,V.height,0,qe,Qe,V.data);L.generateMipmaps=!1}else De?(W&&t.texStorage2D(n.TEXTURE_2D,Me,Ve,le.width,le.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,le.width,le.height,qe,Qe,le.data)):t.texImage2D(n.TEXTURE_2D,0,Ve,le.width,le.height,0,qe,Qe,le.data);else if(L.isCompressedTexture)if(L.isCompressedArrayTexture){De&&W&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Me,Ve,ge[0].width,ge[0].height,le.depth);for(let ae=0,Te=ge.length;ae<Te;ae++)V=ge[ae],L.format!==Yi?qe!==null?De?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ae,0,0,0,V.width,V.height,le.depth,qe,V.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ae,Ve,V.width,V.height,le.depth,0,V.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):De?t.texSubImage3D(n.TEXTURE_2D_ARRAY,ae,0,0,0,V.width,V.height,le.depth,qe,Qe,V.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ae,Ve,V.width,V.height,le.depth,0,qe,Qe,V.data)}else{De&&W&&t.texStorage2D(n.TEXTURE_2D,Me,Ve,ge[0].width,ge[0].height);for(let ae=0,Te=ge.length;ae<Te;ae++)V=ge[ae],L.format!==Yi?qe!==null?De?t.compressedTexSubImage2D(n.TEXTURE_2D,ae,0,0,V.width,V.height,qe,V.data):t.compressedTexImage2D(n.TEXTURE_2D,ae,Ve,V.width,V.height,0,V.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):De?t.texSubImage2D(n.TEXTURE_2D,ae,0,0,V.width,V.height,qe,Qe,V.data):t.texImage2D(n.TEXTURE_2D,ae,Ve,V.width,V.height,0,qe,Qe,V.data)}else if(L.isDataArrayTexture)De?(W&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Me,Ve,le.width,le.height,le.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,le.width,le.height,le.depth,qe,Qe,le.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ve,le.width,le.height,le.depth,0,qe,Qe,le.data);else if(L.isData3DTexture)De?(W&&t.texStorage3D(n.TEXTURE_3D,Me,Ve,le.width,le.height,le.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,le.width,le.height,le.depth,qe,Qe,le.data)):t.texImage3D(n.TEXTURE_3D,0,Ve,le.width,le.height,le.depth,0,qe,Qe,le.data);else if(L.isFramebufferTexture){if(W)if(De)t.texStorage2D(n.TEXTURE_2D,Me,Ve,le.width,le.height);else{let ae=le.width,Te=le.height;for(let Fe=0;Fe<Me;Fe++)t.texImage2D(n.TEXTURE_2D,Fe,Ve,ae,Te,0,qe,Qe,null),ae>>=1,Te>>=1}}else if(ge.length>0&&$e){De&&W&&t.texStorage2D(n.TEXTURE_2D,Me,Ve,ge[0].width,ge[0].height);for(let ae=0,Te=ge.length;ae<Te;ae++)V=ge[ae],De?t.texSubImage2D(n.TEXTURE_2D,ae,0,0,qe,Qe,V):t.texImage2D(n.TEXTURE_2D,ae,Ve,qe,Qe,V);L.generateMipmaps=!1}else De?(W&&t.texStorage2D(n.TEXTURE_2D,Me,Ve,le.width,le.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,qe,Qe,le)):t.texImage2D(n.TEXTURE_2D,0,Ve,qe,Qe,le);C(L,$e)&&P(Ee),Ye.__version=Ce.version,L.onUpdate&&L.onUpdate(L)}U.__version=L.version}function et(U,L,oe){if(L.image.length!==6)return;const Ee=ze(U,L),Ae=L.source;t.bindTexture(n.TEXTURE_CUBE_MAP,U.__webglTexture,n.TEXTURE0+oe);const Ce=i.get(Ae);if(Ae.version!==Ce.__version||Ee===!0){t.activeTexture(n.TEXTURE0+oe),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,L.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,L.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,L.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Ye=L.isCompressedTexture||L.image[0].isCompressedTexture,Pe=L.image[0]&&L.image[0].isDataTexture,le=[];for(let ae=0;ae<6;ae++)!Ye&&!Pe?le[ae]=_(L.image[ae],!1,!0,c):le[ae]=Pe?L.image[ae].image:L.image[ae],le[ae]=Wt(L,le[ae]);const $e=le[0],qe=M($e)||a,Qe=s.convert(L.format,L.colorSpace),Ve=s.convert(L.type),V=I(L.internalFormat,Qe,Ve,L.colorSpace),ge=a&&L.isVideoTexture!==!0,De=Ce.__version===void 0||Ee===!0;let W=T(L,$e,qe);Le(n.TEXTURE_CUBE_MAP,L,qe);let Me;if(Ye){ge&&De&&t.texStorage2D(n.TEXTURE_CUBE_MAP,W,V,$e.width,$e.height);for(let ae=0;ae<6;ae++){Me=le[ae].mipmaps;for(let Te=0;Te<Me.length;Te++){const Fe=Me[Te];L.format!==Yi?Qe!==null?ge?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te,0,0,Fe.width,Fe.height,Qe,Fe.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te,V,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ge?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te,0,0,Fe.width,Fe.height,Qe,Ve,Fe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te,V,Fe.width,Fe.height,0,Qe,Ve,Fe.data)}}}else{Me=L.mipmaps,ge&&De&&(Me.length>0&&W++,t.texStorage2D(n.TEXTURE_CUBE_MAP,W,V,le[0].width,le[0].height));for(let ae=0;ae<6;ae++)if(Pe){ge?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,0,0,le[ae].width,le[ae].height,Qe,Ve,le[ae].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,V,le[ae].width,le[ae].height,0,Qe,Ve,le[ae].data);for(let Te=0;Te<Me.length;Te++){const Tt=Me[Te].image[ae].image;ge?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te+1,0,0,Tt.width,Tt.height,Qe,Ve,Tt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te+1,V,Tt.width,Tt.height,0,Qe,Ve,Tt.data)}}else{ge?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,0,0,Qe,Ve,le[ae]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,V,Qe,Ve,le[ae]);for(let Te=0;Te<Me.length;Te++){const Fe=Me[Te];ge?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te+1,0,0,Qe,Ve,Fe.image[ae]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te+1,V,Qe,Ve,Fe.image[ae])}}}C(L,qe)&&P(n.TEXTURE_CUBE_MAP),Ce.__version=Ae.version,L.onUpdate&&L.onUpdate(L)}U.__version=L.version}function _e(U,L,oe,Ee,Ae,Ce){const Ye=s.convert(oe.format,oe.colorSpace),Pe=s.convert(oe.type),le=I(oe.internalFormat,Ye,Pe,oe.colorSpace);if(!i.get(L).__hasExternalTextures){const qe=Math.max(1,L.width>>Ce),Qe=Math.max(1,L.height>>Ce);Ae===n.TEXTURE_3D||Ae===n.TEXTURE_2D_ARRAY?t.texImage3D(Ae,Ce,le,qe,Qe,L.depth,0,Ye,Pe,null):t.texImage2D(Ae,Ce,le,qe,Qe,0,Ye,Pe,null)}t.bindFramebuffer(n.FRAMEBUFFER,U),tt(L)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ee,Ae,i.get(oe).__webglTexture,0,He(L)):(Ae===n.TEXTURE_2D||Ae>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ae<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ee,Ae,i.get(oe).__webglTexture,Ce),t.bindFramebuffer(n.FRAMEBUFFER,null)}function H(U,L,oe){if(n.bindRenderbuffer(n.RENDERBUFFER,U),L.depthBuffer&&!L.stencilBuffer){let Ee=n.DEPTH_COMPONENT16;if(oe||tt(L)){const Ae=L.depthTexture;Ae&&Ae.isDepthTexture&&(Ae.type===Ws?Ee=n.DEPTH_COMPONENT32F:Ae.type===bo&&(Ee=n.DEPTH_COMPONENT24));const Ce=He(L);tt(L)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ce,Ee,L.width,L.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Ce,Ee,L.width,L.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ee,L.width,L.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,U)}else if(L.depthBuffer&&L.stencilBuffer){const Ee=He(L);oe&&tt(L)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ee,n.DEPTH24_STENCIL8,L.width,L.height):tt(L)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ee,n.DEPTH24_STENCIL8,L.width,L.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,L.width,L.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,U)}else{const Ee=L.isWebGLMultipleRenderTargets===!0?L.texture:[L.texture];for(let Ae=0;Ae<Ee.length;Ae++){const Ce=Ee[Ae],Ye=s.convert(Ce.format,Ce.colorSpace),Pe=s.convert(Ce.type),le=I(Ce.internalFormat,Ye,Pe,Ce.colorSpace),$e=He(L);oe&&tt(L)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,$e,le,L.width,L.height):tt(L)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,$e,le,L.width,L.height):n.renderbufferStorage(n.RENDERBUFFER,le,L.width,L.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ve(U,L){if(L&&L.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,U),!(L.depthTexture&&L.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(L.depthTexture).__webglTexture||L.depthTexture.image.width!==L.width||L.depthTexture.image.height!==L.height)&&(L.depthTexture.image.width=L.width,L.depthTexture.image.height=L.height,L.depthTexture.needsUpdate=!0),j(L.depthTexture,0);const Ee=i.get(L.depthTexture).__webglTexture,Ae=He(L);if(L.depthTexture.format===Ia)tt(L)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ee,0,Ae):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ee,0);else if(L.depthTexture.format===sc)tt(L)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ee,0,Ae):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ee,0);else throw new Error("Unknown depthTexture format")}function me(U){const L=i.get(U),oe=U.isWebGLCubeRenderTarget===!0;if(U.depthTexture&&!L.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");ve(L.__webglFramebuffer,U)}else if(oe){L.__webglDepthbuffer=[];for(let Ee=0;Ee<6;Ee++)t.bindFramebuffer(n.FRAMEBUFFER,L.__webglFramebuffer[Ee]),L.__webglDepthbuffer[Ee]=n.createRenderbuffer(),H(L.__webglDepthbuffer[Ee],U,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,L.__webglFramebuffer),L.__webglDepthbuffer=n.createRenderbuffer(),H(L.__webglDepthbuffer,U,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Se(U,L,oe){const Ee=i.get(U);L!==void 0&&_e(Ee.__webglFramebuffer,U,U.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),oe!==void 0&&me(U)}function xe(U){const L=U.texture,oe=i.get(U),Ee=i.get(L);U.addEventListener("dispose",Q),U.isWebGLMultipleRenderTargets!==!0&&(Ee.__webglTexture===void 0&&(Ee.__webglTexture=n.createTexture()),Ee.__version=L.version,o.memory.textures++);const Ae=U.isWebGLCubeRenderTarget===!0,Ce=U.isWebGLMultipleRenderTargets===!0,Ye=M(U)||a;if(Ae){oe.__webglFramebuffer=[];for(let Pe=0;Pe<6;Pe++)if(a&&L.mipmaps&&L.mipmaps.length>0){oe.__webglFramebuffer[Pe]=[];for(let le=0;le<L.mipmaps.length;le++)oe.__webglFramebuffer[Pe][le]=n.createFramebuffer()}else oe.__webglFramebuffer[Pe]=n.createFramebuffer()}else{if(a&&L.mipmaps&&L.mipmaps.length>0){oe.__webglFramebuffer=[];for(let Pe=0;Pe<L.mipmaps.length;Pe++)oe.__webglFramebuffer[Pe]=n.createFramebuffer()}else oe.__webglFramebuffer=n.createFramebuffer();if(Ce)if(r.drawBuffers){const Pe=U.texture;for(let le=0,$e=Pe.length;le<$e;le++){const qe=i.get(Pe[le]);qe.__webglTexture===void 0&&(qe.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&U.samples>0&&tt(U)===!1){const Pe=Ce?L:[L];oe.__webglMultisampledFramebuffer=n.createFramebuffer(),oe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let le=0;le<Pe.length;le++){const $e=Pe[le];oe.__webglColorRenderbuffer[le]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,oe.__webglColorRenderbuffer[le]);const qe=s.convert($e.format,$e.colorSpace),Qe=s.convert($e.type),Ve=I($e.internalFormat,qe,Qe,$e.colorSpace,U.isXRRenderTarget===!0),V=He(U);n.renderbufferStorageMultisample(n.RENDERBUFFER,V,Ve,U.width,U.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+le,n.RENDERBUFFER,oe.__webglColorRenderbuffer[le])}n.bindRenderbuffer(n.RENDERBUFFER,null),U.depthBuffer&&(oe.__webglDepthRenderbuffer=n.createRenderbuffer(),H(oe.__webglDepthRenderbuffer,U,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ae){t.bindTexture(n.TEXTURE_CUBE_MAP,Ee.__webglTexture),Le(n.TEXTURE_CUBE_MAP,L,Ye);for(let Pe=0;Pe<6;Pe++)if(a&&L.mipmaps&&L.mipmaps.length>0)for(let le=0;le<L.mipmaps.length;le++)_e(oe.__webglFramebuffer[Pe][le],U,L,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,le);else _e(oe.__webglFramebuffer[Pe],U,L,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0);C(L,Ye)&&P(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ce){const Pe=U.texture;for(let le=0,$e=Pe.length;le<$e;le++){const qe=Pe[le],Qe=i.get(qe);t.bindTexture(n.TEXTURE_2D,Qe.__webglTexture),Le(n.TEXTURE_2D,qe,Ye),_e(oe.__webglFramebuffer,U,qe,n.COLOR_ATTACHMENT0+le,n.TEXTURE_2D,0),C(qe,Ye)&&P(n.TEXTURE_2D)}t.unbindTexture()}else{let Pe=n.TEXTURE_2D;if((U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(a?Pe=U.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Pe,Ee.__webglTexture),Le(Pe,L,Ye),a&&L.mipmaps&&L.mipmaps.length>0)for(let le=0;le<L.mipmaps.length;le++)_e(oe.__webglFramebuffer[le],U,L,n.COLOR_ATTACHMENT0,Pe,le);else _e(oe.__webglFramebuffer,U,L,n.COLOR_ATTACHMENT0,Pe,0);C(L,Ye)&&P(Pe),t.unbindTexture()}U.depthBuffer&&me(U)}function Ge(U){const L=M(U)||a,oe=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let Ee=0,Ae=oe.length;Ee<Ae;Ee++){const Ce=oe[Ee];if(C(Ce,L)){const Ye=U.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Pe=i.get(Ce).__webglTexture;t.bindTexture(Ye,Pe),P(Ye),t.unbindTexture()}}}function Ne(U){if(a&&U.samples>0&&tt(U)===!1){const L=U.isWebGLMultipleRenderTargets?U.texture:[U.texture],oe=U.width,Ee=U.height;let Ae=n.COLOR_BUFFER_BIT;const Ce=[],Ye=U.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Pe=i.get(U),le=U.isWebGLMultipleRenderTargets===!0;if(le)for(let $e=0;$e<L.length;$e++)t.bindFramebuffer(n.FRAMEBUFFER,Pe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+$e,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Pe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+$e,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Pe.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Pe.__webglFramebuffer);for(let $e=0;$e<L.length;$e++){Ce.push(n.COLOR_ATTACHMENT0+$e),U.depthBuffer&&Ce.push(Ye);const qe=Pe.__ignoreDepthValues!==void 0?Pe.__ignoreDepthValues:!1;if(qe===!1&&(U.depthBuffer&&(Ae|=n.DEPTH_BUFFER_BIT),U.stencilBuffer&&(Ae|=n.STENCIL_BUFFER_BIT)),le&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Pe.__webglColorRenderbuffer[$e]),qe===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Ye]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Ye])),le){const Qe=i.get(L[$e]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Qe,0)}n.blitFramebuffer(0,0,oe,Ee,0,0,oe,Ee,Ae,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ce)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),le)for(let $e=0;$e<L.length;$e++){t.bindFramebuffer(n.FRAMEBUFFER,Pe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+$e,n.RENDERBUFFER,Pe.__webglColorRenderbuffer[$e]);const qe=i.get(L[$e]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Pe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+$e,n.TEXTURE_2D,qe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Pe.__webglMultisampledFramebuffer)}}function He(U){return Math.min(d,U.samples)}function tt(U){const L=i.get(U);return a&&U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&L.__useRenderToTexture!==!1}function xt(U){const L=o.render.frame;y.get(U)!==L&&(y.set(U,L),U.update())}function Wt(U,L){const oe=U.colorSpace,Ee=U.format,Ae=U.type;return U.isCompressedTexture===!0||U.format===k0||oe!==_s&&oe!==Da&&(oe===yt?a===!1?e.has("EXT_sRGB")===!0&&Ee===Yi?(U.format=k0,U.minFilter=dn,U.generateMipmaps=!1):L=aM.sRGBToLinear(L):(Ee!==Yi||Ae!==Ks)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",oe)),L}this.allocateTextureUnit=F,this.resetTextureUnits=te,this.setTexture2D=j,this.setTexture2DArray=z,this.setTexture3D=Y,this.setTextureCube=fe,this.rebindTextures=Se,this.setupRenderTarget=xe,this.updateRenderTargetMipmap=Ge,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=me,this.setupFrameBufferTexture=_e,this.useMultisampledRTT=tt}function gk(n,e,t){const i=t.isWebGL2;function r(s,o=Da){let a;if(s===Ks)return n.UNSIGNED_BYTE;if(s===qS)return n.UNSIGNED_SHORT_4_4_4_4;if(s===QS)return n.UNSIGNED_SHORT_5_5_5_1;if(s===DD)return n.BYTE;if(s===kD)return n.SHORT;if(s===by)return n.UNSIGNED_SHORT;if(s===KS)return n.INT;if(s===bo)return n.UNSIGNED_INT;if(s===Ws)return n.FLOAT;if(s===th)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===FD)return n.ALPHA;if(s===Yi)return n.RGBA;if(s===OD)return n.LUMINANCE;if(s===ND)return n.LUMINANCE_ALPHA;if(s===Ia)return n.DEPTH_COMPONENT;if(s===sc)return n.DEPTH_STENCIL;if(s===k0)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===UD)return n.RED;if(s===ZS)return n.RED_INTEGER;if(s===zD)return n.RG;if(s===$S)return n.RG_INTEGER;if(s===eM)return n.RGBA_INTEGER;if(s===zg||s===Hg||s===Gg||s===Vg)if(o===yt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===zg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Hg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Gg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Vg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===zg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Hg)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Gg)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Vg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===D1||s===k1||s===F1||s===O1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===D1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===k1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===F1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===O1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===HD)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===N1||s===U1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===N1)return o===yt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===U1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===z1||s===H1||s===G1||s===V1||s===W1||s===j1||s===X1||s===J1||s===Y1||s===K1||s===q1||s===Q1||s===Z1||s===$1)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===z1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===H1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===G1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===V1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===W1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===j1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===X1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===J1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Y1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===K1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===q1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Q1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Z1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===$1)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Wg)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Wg)return o===yt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===GD||s===ew||s===tw||s===nw)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Wg)return a.COMPRESSED_RED_RGTC1_EXT;if(s===ew)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===tw)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===nw)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Ba?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class yk extends cn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Co extends It{constructor(){super(),this.isGroup=!0,this.type="Group"}}const QW={type:"move"};class SA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Co,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Co,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new D,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new D),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Co,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new D,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new D),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const A=t.getJointPose(x,i),g=this._getHandJoint(c,x);A!==null&&(g.matrix.fromArray(A.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=A.radius),g.visible=A!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=u.position.distanceTo(d.position),m=.02,y=.005;c.inputState.pinching&&p>m+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(QW)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Co;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class vk extends sn{constructor(e,t,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:Ia,u!==Ia&&u!==sc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Ia&&(i=bo),i===void 0&&u===sc&&(i=Ba),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Mn,this.minFilter=l!==void 0?l:Mn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class ZW extends jo{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,p=null,m=null,y=null;const x=t.getContextAttributes();let A=null,g=null;const w=[],_=[],M=new cn;M.layers.enable(1),M.viewport=new Xt;const b=new cn;b.layers.enable(2),b.viewport=new Xt;const C=[M,b],P=new yk;P.layers.enable(1),P.layers.enable(2);let I=null,T=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let Y=w[z];return Y===void 0&&(Y=new SA,w[z]=Y),Y.getTargetRaySpace()},this.getControllerGrip=function(z){let Y=w[z];return Y===void 0&&(Y=new SA,w[z]=Y),Y.getGripSpace()},this.getHand=function(z){let Y=w[z];return Y===void 0&&(Y=new SA,w[z]=Y),Y.getHandSpace()};function B(z){const Y=_.indexOf(z.inputSource);if(Y===-1)return;const fe=w[Y];fe!==void 0&&(fe.update(z.inputSource,z.frame,c||o),fe.dispatchEvent({type:z.type,data:z.inputSource}))}function G(){r.removeEventListener("select",B),r.removeEventListener("selectstart",B),r.removeEventListener("selectend",B),r.removeEventListener("squeeze",B),r.removeEventListener("squeezestart",B),r.removeEventListener("squeezeend",B),r.removeEventListener("end",G),r.removeEventListener("inputsourceschange",Q);for(let z=0;z<w.length;z++){const Y=_[z];Y!==null&&(_[z]=null,w[z].disconnect(Y))}I=null,T=null,e.setRenderTarget(A),m=null,p=null,d=null,r=null,g=null,j.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(z){s=z,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){a=z,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(z){c=z},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(z){if(r=z,r!==null){if(A=e.getRenderTarget(),r.addEventListener("select",B),r.addEventListener("selectstart",B),r.addEventListener("selectend",B),r.addEventListener("squeeze",B),r.addEventListener("squeezestart",B),r.addEventListener("squeezeend",B),r.addEventListener("end",G),r.addEventListener("inputsourceschange",Q),x.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Y={antialias:r.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,Y),r.updateRenderState({baseLayer:m}),g=new ws(m.framebufferWidth,m.framebufferHeight,{format:Yi,type:Ks,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let Y=null,fe=null,ye=null;x.depth&&(ye=x.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Y=x.stencil?sc:Ia,fe=x.stencil?Ba:bo);const we={colorFormat:t.RGBA8,depthFormat:ye,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(we),r.updateRenderState({layers:[p]}),g=new ws(p.textureWidth,p.textureHeight,{format:Yi,type:Ks,depthTexture:new vk(p.textureWidth,p.textureHeight,fe,void 0,void 0,void 0,void 0,void 0,void 0,Y),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const Re=e.properties.get(g);Re.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),j.setContext(r),j.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function Q(z){for(let Y=0;Y<z.removed.length;Y++){const fe=z.removed[Y],ye=_.indexOf(fe);ye>=0&&(_[ye]=null,w[ye].disconnect(fe))}for(let Y=0;Y<z.added.length;Y++){const fe=z.added[Y];let ye=_.indexOf(fe);if(ye===-1){for(let Re=0;Re<w.length;Re++)if(Re>=_.length){_.push(fe),ye=Re;break}else if(_[Re]===null){_[Re]=fe,ye=Re;break}if(ye===-1)break}const we=w[ye];we&&we.connect(fe)}}const J=new D,q=new D;function ee(z,Y,fe){J.setFromMatrixPosition(Y.matrixWorld),q.setFromMatrixPosition(fe.matrixWorld);const ye=J.distanceTo(q),we=Y.projectionMatrix.elements,Re=fe.projectionMatrix.elements,Le=we[14]/(we[10]-1),ze=we[14]/(we[10]+1),nt=(we[9]+1)/we[5],et=(we[9]-1)/we[5],_e=(we[8]-1)/we[0],H=(Re[8]+1)/Re[0],ve=Le*_e,me=Le*H,Se=ye/(-_e+H),xe=Se*-_e;Y.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(xe),z.translateZ(Se),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert();const Ge=Le+Se,Ne=ze+Se,He=ve-xe,tt=me+(ye-xe),xt=nt*ze/Ne*Ge,Wt=et*ze/Ne*Ge;z.projectionMatrix.makePerspective(He,tt,xt,Wt,Ge,Ne),z.projectionMatrixInverse.copy(z.projectionMatrix).invert()}function ie(z,Y){Y===null?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(Y.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(r===null)return;P.near=b.near=M.near=z.near,P.far=b.far=M.far=z.far,(I!==P.near||T!==P.far)&&(r.updateRenderState({depthNear:P.near,depthFar:P.far}),I=P.near,T=P.far);const Y=z.parent,fe=P.cameras;ie(P,Y);for(let ye=0;ye<fe.length;ye++)ie(fe[ye],Y);fe.length===2?ee(P,M,b):P.projectionMatrix.copy(M.projectionMatrix),te(z,P,Y)};function te(z,Y,fe){fe===null?z.matrix.copy(Y.matrixWorld):(z.matrix.copy(fe.matrixWorld),z.matrix.invert(),z.matrix.multiply(Y.matrixWorld)),z.matrix.decompose(z.position,z.quaternion,z.scale),z.updateMatrixWorld(!0);const ye=z.children;for(let we=0,Re=ye.length;we<Re;we++)ye[we].updateMatrixWorld(!0);z.projectionMatrix.copy(Y.projectionMatrix),z.projectionMatrixInverse.copy(Y.projectionMatrixInverse),z.isPerspectiveCamera&&(z.fov=ih*2*Math.atan(1/z.projectionMatrix.elements[5]),z.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(z){l=z,p!==null&&(p.fixedFoveation=z),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=z)};let F=null;function X(z,Y){if(u=Y.getViewerPose(c||o),y=Y,u!==null){const fe=u.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let ye=!1;fe.length!==P.cameras.length&&(P.cameras.length=0,ye=!0);for(let we=0;we<fe.length;we++){const Re=fe[we];let Le=null;if(m!==null)Le=m.getViewport(Re);else{const nt=d.getViewSubImage(p,Re);Le=nt.viewport,we===0&&(e.setRenderTargetTextures(g,nt.colorTexture,p.ignoreDepthValues?void 0:nt.depthStencilTexture),e.setRenderTarget(g))}let ze=C[we];ze===void 0&&(ze=new cn,ze.layers.enable(we),ze.viewport=new Xt,C[we]=ze),ze.matrix.fromArray(Re.transform.matrix),ze.matrix.decompose(ze.position,ze.quaternion,ze.scale),ze.projectionMatrix.fromArray(Re.projectionMatrix),ze.projectionMatrixInverse.copy(ze.projectionMatrix).invert(),ze.viewport.set(Le.x,Le.y,Le.width,Le.height),we===0&&(P.matrix.copy(ze.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),ye===!0&&P.cameras.push(ze)}}for(let fe=0;fe<w.length;fe++){const ye=_[fe],we=w[fe];ye!==null&&we!==void 0&&we.update(ye,Y,c||o)}F&&F(z,Y),Y.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Y}),y=null}const j=new hk;j.setAnimationLoop(X),this.setAnimationLoop=function(z){F=z},this.dispose=function(){}}}function $W(n,e){function t(A,g){A.matrixAutoUpdate===!0&&A.updateMatrix(),g.value.copy(A.matrix)}function i(A,g){g.color.getRGB(A.fogColor.value,ck(n)),g.isFog?(A.fogNear.value=g.near,A.fogFar.value=g.far):g.isFogExp2&&(A.fogDensity.value=g.density)}function r(A,g,w,_,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(A,g):g.isMeshToonMaterial?(s(A,g),d(A,g)):g.isMeshPhongMaterial?(s(A,g),u(A,g)):g.isMeshStandardMaterial?(s(A,g),p(A,g),g.isMeshPhysicalMaterial&&m(A,g,M)):g.isMeshMatcapMaterial?(s(A,g),y(A,g)):g.isMeshDepthMaterial?s(A,g):g.isMeshDistanceMaterial?(s(A,g),x(A,g)):g.isMeshNormalMaterial?s(A,g):g.isLineBasicMaterial?(o(A,g),g.isLineDashedMaterial&&a(A,g)):g.isPointsMaterial?l(A,g,w,_):g.isSpriteMaterial?c(A,g):g.isShadowMaterial?(A.color.value.copy(g.color),A.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(A,g){A.opacity.value=g.opacity,g.color&&A.diffuse.value.copy(g.color),g.emissive&&A.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(A.map.value=g.map,t(g.map,A.mapTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,t(g.alphaMap,A.alphaMapTransform)),g.bumpMap&&(A.bumpMap.value=g.bumpMap,t(g.bumpMap,A.bumpMapTransform),A.bumpScale.value=g.bumpScale,g.side===Oi&&(A.bumpScale.value*=-1)),g.normalMap&&(A.normalMap.value=g.normalMap,t(g.normalMap,A.normalMapTransform),A.normalScale.value.copy(g.normalScale),g.side===Oi&&A.normalScale.value.negate()),g.displacementMap&&(A.displacementMap.value=g.displacementMap,t(g.displacementMap,A.displacementMapTransform),A.displacementScale.value=g.displacementScale,A.displacementBias.value=g.displacementBias),g.emissiveMap&&(A.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,A.emissiveMapTransform)),g.specularMap&&(A.specularMap.value=g.specularMap,t(g.specularMap,A.specularMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest);const w=e.get(g).envMap;if(w&&(A.envMap.value=w,A.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=g.reflectivity,A.ior.value=g.ior,A.refractionRatio.value=g.refractionRatio),g.lightMap){A.lightMap.value=g.lightMap;const _=n._useLegacyLights===!0?Math.PI:1;A.lightMapIntensity.value=g.lightMapIntensity*_,t(g.lightMap,A.lightMapTransform)}g.aoMap&&(A.aoMap.value=g.aoMap,A.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,A.aoMapTransform))}function o(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,g.map&&(A.map.value=g.map,t(g.map,A.mapTransform))}function a(A,g){A.dashSize.value=g.dashSize,A.totalSize.value=g.dashSize+g.gapSize,A.scale.value=g.scale}function l(A,g,w,_){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.size.value=g.size*w,A.scale.value=_*.5,g.map&&(A.map.value=g.map,t(g.map,A.uvTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,t(g.alphaMap,A.alphaMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest)}function c(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.rotation.value=g.rotation,g.map&&(A.map.value=g.map,t(g.map,A.mapTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,t(g.alphaMap,A.alphaMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest)}function u(A,g){A.specular.value.copy(g.specular),A.shininess.value=Math.max(g.shininess,1e-4)}function d(A,g){g.gradientMap&&(A.gradientMap.value=g.gradientMap)}function p(A,g){A.metalness.value=g.metalness,g.metalnessMap&&(A.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,A.metalnessMapTransform)),A.roughness.value=g.roughness,g.roughnessMap&&(A.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,A.roughnessMapTransform)),e.get(g).envMap&&(A.envMapIntensity.value=g.envMapIntensity)}function m(A,g,w){A.ior.value=g.ior,g.sheen>0&&(A.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),A.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(A.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,A.sheenColorMapTransform)),g.sheenRoughnessMap&&(A.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,A.sheenRoughnessMapTransform))),g.clearcoat>0&&(A.clearcoat.value=g.clearcoat,A.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(A.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,A.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(A.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Oi&&A.clearcoatNormalScale.value.negate())),g.iridescence>0&&(A.iridescence.value=g.iridescence,A.iridescenceIOR.value=g.iridescenceIOR,A.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(A.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,A.iridescenceMapTransform)),g.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),g.transmission>0&&(A.transmission.value=g.transmission,A.transmissionSamplerMap.value=w.texture,A.transmissionSamplerSize.value.set(w.width,w.height),g.transmissionMap&&(A.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,A.transmissionMapTransform)),A.thickness.value=g.thickness,g.thicknessMap&&(A.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=g.attenuationDistance,A.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(A.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(A.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=g.specularIntensity,A.specularColor.value.copy(g.specularColor),g.specularColorMap&&(A.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,A.specularColorMapTransform)),g.specularIntensityMap&&(A.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,A.specularIntensityMapTransform))}function y(A,g){g.matcap&&(A.matcap.value=g.matcap)}function x(A,g){const w=e.get(g).light;A.referencePosition.value.setFromMatrixPosition(w.matrixWorld),A.nearDistance.value=w.shadow.camera.near,A.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function e6(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(w,_){const M=_.program;i.uniformBlockBinding(w,M)}function c(w,_){let M=r[w.id];M===void 0&&(y(w),M=u(w),r[w.id]=M,w.addEventListener("dispose",A));const b=_.program;i.updateUBOMapping(w,b);const C=e.render.frame;s[w.id]!==C&&(p(w),s[w.id]=C)}function u(w){const _=d();w.__bindingPointIndex=_;const M=n.createBuffer(),b=w.__size,C=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,b,C),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,_,M),M}function d(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(w){const _=r[w.id],M=w.uniforms,b=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,_);for(let C=0,P=M.length;C<P;C++){const I=M[C];if(m(I,C,b)===!0){const T=I.__offset,B=Array.isArray(I.value)?I.value:[I.value];let G=0;for(let Q=0;Q<B.length;Q++){const J=B[Q],q=x(J);typeof J=="number"?(I.__data[0]=J,n.bufferSubData(n.UNIFORM_BUFFER,T+G,I.__data)):J.isMatrix3?(I.__data[0]=J.elements[0],I.__data[1]=J.elements[1],I.__data[2]=J.elements[2],I.__data[3]=J.elements[0],I.__data[4]=J.elements[3],I.__data[5]=J.elements[4],I.__data[6]=J.elements[5],I.__data[7]=J.elements[0],I.__data[8]=J.elements[6],I.__data[9]=J.elements[7],I.__data[10]=J.elements[8],I.__data[11]=J.elements[0]):(J.toArray(I.__data,G),G+=q.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,T,I.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(w,_,M){const b=w.value;if(M[_]===void 0){if(typeof b=="number")M[_]=b;else{const C=Array.isArray(b)?b:[b],P=[];for(let I=0;I<C.length;I++)P.push(C[I].clone());M[_]=P}return!0}else if(typeof b=="number"){if(M[_]!==b)return M[_]=b,!0}else{const C=Array.isArray(M[_])?M[_]:[M[_]],P=Array.isArray(b)?b:[b];for(let I=0;I<C.length;I++){const T=C[I];if(T.equals(P[I])===!1)return T.copy(P[I]),!0}}return!1}function y(w){const _=w.uniforms;let M=0;const b=16;let C=0;for(let P=0,I=_.length;P<I;P++){const T=_[P],B={boundary:0,storage:0},G=Array.isArray(T.value)?T.value:[T.value];for(let Q=0,J=G.length;Q<J;Q++){const q=G[Q],ee=x(q);B.boundary+=ee.boundary,B.storage+=ee.storage}if(T.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=M,P>0){C=M%b;const Q=b-C;C!==0&&Q-B.boundary<0&&(M+=b-C,T.__offset=M)}M+=B.storage}return C=M%b,C>0&&(M+=b-C),w.__size=M,w.__cache={},this}function x(w){const _={boundary:0,storage:0};return typeof w=="number"?(_.boundary=4,_.storage=4):w.isVector2?(_.boundary=8,_.storage=8):w.isVector3||w.isColor?(_.boundary=16,_.storage=12):w.isVector4?(_.boundary=16,_.storage=16):w.isMatrix3?(_.boundary=48,_.storage=48):w.isMatrix4?(_.boundary=64,_.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),_}function A(w){const _=w.target;_.removeEventListener("dispose",A);const M=o.indexOf(_.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(r[_.id]),delete r[_.id],delete s[_.id]}function g(){for(const w in r)n.deleteBuffer(r[w]);o=[],r={},s={}}return{bind:l,update:c,dispose:g}}function t6(){const n=wd("canvas");return n.style.display="block",n}class gM{constructor(e={}){const{canvas:t=t6(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),y=new Int32Array(4);let x=null,A=null;const g=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=yt,this._useLegacyLights=!1,this.toneMapping=Ys,this.toneMappingExposure=1;const _=this;let M=!1,b=0,C=0,P=null,I=-1,T=null;const B=new Xt,G=new Xt;let Q=null;const J=new ke(0);let q=0,ee=t.width,ie=t.height,te=1,F=null,X=null;const j=new Xt(0,0,ee,ie),z=new Xt(0,0,ee,ie);let Y=!1;const fe=new Ry;let ye=!1,we=!1,Re=null;const Le=new ct,ze=new pe,nt=new D,et={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function _e(){return P===null?te:1}let H=i;function ve(O,re){for(let de=0;de<O.length;de++){const ne=O[de],he=t.getContext(ne,re);if(he!==null)return he}return null}try{const O={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Vd}`),t.addEventListener("webglcontextlost",Me,!1),t.addEventListener("webglcontextrestored",ae,!1),t.addEventListener("webglcontextcreationerror",Te,!1),H===null){const re=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&re.shift(),H=ve(re,O),H===null)throw ve(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&H instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),H.getShaderPrecisionFormat===void 0&&(H.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let me,Se,xe,Ge,Ne,He,tt,xt,Wt,U,L,oe,Ee,Ae,Ce,Ye,Pe,le,$e,qe,Qe,Ve,V,ge;function De(){me=new g8(H),Se=new u8(H,me,e),me.init(Se),Ve=new gk(H,me,Se),xe=new KW(H,me,Se),Ge=new x8(H),Ne=new OW,He=new qW(H,me,xe,Ne,Se,Ve,Ge),tt=new f8(_),xt=new m8(_),Wt=new RV(H,Se),V=new l8(H,me,Wt,Se),U=new y8(H,Wt,Ge,V),L=new S8(H,U,Wt,Ge),$e=new w8(H,Se,He),Ye=new h8(Ne),oe=new FW(_,tt,xt,me,Se,V,Ye),Ee=new $W(_,Ne),Ae=new UW,Ce=new jW(me,Se),le=new a8(_,tt,xt,xe,L,p,l),Pe=new YW(_,L,Se),ge=new e6(H,Ge,Se,xe),qe=new c8(H,me,Ge,Se),Qe=new v8(H,me,Ge,Se),Ge.programs=oe.programs,_.capabilities=Se,_.extensions=me,_.properties=Ne,_.renderLists=Ae,_.shadowMap=Pe,_.state=xe,_.info=Ge}De();const W=new ZW(_,H);this.xr=W,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const O=me.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=me.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(O){O!==void 0&&(te=O,this.setSize(ee,ie,!1))},this.getSize=function(O){return O.set(ee,ie)},this.setSize=function(O,re,de=!0){if(W.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ee=O,ie=re,t.width=Math.floor(O*te),t.height=Math.floor(re*te),de===!0&&(t.style.width=O+"px",t.style.height=re+"px"),this.setViewport(0,0,O,re)},this.getDrawingBufferSize=function(O){return O.set(ee*te,ie*te).floor()},this.setDrawingBufferSize=function(O,re,de){ee=O,ie=re,te=de,t.width=Math.floor(O*de),t.height=Math.floor(re*de),this.setViewport(0,0,O,re)},this.getCurrentViewport=function(O){return O.copy(B)},this.getViewport=function(O){return O.copy(j)},this.setViewport=function(O,re,de,ne){O.isVector4?j.set(O.x,O.y,O.z,O.w):j.set(O,re,de,ne),xe.viewport(B.copy(j).multiplyScalar(te).floor())},this.getScissor=function(O){return O.copy(z)},this.setScissor=function(O,re,de,ne){O.isVector4?z.set(O.x,O.y,O.z,O.w):z.set(O,re,de,ne),xe.scissor(G.copy(z).multiplyScalar(te).floor())},this.getScissorTest=function(){return Y},this.setScissorTest=function(O){xe.setScissorTest(Y=O)},this.setOpaqueSort=function(O){F=O},this.setTransparentSort=function(O){X=O},this.getClearColor=function(O){return O.copy(le.getClearColor())},this.setClearColor=function(){le.setClearColor.apply(le,arguments)},this.getClearAlpha=function(){return le.getClearAlpha()},this.setClearAlpha=function(){le.setClearAlpha.apply(le,arguments)},this.clear=function(O=!0,re=!0,de=!0){let ne=0;if(O){let he=!1;if(P!==null){const je=P.texture.format;he=je===eM||je===$S||je===ZS}if(he){const je=P.texture.type,it=je===Ks||je===bo||je===by||je===Ba||je===qS||je===QS,ut=le.getClearColor(),ht=le.getClearAlpha(),bt=ut.r,at=ut.g,dt=ut.b;it?(m[0]=bt,m[1]=at,m[2]=dt,m[3]=ht,H.clearBufferuiv(H.COLOR,0,m)):(y[0]=bt,y[1]=at,y[2]=dt,y[3]=ht,H.clearBufferiv(H.COLOR,0,y))}else ne|=H.COLOR_BUFFER_BIT}re&&(ne|=H.DEPTH_BUFFER_BIT),de&&(ne|=H.STENCIL_BUFFER_BIT),H.clear(ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Me,!1),t.removeEventListener("webglcontextrestored",ae,!1),t.removeEventListener("webglcontextcreationerror",Te,!1),Ae.dispose(),Ce.dispose(),Ne.dispose(),tt.dispose(),xt.dispose(),L.dispose(),V.dispose(),ge.dispose(),oe.dispose(),W.dispose(),W.removeEventListener("sessionstart",Lt),W.removeEventListener("sessionend",Un),Re&&(Re.dispose(),Re=null),vn.stop()};function Me(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function ae(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const O=Ge.autoReset,re=Pe.enabled,de=Pe.autoUpdate,ne=Pe.needsUpdate,he=Pe.type;De(),Ge.autoReset=O,Pe.enabled=re,Pe.autoUpdate=de,Pe.needsUpdate=ne,Pe.type=he}function Te(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function Fe(O){const re=O.target;re.removeEventListener("dispose",Fe),Tt(re)}function Tt(O){Bt(O),Ne.remove(O)}function Bt(O){const re=Ne.get(O).programs;re!==void 0&&(re.forEach(function(de){oe.releaseProgram(de)}),O.isShaderMaterial&&oe.releaseShaderCache(O))}this.renderBufferDirect=function(O,re,de,ne,he,je){re===null&&(re=et);const it=he.isMesh&&he.matrixWorld.determinant()<0,ut=Sv(O,re,de,ne,he);xe.setMaterial(ne,it);let ht=de.index,bt=1;if(ne.wireframe===!0){if(ht=U.getWireframeAttribute(de),ht===void 0)return;bt=2}const at=de.drawRange,dt=de.attributes.position;let qt=at.start*bt,$t=(at.start+at.count)*bt;je!==null&&(qt=Math.max(qt,je.start*bt),$t=Math.min($t,(je.start+je.count)*bt)),ht!==null?(qt=Math.max(qt,0),$t=Math.min($t,ht.count)):dt!=null&&(qt=Math.max(qt,0),$t=Math.min($t,dt.count));const Hi=$t-qt;if(Hi<0||Hi===1/0)return;V.setup(he,ne,ut,de,ht);let rr,Yt=qe;if(ht!==null&&(rr=Wt.get(ht),Yt=Qe,Yt.setIndex(rr)),he.isMesh)ne.wireframe===!0?(xe.setLineWidth(ne.wireframeLinewidth*_e()),Yt.setMode(H.LINES)):Yt.setMode(H.TRIANGLES);else if(he.isLine){let pt=ne.linewidth;pt===void 0&&(pt=1),xe.setLineWidth(pt*_e()),he.isLineSegments?Yt.setMode(H.LINES):he.isLineLoop?Yt.setMode(H.LINE_LOOP):Yt.setMode(H.LINE_STRIP)}else he.isPoints?Yt.setMode(H.POINTS):he.isSprite&&Yt.setMode(H.TRIANGLES);if(he.isInstancedMesh)Yt.renderInstances(qt,Hi,he.count);else if(de.isInstancedBufferGeometry){const pt=de._maxInstanceCount!==void 0?de._maxInstanceCount:1/0,jt=Math.min(de.instanceCount,pt);Yt.renderInstances(qt,Hi,jt)}else Yt.render(qt,Hi)},this.compile=function(O,re){function de(ne,he,je){ne.transparent===!0&&ne.side===Vr&&ne.forceSinglePass===!1?(ne.side=Oi,ne.needsUpdate=!0,Ps(ne,he,je),ne.side=Zs,ne.needsUpdate=!0,Ps(ne,he,je),ne.side=Vr):Ps(ne,he,je)}A=Ce.get(O),A.init(),w.push(A),O.traverseVisible(function(ne){ne.isLight&&ne.layers.test(re.layers)&&(A.pushLight(ne),ne.castShadow&&A.pushShadow(ne))}),A.setupLights(_._useLegacyLights),O.traverse(function(ne){const he=ne.material;if(he)if(Array.isArray(he))for(let je=0;je<he.length;je++){const it=he[je];de(it,O,ne)}else de(he,O,ne)}),w.pop(),A=null};let Ft=null;function si(O){Ft&&Ft(O)}function Lt(){vn.stop()}function Un(){vn.start()}const vn=new hk;vn.setAnimationLoop(si),typeof self<"u"&&vn.setContext(self),this.setAnimationLoop=function(O){Ft=O,W.setAnimationLoop(O),O===null?vn.stop():vn.start()},W.addEventListener("sessionstart",Lt),W.addEventListener("sessionend",Un),this.render=function(O,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),W.enabled===!0&&W.isPresenting===!0&&(W.cameraAutoUpdate===!0&&W.updateCamera(re),re=W.getCamera()),O.isScene===!0&&O.onBeforeRender(_,O,re,P),A=Ce.get(O,w.length),A.init(),w.push(A),Le.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),fe.setFromProjectionMatrix(Le),we=this.localClippingEnabled,ye=Ye.init(this.clippingPlanes,we),x=Ae.get(O,g.length),x.init(),g.push(x),fp(O,re,0,_.sortObjects),x.finish(),_.sortObjects===!0&&x.sort(F,X),this.info.render.frame++,ye===!0&&Ye.beginShadows();const de=A.state.shadowsArray;if(Pe.render(de,O,re),ye===!0&&Ye.endShadows(),this.info.autoReset===!0&&this.info.reset(),le.render(x,O),A.setupLights(_._useLegacyLights),re.isArrayCamera){const ne=re.cameras;for(let he=0,je=ne.length;he<je;he++){const it=ne[he];dp(x,O,it,it.viewport)}}else dp(x,O,re);P!==null&&(He.updateMultisampleRenderTarget(P),He.updateRenderTargetMipmap(P)),O.isScene===!0&&O.onAfterRender(_,O,re),V.resetDefaultState(),I=-1,T=null,w.pop(),w.length>0?A=w[w.length-1]:A=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function fp(O,re,de,ne){if(O.visible===!1)return;if(O.layers.test(re.layers)){if(O.isGroup)de=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(re);else if(O.isLight)A.pushLight(O),O.castShadow&&A.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||fe.intersectsSprite(O)){ne&&nt.setFromMatrixPosition(O.matrixWorld).applyMatrix4(Le);const it=L.update(O),ut=O.material;ut.visible&&x.push(O,it,ut,de,nt.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||fe.intersectsObject(O))){const it=L.update(O),ut=O.material;if(ne&&(O.boundingSphere!==void 0?(O.boundingSphere===null&&O.computeBoundingSphere(),nt.copy(O.boundingSphere.center)):(it.boundingSphere===null&&it.computeBoundingSphere(),nt.copy(it.boundingSphere.center)),nt.applyMatrix4(O.matrixWorld).applyMatrix4(Le)),Array.isArray(ut)){const ht=it.groups;for(let bt=0,at=ht.length;bt<at;bt++){const dt=ht[bt],qt=ut[dt.materialIndex];qt&&qt.visible&&x.push(O,it,qt,de,nt.z,dt)}}else ut.visible&&x.push(O,it,ut,de,nt.z,null)}}const je=O.children;for(let it=0,ut=je.length;it<ut;it++)fp(je[it],re,de,ne)}function dp(O,re,de,ne){const he=O.opaque,je=O.transmissive,it=O.transparent;A.setupLightsView(de),ye===!0&&Ye.setGlobalState(_.clippingPlanes,de),je.length>0&&pp(he,je,re,de),ne&&xe.viewport(B.copy(ne)),he.length>0&&Xo(he,re,de),je.length>0&&Xo(je,re,de),it.length>0&&Xo(it,re,de),xe.buffers.depth.setTest(!0),xe.buffers.depth.setMask(!0),xe.buffers.color.setMask(!0),xe.setPolygonOffset(!1)}function pp(O,re,de,ne){const he=Se.isWebGL2;Re===null&&(Re=new ws(1,1,{generateMipmaps:!0,type:me.has("EXT_color_buffer_half_float")?th:Ks,minFilter:$s,samples:he?4:0})),_.getDrawingBufferSize(ze),he?Re.setSize(ze.x,ze.y):Re.setSize(F0(ze.x),F0(ze.y));const je=_.getRenderTarget();_.setRenderTarget(Re),_.getClearColor(J),q=_.getClearAlpha(),q<1&&_.setClearColor(16777215,.5),_.clear();const it=_.toneMapping;_.toneMapping=Ys,Xo(O,de,ne),He.updateMultisampleRenderTarget(Re),He.updateRenderTargetMipmap(Re);let ut=!1;for(let ht=0,bt=re.length;ht<bt;ht++){const at=re[ht],dt=at.object,qt=at.geometry,$t=at.material,Hi=at.group;if($t.side===Vr&&dt.layers.test(ne.layers)){const rr=$t.side;$t.side=Oi,$t.needsUpdate=!0,mp(dt,de,ne,qt,$t,Hi),$t.side=rr,$t.needsUpdate=!0,ut=!0}}ut===!0&&(He.updateMultisampleRenderTarget(Re),He.updateRenderTargetMipmap(Re)),_.setRenderTarget(je),_.setClearColor(J,q),_.toneMapping=it}function Xo(O,re,de){const ne=re.isScene===!0?re.overrideMaterial:null;for(let he=0,je=O.length;he<je;he++){const it=O[he],ut=it.object,ht=it.geometry,bt=ne===null?it.material:ne,at=it.group;ut.layers.test(de.layers)&&mp(ut,re,de,ht,bt,at)}}function mp(O,re,de,ne,he,je){O.onBeforeRender(_,re,de,ne,he,je),O.modelViewMatrix.multiplyMatrices(de.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),he.onBeforeRender(_,re,de,ne,O,je),he.transparent===!0&&he.side===Vr&&he.forceSinglePass===!1?(he.side=Oi,he.needsUpdate=!0,_.renderBufferDirect(de,re,ne,he,O,je),he.side=Zs,he.needsUpdate=!0,_.renderBufferDirect(de,re,ne,he,O,je),he.side=Vr):_.renderBufferDirect(de,re,ne,he,O,je),O.onAfterRender(_,re,de,ne,he,je)}function Ps(O,re,de){re.isScene!==!0&&(re=et);const ne=Ne.get(O),he=A.state.lights,je=A.state.shadowsArray,it=he.state.version,ut=oe.getParameters(O,he.state,je,re,de),ht=oe.getProgramCacheKey(ut);let bt=ne.programs;ne.environment=O.isMeshStandardMaterial?re.environment:null,ne.fog=re.fog,ne.envMap=(O.isMeshStandardMaterial?xt:tt).get(O.envMap||ne.environment),bt===void 0&&(O.addEventListener("dispose",Fe),bt=new Map,ne.programs=bt);let at=bt.get(ht);if(at!==void 0){if(ne.currentProgram===at&&ne.lightsStateVersion===it)return gp(O,ut),at}else ut.uniforms=oe.getUniforms(O),O.onBuild(de,ut,_),O.onBeforeCompile(ut,_),at=oe.acquireProgram(ut,ht),bt.set(ht,at),ne.uniforms=ut.uniforms;const dt=ne.uniforms;(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(dt.clippingPlanes=Ye.uniform),gp(O,ut),ne.needsLights=Ev(O),ne.lightsStateVersion=it,ne.needsLights&&(dt.ambientLightColor.value=he.state.ambient,dt.lightProbe.value=he.state.probe,dt.directionalLights.value=he.state.directional,dt.directionalLightShadows.value=he.state.directionalShadow,dt.spotLights.value=he.state.spot,dt.spotLightShadows.value=he.state.spotShadow,dt.rectAreaLights.value=he.state.rectArea,dt.ltc_1.value=he.state.rectAreaLTC1,dt.ltc_2.value=he.state.rectAreaLTC2,dt.pointLights.value=he.state.point,dt.pointLightShadows.value=he.state.pointShadow,dt.hemisphereLights.value=he.state.hemi,dt.directionalShadowMap.value=he.state.directionalShadowMap,dt.directionalShadowMatrix.value=he.state.directionalShadowMatrix,dt.spotShadowMap.value=he.state.spotShadowMap,dt.spotLightMatrix.value=he.state.spotLightMatrix,dt.spotLightMap.value=he.state.spotLightMap,dt.pointShadowMap.value=he.state.pointShadowMap,dt.pointShadowMatrix.value=he.state.pointShadowMatrix);const qt=at.getUniforms(),$t=Jg.seqWithValue(qt.seq,dt);return ne.currentProgram=at,ne.uniformsList=$t,at}function gp(O,re){const de=Ne.get(O);de.outputColorSpace=re.outputColorSpace,de.instancing=re.instancing,de.instancingColor=re.instancingColor,de.skinning=re.skinning,de.morphTargets=re.morphTargets,de.morphNormals=re.morphNormals,de.morphColors=re.morphColors,de.morphTargetsCount=re.morphTargetsCount,de.numClippingPlanes=re.numClippingPlanes,de.numIntersection=re.numClipIntersection,de.vertexAlphas=re.vertexAlphas,de.vertexTangents=re.vertexTangents,de.toneMapping=re.toneMapping}function Sv(O,re,de,ne,he){re.isScene!==!0&&(re=et),He.resetTextureUnits();const je=re.fog,it=ne.isMeshStandardMaterial?re.environment:null,ut=P===null?_.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:_s,ht=(ne.isMeshStandardMaterial?xt:tt).get(ne.envMap||it),bt=ne.vertexColors===!0&&!!de.attributes.color&&de.attributes.color.itemSize===4,at=!!de.attributes.tangent&&(!!ne.normalMap||ne.anisotropy>0),dt=!!de.morphAttributes.position,qt=!!de.morphAttributes.normal,$t=!!de.morphAttributes.color;let Hi=Ys;ne.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(Hi=_.toneMapping);const rr=de.morphAttributes.position||de.morphAttributes.normal||de.morphAttributes.color,Yt=rr!==void 0?rr.length:0,pt=Ne.get(ne),jt=A.state.lights;if(ye===!0&&(we===!0||O!==T)){const mi=O===T&&ne.id===I;Ye.setState(ne,O,mi)}let ft=!1;ne.version===pt.__version?(pt.needsLights&&pt.lightsStateVersion!==jt.state.version||pt.outputColorSpace!==ut||he.isInstancedMesh&&pt.instancing===!1||!he.isInstancedMesh&&pt.instancing===!0||he.isSkinnedMesh&&pt.skinning===!1||!he.isSkinnedMesh&&pt.skinning===!0||he.isInstancedMesh&&pt.instancingColor===!0&&he.instanceColor===null||he.isInstancedMesh&&pt.instancingColor===!1&&he.instanceColor!==null||pt.envMap!==ht||ne.fog===!0&&pt.fog!==je||pt.numClippingPlanes!==void 0&&(pt.numClippingPlanes!==Ye.numPlanes||pt.numIntersection!==Ye.numIntersection)||pt.vertexAlphas!==bt||pt.vertexTangents!==at||pt.morphTargets!==dt||pt.morphNormals!==qt||pt.morphColors!==$t||pt.toneMapping!==Hi||Se.isWebGL2===!0&&pt.morphTargetsCount!==Yt)&&(ft=!0):(ft=!0,pt.__version=ne.version);let pi=pt.currentProgram;ft===!0&&(pi=Ps(ne,re,he));let zn=!1,Bn=!1,Zr=!1;const xn=pi.getUniforms(),An=pt.uniforms;if(xe.useProgram(pi.program)&&(zn=!0,Bn=!0,Zr=!0),ne.id!==I&&(I=ne.id,Bn=!0),zn||T!==O){if(xn.setValue(H,"projectionMatrix",O.projectionMatrix),Se.logarithmicDepthBuffer&&xn.setValue(H,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),T!==O&&(T=O,Bn=!0,Zr=!0),ne.isShaderMaterial||ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshStandardMaterial||ne.envMap){const mi=xn.map.cameraPosition;mi!==void 0&&mi.setValue(H,nt.setFromMatrixPosition(O.matrixWorld))}(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial)&&xn.setValue(H,"isOrthographic",O.isOrthographicCamera===!0),(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial||ne.isShadowMaterial||he.isSkinnedMesh)&&xn.setValue(H,"viewMatrix",O.matrixWorldInverse)}if(he.isSkinnedMesh){xn.setOptional(H,he,"bindMatrix"),xn.setOptional(H,he,"bindMatrixInverse");const mi=he.skeleton;mi&&(Se.floatVertexTextures?(mi.boneTexture===null&&mi.computeBoneTexture(),xn.setValue(H,"boneTexture",mi.boneTexture,He),xn.setValue(H,"boneTextureSize",mi.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Jo=de.morphAttributes;if((Jo.position!==void 0||Jo.normal!==void 0||Jo.color!==void 0&&Se.isWebGL2===!0)&&$e.update(he,de,pi),(Bn||pt.receiveShadow!==he.receiveShadow)&&(pt.receiveShadow=he.receiveShadow,xn.setValue(H,"receiveShadow",he.receiveShadow)),ne.isMeshGouraudMaterial&&ne.envMap!==null&&(An.envMap.value=ht,An.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),Bn&&(xn.setValue(H,"toneMappingExposure",_.toneMappingExposure),pt.needsLights&&Mv(An,Zr),je&&ne.fog===!0&&Ee.refreshFogUniforms(An,je),Ee.refreshMaterialUniforms(An,ne,te,ie,Re),Jg.upload(H,pt.uniformsList,An,He)),ne.isShaderMaterial&&ne.uniformsNeedUpdate===!0&&(Jg.upload(H,pt.uniformsList,An,He),ne.uniformsNeedUpdate=!1),ne.isSpriteMaterial&&xn.setValue(H,"center",he.center),xn.setValue(H,"modelViewMatrix",he.modelViewMatrix),xn.setValue(H,"normalMatrix",he.normalMatrix),xn.setValue(H,"modelMatrix",he.matrixWorld),ne.isShaderMaterial||ne.isRawShaderMaterial){const mi=ne.uniformsGroups;for(let Ec=0,bc=mi.length;Ec<bc;Ec++)if(Se.isWebGL2){const bh=mi[Ec];ge.update(bh,pi),ge.bind(bh,pi)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return pi}function Mv(O,re){O.ambientLightColor.needsUpdate=re,O.lightProbe.needsUpdate=re,O.directionalLights.needsUpdate=re,O.directionalLightShadows.needsUpdate=re,O.pointLights.needsUpdate=re,O.pointLightShadows.needsUpdate=re,O.spotLights.needsUpdate=re,O.spotLightShadows.needsUpdate=re,O.rectAreaLights.needsUpdate=re,O.hemisphereLights.needsUpdate=re}function Ev(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(O,re,de){Ne.get(O.texture).__webglTexture=re,Ne.get(O.depthTexture).__webglTexture=de;const ne=Ne.get(O);ne.__hasExternalTextures=!0,ne.__hasExternalTextures&&(ne.__autoAllocateDepthBuffer=de===void 0,ne.__autoAllocateDepthBuffer||me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ne.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(O,re){const de=Ne.get(O);de.__webglFramebuffer=re,de.__useDefaultFramebuffer=re===void 0},this.setRenderTarget=function(O,re=0,de=0){P=O,b=re,C=de;let ne=!0,he=null,je=!1,it=!1;if(O){const ht=Ne.get(O);ht.__useDefaultFramebuffer!==void 0?(xe.bindFramebuffer(H.FRAMEBUFFER,null),ne=!1):ht.__webglFramebuffer===void 0?He.setupRenderTarget(O):ht.__hasExternalTextures&&He.rebindTextures(O,Ne.get(O.texture).__webglTexture,Ne.get(O.depthTexture).__webglTexture);const bt=O.texture;(bt.isData3DTexture||bt.isDataArrayTexture||bt.isCompressedArrayTexture)&&(it=!0);const at=Ne.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Array.isArray(at[re])?he=at[re][de]:he=at[re],je=!0):Se.isWebGL2&&O.samples>0&&He.useMultisampledRTT(O)===!1?he=Ne.get(O).__webglMultisampledFramebuffer:Array.isArray(at)?he=at[de]:he=at,B.copy(O.viewport),G.copy(O.scissor),Q=O.scissorTest}else B.copy(j).multiplyScalar(te).floor(),G.copy(z).multiplyScalar(te).floor(),Q=Y;if(xe.bindFramebuffer(H.FRAMEBUFFER,he)&&Se.drawBuffers&&ne&&xe.drawBuffers(O,he),xe.viewport(B),xe.scissor(G),xe.setScissorTest(Q),je){const ht=Ne.get(O.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+re,ht.__webglTexture,de)}else if(it){const ht=Ne.get(O.texture),bt=re||0;H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,ht.__webglTexture,de||0,bt)}I=-1},this.readRenderTargetPixels=function(O,re,de,ne,he,je,it){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ut=Ne.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&it!==void 0&&(ut=ut[it]),ut){xe.bindFramebuffer(H.FRAMEBUFFER,ut);try{const ht=O.texture,bt=ht.format,at=ht.type;if(bt!==Yi&&Ve.convert(bt)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const dt=at===th&&(me.has("EXT_color_buffer_half_float")||Se.isWebGL2&&me.has("EXT_color_buffer_float"));if(at!==Ks&&Ve.convert(at)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_TYPE)&&!(at===Ws&&(Se.isWebGL2||me.has("OES_texture_float")||me.has("WEBGL_color_buffer_float")))&&!dt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=O.width-ne&&de>=0&&de<=O.height-he&&H.readPixels(re,de,ne,he,Ve.convert(bt),Ve.convert(at),je)}finally{const ht=P!==null?Ne.get(P).__webglFramebuffer:null;xe.bindFramebuffer(H.FRAMEBUFFER,ht)}}},this.copyFramebufferToTexture=function(O,re,de=0){const ne=Math.pow(2,-de),he=Math.floor(re.image.width*ne),je=Math.floor(re.image.height*ne);He.setTexture2D(re,0),H.copyTexSubImage2D(H.TEXTURE_2D,de,0,0,O.x,O.y,he,je),xe.unbindTexture()},this.copyTextureToTexture=function(O,re,de,ne=0){const he=re.image.width,je=re.image.height,it=Ve.convert(de.format),ut=Ve.convert(de.type);He.setTexture2D(de,0),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,de.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,de.unpackAlignment),re.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,ne,O.x,O.y,he,je,it,ut,re.image.data):re.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,ne,O.x,O.y,re.mipmaps[0].width,re.mipmaps[0].height,it,re.mipmaps[0].data):H.texSubImage2D(H.TEXTURE_2D,ne,O.x,O.y,it,ut,re.image),ne===0&&de.generateMipmaps&&H.generateMipmap(H.TEXTURE_2D),xe.unbindTexture()},this.copyTextureToTexture3D=function(O,re,de,ne,he=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const je=O.max.x-O.min.x+1,it=O.max.y-O.min.y+1,ut=O.max.z-O.min.z+1,ht=Ve.convert(ne.format),bt=Ve.convert(ne.type);let at;if(ne.isData3DTexture)He.setTexture3D(ne,0),at=H.TEXTURE_3D;else if(ne.isDataArrayTexture)He.setTexture2DArray(ne,0),at=H.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,ne.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,ne.unpackAlignment);const dt=H.getParameter(H.UNPACK_ROW_LENGTH),qt=H.getParameter(H.UNPACK_IMAGE_HEIGHT),$t=H.getParameter(H.UNPACK_SKIP_PIXELS),Hi=H.getParameter(H.UNPACK_SKIP_ROWS),rr=H.getParameter(H.UNPACK_SKIP_IMAGES),Yt=de.isCompressedTexture?de.mipmaps[0]:de.image;H.pixelStorei(H.UNPACK_ROW_LENGTH,Yt.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,Yt.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,O.min.x),H.pixelStorei(H.UNPACK_SKIP_ROWS,O.min.y),H.pixelStorei(H.UNPACK_SKIP_IMAGES,O.min.z),de.isDataTexture||de.isData3DTexture?H.texSubImage3D(at,he,re.x,re.y,re.z,je,it,ut,ht,bt,Yt.data):de.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),H.compressedTexSubImage3D(at,he,re.x,re.y,re.z,je,it,ut,ht,Yt.data)):H.texSubImage3D(at,he,re.x,re.y,re.z,je,it,ut,ht,bt,Yt),H.pixelStorei(H.UNPACK_ROW_LENGTH,dt),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,qt),H.pixelStorei(H.UNPACK_SKIP_PIXELS,$t),H.pixelStorei(H.UNPACK_SKIP_ROWS,Hi),H.pixelStorei(H.UNPACK_SKIP_IMAGES,rr),he===0&&ne.generateMipmaps&&H.generateMipmap(at),xe.unbindTexture()},this.initTexture=function(O){O.isCubeTexture?He.setTextureCube(O,0):O.isData3DTexture?He.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?He.setTexture2DArray(O,0):He.setTexture2D(O,0),xe.unbindTexture()},this.resetState=function(){b=0,C=0,P=null,xe.reset(),V.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return js}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===yt?La:iM}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===La?yt:_s}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class xk extends gM{}xk.prototype.isWebGL1Renderer=!0;class By{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ke(e),this.density=t}clone(){return new By(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Iy{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new ke(e),this.near=t,this.far=i}clone(){return new Iy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class yM extends It{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class Yd{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ad,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=yr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=yr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=yr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ii=new D;class Va{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Ii.fromBufferAttribute(this,t),Ii.applyMatrix4(e),this.setXYZ(t,Ii.x,Ii.y,Ii.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ii.fromBufferAttribute(this,t),Ii.applyNormalMatrix(e),this.setXYZ(t,Ii.x,Ii.y,Ii.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ii.fromBufferAttribute(this,t),Ii.transformDirection(e),this.setXYZ(t,Ii.x,Ii.y,Ii.z);return this}setX(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ki(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ki(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ki(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ki(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array),s=_t(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new zt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Va(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class vM extends Xn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let nu;const sf=new D,iu=new D,ru=new D,su=new pe,of=new pe,Ak=new ct,Jm=new D,af=new D,Ym=new D,cR=new pe,MA=new pe,uR=new pe;class _k extends It{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",nu===void 0){nu=new vt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Yd(t,5);nu.setIndex([0,1,2,0,2,3]),nu.setAttribute("position",new Va(i,3,0,!1)),nu.setAttribute("uv",new Va(i,2,3,!1))}this.geometry=nu,this.material=e!==void 0?e:new vM,this.center=new pe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),iu.setFromMatrixScale(this.matrixWorld),Ak.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ru.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&iu.multiplyScalar(-ru.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Km(Jm.set(-.5,-.5,0),ru,o,iu,r,s),Km(af.set(.5,-.5,0),ru,o,iu,r,s),Km(Ym.set(.5,.5,0),ru,o,iu,r,s),cR.set(0,0),MA.set(1,0),uR.set(1,1);let a=e.ray.intersectTriangle(Jm,af,Ym,!1,sf);if(a===null&&(Km(af.set(-.5,.5,0),ru,o,iu,r,s),MA.set(0,1),a=e.ray.intersectTriangle(Jm,Ym,af,!1,sf),a===null))return;const l=e.ray.origin.distanceTo(sf);l<e.near||l>e.far||t.push({distance:l,point:sf.clone(),uv:Ji.getInterpolation(sf,Jm,af,Ym,cR,MA,uR,new pe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Km(n,e,t,i,r,s){su.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(of.x=s*su.x-r*su.y,of.y=r*su.x+s*su.y):of.copy(su),n.copy(e),n.x+=of.x,n.y+=of.y,n.applyMatrix4(Ak)}const qm=new D,hR=new D;class wk extends It{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){qm.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(qm);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){qm.setFromMatrixPosition(e.matrixWorld),hR.setFromMatrixPosition(this.matrixWorld);const i=qm.distanceTo(hR)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const fR=new D,dR=new Xt,pR=new Xt,n6=new D,mR=new ct,ou=new D,EA=new qr,gR=new ct,bA=new yc;class xM extends jn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ct,this.bindMatrixInverse=new ct,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new bs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)ou.fromBufferAttribute(t,i),this.applyBoneTransform(i,ou),this.boundingBox.expandByPoint(ou)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new qr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)ou.fromBufferAttribute(t,i),this.applyBoneTransform(i,ou),this.boundingSphere.expandByPoint(ou)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),EA.copy(this.boundingSphere),EA.applyMatrix4(r),e.ray.intersectsSphere(EA)!==!1&&(gR.copy(r).invert(),bA.copy(e.ray).applyMatrix4(gR),!(this.boundingBox!==null&&bA.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,bA)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Xt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;dR.fromBufferAttribute(r.attributes.skinIndex,e),pR.fromBufferAttribute(r.attributes.skinWeight,e),fR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=pR.getComponent(s);if(o!==0){const a=dR.getComponent(s);mR.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(n6.copy(fR).applyMatrix4(mR),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class Ly extends It{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ju extends sn{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Mn,u=Mn,d,p){super(null,o,a,l,c,u,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const yR=new ct,i6=new ct;class Kd{constructor(e=[],t=[]){this.uuid=yr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ct)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new ct;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:i6;yR.multiplyMatrices(a,t[s]),yR.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Kd(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=sk(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new ju(t,e,e,Yi,Ws);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Ly),this.bones.push(o),this.boneInverses.push(new ct().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class ac extends zt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const au=new ct,vR=new ct,Qm=[],xR=new bs,r6=new ct,lf=new jn,cf=new qr;class AM extends jn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ac(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,r6)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new bs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,au),xR.copy(e.boundingBox).applyMatrix4(au),this.boundingBox.union(xR)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new qr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,au),cf.copy(e.boundingSphere).applyMatrix4(au),this.boundingSphere.union(cf)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(lf.geometry=this.geometry,lf.material=this.material,lf.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),cf.copy(this.boundingSphere),cf.applyMatrix4(i),e.ray.intersectsSphere(cf)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,au),vR.multiplyMatrices(i,au),lf.matrixWorld=vR,lf.raycast(e,Qm);for(let o=0,a=Qm.length;o<a;o++){const l=Qm[o];l.instanceId=s,l.object=this,t.push(l)}Qm.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ac(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ti extends Xn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ke(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const AR=new D,_R=new D,wR=new ct,CA=new yc,Zm=new qr;class Vo extends It{constructor(e=new vt,t=new Ti){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)AR.fromBufferAttribute(t,r-1),_R.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=AR.distanceTo(_R);e.setAttribute("lineDistance",new Je(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Zm.copy(i.boundingSphere),Zm.applyMatrix4(r),Zm.radius+=s,e.ray.intersectsSphere(Zm)===!1)return;wR.copy(r).invert(),CA.copy(e.ray).applyMatrix4(wR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new D,u=new D,d=new D,p=new D,m=this.isLineSegments?2:1,y=i.index,A=i.attributes.position;if(y!==null){const g=Math.max(0,o.start),w=Math.min(y.count,o.start+o.count);for(let _=g,M=w-1;_<M;_+=m){const b=y.getX(_),C=y.getX(_+1);if(c.fromBufferAttribute(A,b),u.fromBufferAttribute(A,C),CA.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(p);I<e.near||I>e.far||t.push({distance:I,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),w=Math.min(A.count,o.start+o.count);for(let _=g,M=w-1;_<M;_+=m){if(c.fromBufferAttribute(A,_),u.fromBufferAttribute(A,_+1),CA.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const SR=new D,MR=new D;class Cs extends Vo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)SR.fromBufferAttribute(t,r),MR.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+SR.distanceTo(MR);e.setAttribute("lineDistance",new Je(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class _M extends Vo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Dy extends Xn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ER=new ct,aw=new yc,$m=new qr,eg=new D;class wM extends It{constructor(e=new vt,t=new Dy){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),$m.copy(i.boundingSphere),$m.applyMatrix4(r),$m.radius+=s,e.ray.intersectsSphere($m)===!1)return;ER.copy(r).invert(),aw.copy(e.ray).applyMatrix4(ER);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let y=p,x=m;y<x;y++){const A=c.getX(y);eg.fromBufferAttribute(d,A),bR(eg,A,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let y=p,x=m;y<x;y++)eg.fromBufferAttribute(d,y),bR(eg,y,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function bR(n,e,t,i,r,s,o){const a=aw.distanceSqToPoint(n);if(a<t){const l=new D;aw.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class s6 extends sn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:dn,this.magFilter=s!==void 0?s:dn,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class o6 extends sn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Mn,this.minFilter=Mn,this.generateMipmaps=!1,this.needsUpdate=!0}}class ky extends sn{constructor(e,t,i,r,s,o,a,l,c,u,d,p){super(null,o,a,l,c,u,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class a6 extends ky{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ci}}class l6 extends ky{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Go),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class c6 extends sn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ts{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],p=i[r+1]-u,m=(o-u)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new pe:new D);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new D,r=[],s=[],o=[],a=new D,l=new ct;for(let m=0;m<=e;m++){const y=m/e;r[m]=this.getTangentAt(y,new D)}s[0]=new D,o[0]=new D;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(En(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(En(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],m*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Fy extends Ts{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new pe,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*d+this.aX,c=p*d+m*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Sk extends Fy{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function SM(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;p*=u,m*=u,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const tg=new D,TA=new SM,RA=new SM,PA=new SM;class Mk extends Ts{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new D){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(tg.subVectors(r[0],r[1]).add(r[0]),c=tg);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(tg.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=tg),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(d),m),x=Math.pow(d.distanceToSquared(p),m),A=Math.pow(p.distanceToSquared(u),m);x<1e-4&&(x=1),y<1e-4&&(y=x),A<1e-4&&(A=x),TA.initNonuniformCatmullRom(c.x,d.x,p.x,u.x,y,x,A),RA.initNonuniformCatmullRom(c.y,d.y,p.y,u.y,y,x,A),PA.initNonuniformCatmullRom(c.z,d.z,p.z,u.z,y,x,A)}else this.curveType==="catmullrom"&&(TA.initCatmullRom(c.x,d.x,p.x,u.x,this.tension),RA.initCatmullRom(c.y,d.y,p.y,u.y,this.tension),PA.initCatmullRom(c.z,d.z,p.z,u.z,this.tension));return i.set(TA.calc(l),RA.calc(l),PA.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new D().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function CR(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function u6(n,e){const t=1-n;return t*t*e}function h6(n,e){return 2*(1-n)*n*e}function f6(n,e){return n*n*e}function zf(n,e,t,i){return u6(n,e)+h6(n,t)+f6(n,i)}function d6(n,e){const t=1-n;return t*t*t*e}function p6(n,e){const t=1-n;return 3*t*t*n*e}function m6(n,e){return 3*(1-n)*n*n*e}function g6(n,e){return n*n*n*e}function Hf(n,e,t,i,r){return d6(n,e)+p6(n,t)+m6(n,i)+g6(n,r)}class MM extends Ts{constructor(e=new pe,t=new pe,i=new pe,r=new pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Hf(e,r.x,s.x,o.x,a.x),Hf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Ek extends Ts{constructor(e=new D,t=new D,i=new D,r=new D){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new D){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Hf(e,r.x,s.x,o.x,a.x),Hf(e,r.y,s.y,o.y,a.y),Hf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Oy extends Ts{constructor(e=new pe,t=new pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new pe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bk extends Ts{constructor(e=new D,t=new D){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new D){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new D){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EM extends Ts{constructor(e=new pe,t=new pe,i=new pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(zf(e,r.x,s.x,o.x),zf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bM extends Ts{constructor(e=new D,t=new D,i=new D){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new D){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(zf(e,r.x,s.x,o.x),zf(e,r.y,s.y,o.y),zf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CM extends Ts{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(CR(a,l.x,c.x,u.x,d.x),CR(a,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new pe().fromArray(r))}return this}}var TM=Object.freeze({__proto__:null,ArcCurve:Sk,CatmullRomCurve3:Mk,CubicBezierCurve:MM,CubicBezierCurve3:Ek,EllipseCurve:Fy,LineCurve:Oy,LineCurve3:bk,QuadraticBezierCurve:EM,QuadraticBezierCurve3:bM,SplineCurve:CM});class Ck extends Ts{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Oy(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new TM[r.type]().fromJSON(r))}return this}}class Sd extends Ck{constructor(e){super(),this.type="Path",this.currentPoint=new pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Oy(this.currentPoint.clone(),new pe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new EM(this.currentPoint.clone(),new pe(e,t),new pe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new MM(this.currentPoint.clone(),new pe(e,t),new pe(i,r),new pe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new CM(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new Fy(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class qd extends vt{constructor(e=[new pe(0,-.5),new pe(.5,0),new pe(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=En(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,d=new D,p=new pe,m=new D,y=new D,x=new D;let A=0,g=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:A=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-A,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:A=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-A,m.z=g*0,y.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(y)}for(let w=0;w<=t;w++){const _=i+w*u*r,M=Math.sin(_),b=Math.cos(_);for(let C=0;C<=e.length-1;C++){d.x=e[C].x*M,d.y=e[C].y,d.z=e[C].x*b,o.push(d.x,d.y,d.z),p.x=w/t,p.y=C/(e.length-1),a.push(p.x,p.y);const P=l[3*C+0]*M,I=l[3*C+1],T=l[3*C+0]*b;c.push(P,I,T)}}for(let w=0;w<t;w++)for(let _=0;_<e.length-1;_++){const M=_+w*e.length,b=M,C=M+e.length,P=M+e.length+1,I=M+1;s.push(b,C,I),s.push(P,I,C)}this.setIndex(s),this.setAttribute("position",new Je(o,3)),this.setAttribute("uv",new Je(a,2)),this.setAttribute("normal",new Je(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qd(e.points,e.segments,e.phiStart,e.phiLength)}}class Ny extends qd{constructor(e=1,t=1,i=4,r=8){const s=new Sd;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Ny(e.radius,e.length,e.capSegments,e.radialSegments)}}class Uy extends vt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new D,u=new pe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=i+d/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Je(o,3)),this.setAttribute("normal",new Je(a,3)),this.setAttribute("uv",new Je(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uy(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class wh extends vt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],d=[],p=[],m=[];let y=0;const x=[],A=i/2;let g=0;w(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new Je(d,3)),this.setAttribute("normal",new Je(p,3)),this.setAttribute("uv",new Je(m,2));function w(){const M=new D,b=new D;let C=0;const P=(t-e)/i;for(let I=0;I<=s;I++){const T=[],B=I/s,G=B*(t-e)+e;for(let Q=0;Q<=r;Q++){const J=Q/r,q=J*l+a,ee=Math.sin(q),ie=Math.cos(q);b.x=G*ee,b.y=-B*i+A,b.z=G*ie,d.push(b.x,b.y,b.z),M.set(ee,P,ie).normalize(),p.push(M.x,M.y,M.z),m.push(J,1-B),T.push(y++)}x.push(T)}for(let I=0;I<r;I++)for(let T=0;T<s;T++){const B=x[T][I],G=x[T+1][I],Q=x[T+1][I+1],J=x[T][I+1];u.push(B,G,J),u.push(G,Q,J),C+=6}c.addGroup(g,C,0),g+=C}function _(M){const b=y,C=new pe,P=new D;let I=0;const T=M===!0?e:t,B=M===!0?1:-1;for(let Q=1;Q<=r;Q++)d.push(0,A*B,0),p.push(0,B,0),m.push(.5,.5),y++;const G=y;for(let Q=0;Q<=r;Q++){const q=Q/r*l+a,ee=Math.cos(q),ie=Math.sin(q);P.x=T*ie,P.y=A*B,P.z=T*ee,d.push(P.x,P.y,P.z),p.push(0,B,0),C.x=ee*.5+.5,C.y=ie*.5*B+.5,m.push(C.x,C.y),y++}for(let Q=0;Q<r;Q++){const J=b+Q,q=G+Q;M===!0?u.push(q,q+1,J):u.push(q+1,q,J),I+=3}c.addGroup(g,I,M===!0?1:2),g+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zy extends wh{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new zy(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $a extends vt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new Je(s,3)),this.setAttribute("normal",new Je(s.slice(),3)),this.setAttribute("uv",new Je(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const _=new D,M=new D,b=new D;for(let C=0;C<t.length;C+=3)m(t[C+0],_),m(t[C+1],M),m(t[C+2],b),l(_,M,b,w)}function l(w,_,M,b){const C=b+1,P=[];for(let I=0;I<=C;I++){P[I]=[];const T=w.clone().lerp(M,I/C),B=_.clone().lerp(M,I/C),G=C-I;for(let Q=0;Q<=G;Q++)Q===0&&I===C?P[I][Q]=T:P[I][Q]=T.clone().lerp(B,Q/G)}for(let I=0;I<C;I++)for(let T=0;T<2*(C-I)-1;T++){const B=Math.floor(T/2);T%2===0?(p(P[I][B+1]),p(P[I+1][B]),p(P[I][B])):(p(P[I][B+1]),p(P[I+1][B+1]),p(P[I+1][B]))}}function c(w){const _=new D;for(let M=0;M<s.length;M+=3)_.x=s[M+0],_.y=s[M+1],_.z=s[M+2],_.normalize().multiplyScalar(w),s[M+0]=_.x,s[M+1]=_.y,s[M+2]=_.z}function u(){const w=new D;for(let _=0;_<s.length;_+=3){w.x=s[_+0],w.y=s[_+1],w.z=s[_+2];const M=A(w)/2/Math.PI+.5,b=g(w)/Math.PI+.5;o.push(M,1-b)}y(),d()}function d(){for(let w=0;w<o.length;w+=6){const _=o[w+0],M=o[w+2],b=o[w+4],C=Math.max(_,M,b),P=Math.min(_,M,b);C>.9&&P<.1&&(_<.2&&(o[w+0]+=1),M<.2&&(o[w+2]+=1),b<.2&&(o[w+4]+=1))}}function p(w){s.push(w.x,w.y,w.z)}function m(w,_){const M=w*3;_.x=e[M+0],_.y=e[M+1],_.z=e[M+2]}function y(){const w=new D,_=new D,M=new D,b=new D,C=new pe,P=new pe,I=new pe;for(let T=0,B=0;T<s.length;T+=9,B+=6){w.set(s[T+0],s[T+1],s[T+2]),_.set(s[T+3],s[T+4],s[T+5]),M.set(s[T+6],s[T+7],s[T+8]),C.set(o[B+0],o[B+1]),P.set(o[B+2],o[B+3]),I.set(o[B+4],o[B+5]),b.copy(w).add(_).add(M).divideScalar(3);const G=A(b);x(C,B+0,w,G),x(P,B+2,_,G),x(I,B+4,M,G)}}function x(w,_,M,b){b<0&&w.x===1&&(o[_]=w.x-1),M.x===0&&M.z===0&&(o[_]=b/2/Math.PI+.5)}function A(w){return Math.atan2(w.z,-w.x)}function g(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $a(e.vertices,e.indices,e.radius,e.details)}}class Hy extends $a{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Hy(e.radius,e.detail)}}const ng=new D,ig=new D,BA=new D,rg=new Ji;class Tk extends vt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Kl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:x,b:A,c:g}=rg;if(x.fromBufferAttribute(a,c[0]),A.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),rg.getNormal(BA),d[0]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,d[1]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,d[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let w=0;w<3;w++){const _=(w+1)%3,M=d[w],b=d[_],C=rg[u[w]],P=rg[u[_]],I=`${M}_${b}`,T=`${b}_${M}`;T in p&&p[T]?(BA.dot(p[T].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(P.x,P.y,P.z)),p[T]=null):I in p||(p[I]={index0:c[w],index1:c[_],normal:BA.clone()})}}for(const y in p)if(p[y]){const{index0:x,index1:A}=p[y];ng.fromBufferAttribute(a,x),ig.fromBufferAttribute(a,A),m.push(ng.x,ng.y,ng.z),m.push(ig.x,ig.y,ig.z)}this.setAttribute("position",new Je(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Ql=class extends Sd{constructor(e){super(e),this.uuid=yr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Sd().fromJSON(r))}return this}};const y6={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=Rk(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,p,m;if(i&&(s=w6(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let y=t;y<r;y+=t)d=n[y],p=n[y+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Md(s,o,t,a,l,m,0),o}};function Rk(n,e,t,i,r){let s,o;if(r===L6(n,e,t,i)>0)for(s=e;s<t;s+=i)o=TR(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=TR(s,n[s],n[s+1],o);return o&&Gy(o,o.next)&&(bd(o),o=o.next),o}function lc(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Gy(t,t.next)||pn(t.prev,t,t.next)===0)){if(bd(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Md(n,e,t,i,r,s,o){if(!n)return;!o&&s&&C6(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?x6(n,i,r,s):v6(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),bd(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=A6(lc(n),e,t),Md(n,e,t,i,r,s,2)):o===2&&_6(n,e,t,i,r,s):Md(lc(n),e,t,i,r,s,1);break}}}function v6(n){const e=n.prev,t=n,i=n.next;if(pn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,u=r<s?r<o?r:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let y=i.next;for(;y!==e;){if(y.x>=u&&y.x<=p&&y.y>=d&&y.y<=m&&Cu(r,a,s,l,o,c,y.x,y.y)&&pn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function x6(n,e,t,i){const r=n.prev,s=n,o=n.next;if(pn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,u=r.y,d=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,y=u<d?u<p?u:p:d<p?d:p,x=a>l?a>c?a:c:l>c?l:c,A=u>d?u>p?u:p:d>p?d:p,g=lw(m,y,e,t,i),w=lw(x,A,e,t,i);let _=n.prevZ,M=n.nextZ;for(;_&&_.z>=g&&M&&M.z<=w;){if(_.x>=m&&_.x<=x&&_.y>=y&&_.y<=A&&_!==r&&_!==o&&Cu(a,u,l,d,c,p,_.x,_.y)&&pn(_.prev,_,_.next)>=0||(_=_.prevZ,M.x>=m&&M.x<=x&&M.y>=y&&M.y<=A&&M!==r&&M!==o&&Cu(a,u,l,d,c,p,M.x,M.y)&&pn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;_&&_.z>=g;){if(_.x>=m&&_.x<=x&&_.y>=y&&_.y<=A&&_!==r&&_!==o&&Cu(a,u,l,d,c,p,_.x,_.y)&&pn(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;M&&M.z<=w;){if(M.x>=m&&M.x<=x&&M.y>=y&&M.y<=A&&M!==r&&M!==o&&Cu(a,u,l,d,c,p,M.x,M.y)&&pn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function A6(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!Gy(r,s)&&Pk(r,i,i.next,s)&&Ed(r,s)&&Ed(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),bd(i),bd(i.next),i=n=s),i=i.next}while(i!==n);return lc(i)}function _6(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&P6(o,a)){let l=Bk(o,a);o=lc(o,o.next),l=lc(l,l.next),Md(o,e,t,i,r,s,0),Md(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function w6(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=Rk(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(R6(c));for(r.sort(S6),s=0;s<r.length;s++)t=M6(r[s],t);return t}function S6(n,e){return n.x-e.x}function M6(n,e){const t=E6(n,e);if(!t)return e;const i=Bk(t,n);return lc(i,i.next),lc(t,t.next)}function E6(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let u=1/0,d;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Cu(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),Ed(t,n)&&(d<u||d===u&&(t.x>r.x||t.x===r.x&&b6(r,t)))&&(r=t,u=d)),t=t.next;while(t!==a);return r}function b6(n,e){return pn(n.prev,n,e.prev)<0&&pn(e.next,n,n.next)<0}function C6(n,e,t,i){let r=n;do r.z===0&&(r.z=lw(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,T6(r)}function T6(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function lw(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function R6(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Cu(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function P6(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!B6(n,e)&&(Ed(n,e)&&Ed(e,n)&&I6(n,e)&&(pn(n.prev,n,e.prev)||pn(n,e.prev,e))||Gy(n,e)&&pn(n.prev,n,n.next)>0&&pn(e.prev,e,e.next)>0)}function pn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Gy(n,e){return n.x===e.x&&n.y===e.y}function Pk(n,e,t,i){const r=og(pn(n,e,t)),s=og(pn(n,e,i)),o=og(pn(t,i,n)),a=og(pn(t,i,e));return!!(r!==s&&o!==a||r===0&&sg(n,t,e)||s===0&&sg(n,i,e)||o===0&&sg(t,n,i)||a===0&&sg(t,e,i))}function sg(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function og(n){return n>0?1:n<0?-1:0}function B6(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Pk(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Ed(n,e){return pn(n.prev,n,n.next)<0?pn(n,e,n.next)>=0&&pn(n,n.prev,e)>=0:pn(n,e,n.prev)<0||pn(n,n.next,e)<0}function I6(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function Bk(n,e){const t=new cw(n.i,n.x,n.y),i=new cw(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function TR(n,e,t,i){const r=new cw(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function bd(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function cw(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L6(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class qs{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return qs.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];RR(e),PR(i,e);let o=e.length;t.forEach(RR);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,PR(i,t[l]);const a=y6.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function RR(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function PR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Vy extends vt{constructor(e=new Ql([new pe(.5,.5),new pe(-.5,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Je(r,3)),this.setAttribute("uv",new Je(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:D6;let _,M=!1,b,C,P,I;g&&(_=g.getSpacedPoints(u),M=!0,p=!1,b=g.computeFrenetFrames(u,!1),C=new D,P=new D,I=new D),p||(A=0,m=0,y=0,x=0);const T=a.extractPoints(c);let B=T.shape;const G=T.holes;if(!qs.isClockWise(B)){B=B.reverse();for(let H=0,ve=G.length;H<ve;H++){const me=G[H];qs.isClockWise(me)&&(G[H]=me.reverse())}}const J=qs.triangulateShape(B,G),q=B;for(let H=0,ve=G.length;H<ve;H++){const me=G[H];B=B.concat(me)}function ee(H,ve,me){return ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),H.clone().addScaledVector(ve,me)}const ie=B.length,te=J.length;function F(H,ve,me){let Se,xe,Ge;const Ne=H.x-ve.x,He=H.y-ve.y,tt=me.x-H.x,xt=me.y-H.y,Wt=Ne*Ne+He*He,U=Ne*xt-He*tt;if(Math.abs(U)>Number.EPSILON){const L=Math.sqrt(Wt),oe=Math.sqrt(tt*tt+xt*xt),Ee=ve.x-He/L,Ae=ve.y+Ne/L,Ce=me.x-xt/oe,Ye=me.y+tt/oe,Pe=((Ce-Ee)*xt-(Ye-Ae)*tt)/(Ne*xt-He*tt);Se=Ee+Ne*Pe-H.x,xe=Ae+He*Pe-H.y;const le=Se*Se+xe*xe;if(le<=2)return new pe(Se,xe);Ge=Math.sqrt(le/2)}else{let L=!1;Ne>Number.EPSILON?tt>Number.EPSILON&&(L=!0):Ne<-Number.EPSILON?tt<-Number.EPSILON&&(L=!0):Math.sign(He)===Math.sign(xt)&&(L=!0),L?(Se=-He,xe=Ne,Ge=Math.sqrt(Wt)):(Se=Ne,xe=He,Ge=Math.sqrt(Wt/2))}return new pe(Se/Ge,xe/Ge)}const X=[];for(let H=0,ve=q.length,me=ve-1,Se=H+1;H<ve;H++,me++,Se++)me===ve&&(me=0),Se===ve&&(Se=0),X[H]=F(q[H],q[me],q[Se]);const j=[];let z,Y=X.concat();for(let H=0,ve=G.length;H<ve;H++){const me=G[H];z=[];for(let Se=0,xe=me.length,Ge=xe-1,Ne=Se+1;Se<xe;Se++,Ge++,Ne++)Ge===xe&&(Ge=0),Ne===xe&&(Ne=0),z[Se]=F(me[Se],me[Ge],me[Ne]);j.push(z),Y=Y.concat(z)}for(let H=0;H<A;H++){const ve=H/A,me=m*Math.cos(ve*Math.PI/2),Se=y*Math.sin(ve*Math.PI/2)+x;for(let xe=0,Ge=q.length;xe<Ge;xe++){const Ne=ee(q[xe],X[xe],Se);Le(Ne.x,Ne.y,-me)}for(let xe=0,Ge=G.length;xe<Ge;xe++){const Ne=G[xe];z=j[xe];for(let He=0,tt=Ne.length;He<tt;He++){const xt=ee(Ne[He],z[He],Se);Le(xt.x,xt.y,-me)}}}const fe=y+x;for(let H=0;H<ie;H++){const ve=p?ee(B[H],Y[H],fe):B[H];M?(P.copy(b.normals[0]).multiplyScalar(ve.x),C.copy(b.binormals[0]).multiplyScalar(ve.y),I.copy(_[0]).add(P).add(C),Le(I.x,I.y,I.z)):Le(ve.x,ve.y,0)}for(let H=1;H<=u;H++)for(let ve=0;ve<ie;ve++){const me=p?ee(B[ve],Y[ve],fe):B[ve];M?(P.copy(b.normals[H]).multiplyScalar(me.x),C.copy(b.binormals[H]).multiplyScalar(me.y),I.copy(_[H]).add(P).add(C),Le(I.x,I.y,I.z)):Le(me.x,me.y,d/u*H)}for(let H=A-1;H>=0;H--){const ve=H/A,me=m*Math.cos(ve*Math.PI/2),Se=y*Math.sin(ve*Math.PI/2)+x;for(let xe=0,Ge=q.length;xe<Ge;xe++){const Ne=ee(q[xe],X[xe],Se);Le(Ne.x,Ne.y,d+me)}for(let xe=0,Ge=G.length;xe<Ge;xe++){const Ne=G[xe];z=j[xe];for(let He=0,tt=Ne.length;He<tt;He++){const xt=ee(Ne[He],z[He],Se);M?Le(xt.x,xt.y+_[u-1].y,_[u-1].x+me):Le(xt.x,xt.y,d+me)}}}ye(),we();function ye(){const H=r.length/3;if(p){let ve=0,me=ie*ve;for(let Se=0;Se<te;Se++){const xe=J[Se];ze(xe[2]+me,xe[1]+me,xe[0]+me)}ve=u+A*2,me=ie*ve;for(let Se=0;Se<te;Se++){const xe=J[Se];ze(xe[0]+me,xe[1]+me,xe[2]+me)}}else{for(let ve=0;ve<te;ve++){const me=J[ve];ze(me[2],me[1],me[0])}for(let ve=0;ve<te;ve++){const me=J[ve];ze(me[0]+ie*u,me[1]+ie*u,me[2]+ie*u)}}i.addGroup(H,r.length/3-H,0)}function we(){const H=r.length/3;let ve=0;Re(q,ve),ve+=q.length;for(let me=0,Se=G.length;me<Se;me++){const xe=G[me];Re(xe,ve),ve+=xe.length}i.addGroup(H,r.length/3-H,1)}function Re(H,ve){let me=H.length;for(;--me>=0;){const Se=me;let xe=me-1;xe<0&&(xe=H.length-1);for(let Ge=0,Ne=u+A*2;Ge<Ne;Ge++){const He=ie*Ge,tt=ie*(Ge+1),xt=ve+Se+He,Wt=ve+xe+He,U=ve+xe+tt,L=ve+Se+tt;nt(xt,Wt,U,L)}}}function Le(H,ve,me){l.push(H),l.push(ve),l.push(me)}function ze(H,ve,me){et(H),et(ve),et(me);const Se=r.length/3,xe=w.generateTopUV(i,r,Se-3,Se-2,Se-1);_e(xe[0]),_e(xe[1]),_e(xe[2])}function nt(H,ve,me,Se){et(H),et(ve),et(Se),et(ve),et(me),et(Se);const xe=r.length/3,Ge=w.generateSideWallUV(i,r,xe-6,xe-3,xe-2,xe-1);_e(Ge[0]),_e(Ge[1]),_e(Ge[3]),_e(Ge[1]),_e(Ge[2]),_e(Ge[3])}function et(H){r.push(l[H*3+0]),r.push(l[H*3+1]),r.push(l[H*3+2])}function _e(H){s.push(H.x),s.push(H.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return k6(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new TM[r.type]().fromJSON(r)),new Vy(i,e.options)}}const D6={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new pe(s,o),new pe(a,l),new pe(c,u)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],y=e[r*3+2],x=e[s*3],A=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new pe(o,1-l),new pe(c,1-d),new pe(p,1-y),new pe(x,1-g)]:[new pe(a,1-l),new pe(u,1-d),new pe(m,1-y),new pe(A,1-g)]}};function k6(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Wy extends $a{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Wy(e.radius,e.detail)}}class Qd extends $a{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Qd(e.radius,e.detail)}}class jy extends vt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let d=e;const p=(t-e)/r,m=new D,y=new pe;for(let x=0;x<=r;x++){for(let A=0;A<=i;A++){const g=s+A/i*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,u.push(y.x,y.y)}d+=p}for(let x=0;x<r;x++){const A=x*(i+1);for(let g=0;g<i;g++){const w=g+A,_=w,M=w+i+1,b=w+i+2,C=w+1;a.push(_,M,C),a.push(M,b,C)}}this.setIndex(a),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(c,3)),this.setAttribute("uv",new Je(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jy(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Xy extends vt{constructor(e=new Ql([new pe(0,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Je(r,3)),this.setAttribute("normal",new Je(s,3)),this.setAttribute("uv",new Je(o,2));function c(u){const d=r.length/3,p=u.extractPoints(t);let m=p.shape;const y=p.holes;qs.isClockWise(m)===!1&&(m=m.reverse());for(let A=0,g=y.length;A<g;A++){const w=y[A];qs.isClockWise(w)===!0&&(y[A]=w.reverse())}const x=qs.triangulateShape(m,y);for(let A=0,g=y.length;A<g;A++){const w=y[A];m=m.concat(w)}for(let A=0,g=m.length;A<g;A++){const w=m[A];r.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let A=0,g=x.length;A<g;A++){const w=x[A],_=w[0]+d,M=w[1]+d,b=w[2]+d;i.push(_,M,b),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return F6(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Xy(i,e.curveSegments)}}function F6(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Zd extends vt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new D,p=new D,m=[],y=[],x=[],A=[];for(let g=0;g<=i;g++){const w=[],_=g/i;let M=0;g===0&&o===0?M=.5/t:g===i&&l===Math.PI&&(M=-.5/t);for(let b=0;b<=t;b++){const C=b/t;d.x=-e*Math.cos(r+C*s)*Math.sin(o+_*a),d.y=e*Math.cos(o+_*a),d.z=e*Math.sin(r+C*s)*Math.sin(o+_*a),y.push(d.x,d.y,d.z),p.copy(d).normalize(),x.push(p.x,p.y,p.z),A.push(C+M,1-_),w.push(c++)}u.push(w)}for(let g=0;g<i;g++)for(let w=0;w<t;w++){const _=u[g][w+1],M=u[g][w],b=u[g+1][w],C=u[g+1][w+1];(g!==0||o>0)&&m.push(_,M,C),(g!==i-1||l<Math.PI)&&m.push(M,b,C)}this.setIndex(m),this.setAttribute("position",new Je(y,3)),this.setAttribute("normal",new Je(x,3)),this.setAttribute("uv",new Je(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Jy extends $a{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Jy(e.radius,e.detail)}}class Yy extends vt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new D,d=new D,p=new D;for(let m=0;m<=i;m++)for(let y=0;y<=r;y++){const x=y/r*s,A=m/i*Math.PI*2;d.x=(e+t*Math.cos(A))*Math.cos(x),d.y=(e+t*Math.cos(A))*Math.sin(x),d.z=t*Math.sin(A),a.push(d.x,d.y,d.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),p.subVectors(d,u).normalize(),l.push(p.x,p.y,p.z),c.push(y/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let y=1;y<=r;y++){const x=(r+1)*m+y-1,A=(r+1)*(m-1)+y-1,g=(r+1)*(m-1)+y,w=(r+1)*m+y;o.push(x,A,w),o.push(A,g,w)}this.setIndex(o),this.setAttribute("position",new Je(a,3)),this.setAttribute("normal",new Je(l,3)),this.setAttribute("uv",new Je(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yy(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ky extends vt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],u=[],d=new D,p=new D,m=new D,y=new D,x=new D,A=new D,g=new D;for(let _=0;_<=i;++_){const M=_/i*s*Math.PI*2;w(M,s,o,e,m),w(M+.01,s,o,e,y),A.subVectors(y,m),g.addVectors(y,m),x.crossVectors(A,g),g.crossVectors(x,A),x.normalize(),g.normalize();for(let b=0;b<=r;++b){const C=b/r*Math.PI*2,P=-t*Math.cos(C),I=t*Math.sin(C);d.x=m.x+(P*g.x+I*x.x),d.y=m.y+(P*g.y+I*x.y),d.z=m.z+(P*g.z+I*x.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),u.push(_/i),u.push(b/r)}}for(let _=1;_<=i;_++)for(let M=1;M<=r;M++){const b=(r+1)*(_-1)+(M-1),C=(r+1)*_+(M-1),P=(r+1)*_+M,I=(r+1)*(_-1)+M;a.push(b,C,I),a.push(C,P,I)}this.setIndex(a),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(c,3)),this.setAttribute("uv",new Je(u,2));function w(_,M,b,C,P){const I=Math.cos(_),T=Math.sin(_),B=b/M*_,G=Math.cos(B);P.x=C*(2+G)*.5*I,P.y=C*(2+G)*T*.5,P.z=C*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ky(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class qy extends vt{constructor(e=new bM(new D(-1,-1,0),new D(-1,1,0),new D(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new D,l=new D,c=new pe;let u=new D;const d=[],p=[],m=[],y=[];x(),this.setIndex(y),this.setAttribute("position",new Je(d,3)),this.setAttribute("normal",new Je(p,3)),this.setAttribute("uv",new Je(m,2));function x(){for(let _=0;_<t;_++)A(_);A(s===!1?t:0),w(),g()}function A(_){u=e.getPointAt(_/t,u);const M=o.normals[_],b=o.binormals[_];for(let C=0;C<=r;C++){const P=C/r*Math.PI*2,I=Math.sin(P),T=-Math.cos(P);l.x=T*M.x+I*b.x,l.y=T*M.y+I*b.y,l.z=T*M.z+I*b.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let _=1;_<=t;_++)for(let M=1;M<=r;M++){const b=(r+1)*(_-1)+(M-1),C=(r+1)*_+(M-1),P=(r+1)*_+M,I=(r+1)*(_-1)+M;y.push(b,C,I),y.push(C,P,I)}}function w(){for(let _=0;_<=t;_++)for(let M=0;M<=r;M++)c.x=_/t,c.y=M/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new qy(new TM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Ik extends vt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new D,s=new D;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],p=d.start,m=d.count;for(let y=p,x=p+m;y<x;y+=3)for(let A=0;A<3;A++){const g=a.getX(y+A),w=a.getX(y+(A+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,w),BR(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),BR(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Je(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function BR(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var IR=Object.freeze({__proto__:null,BoxGeometry:xc,CapsuleGeometry:Ny,CircleGeometry:Uy,ConeGeometry:zy,CylinderGeometry:wh,DodecahedronGeometry:Hy,EdgesGeometry:Tk,ExtrudeGeometry:Vy,IcosahedronGeometry:Wy,LatheGeometry:qd,OctahedronGeometry:Qd,PlaneGeometry:Jd,PolyhedronGeometry:$a,RingGeometry:jy,ShapeGeometry:Xy,SphereGeometry:Zd,TetrahedronGeometry:Jy,TorusGeometry:Yy,TorusKnotGeometry:Ky,TubeGeometry:qy,WireframeGeometry:Ik});class Lk extends Xn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ke(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Dk extends eo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class $d extends Xn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Qr extends $d{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return En(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ke(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class kk extends Xn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ke(16777215),this.specular=new ke(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Fk extends Xn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ke(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Ok extends Xn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Nk extends Xn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Uk extends Xn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ke(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zk extends Ti{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function zr(n,e,t){return RM(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Hl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function RM(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Hk(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function uw(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function PM(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function O6(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],p=[];for(let m=0;m<c.times.length;++m){const y=c.times[m]*r;if(!(y<t||y>=i)){d.push(c.times[m]);for(let x=0;x<u;++x)p.push(c.values[m*u+x])}}d.length!==0&&(c.times=Hl(d,c.times.constructor),c.values=Hl(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function N6(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let x;if(s<=a.times[0]){const g=u,w=d-u;x=zr(a.values,g,w)}else if(s>=a.times[y]){const g=y*d+u,w=g+d-u;x=zr(a.values,g,w)}else{const g=a.createInterpolant(),w=u,_=d-u;g.evaluate(s),x=zr(g.resultBuffer,w,_)}l==="quaternion"&&new ni().fromArray(x).normalize().conjugate().toArray(x);const A=c.times.length;for(let g=0;g<A;++g){const w=g*m+p;if(l==="quaternion")ni.multiplyQuaternionsFlat(c.values,w,x,0,c.values,w);else{const _=m-p*2;for(let M=0;M<_;++M)c.values[w+M]-=x[M]}}}return n.blendMode=tM,n}const U6={arraySlice:zr,convertArray:Hl,isTypedArray:RM,getKeyframeOrder:Hk,sortedArray:uw,flattenJSON:PM,subclip:O6,makeClipAdditive:N6};class Sh{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Gk extends Sh{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Nl,endingEnd:Nl}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ul:s=e,a=2*t-i;break;case xd:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Ul:o=e,l=2*i-t;break;case xd:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(i-t)/(r-t),x=y*y,A=x*y,g=-p*A+2*p*x-p*y,w=(1+p)*A+(-1.5-2*p)*x+(-.5+p)*y+1,_=(-1-m)*A+(1.5+m)*x+.5*y,M=m*A-m*x;for(let b=0;b!==a;++b)s[b]=g*o[u+b]+w*o[c+b]+_*o[l+b]+M*o[d+b];return s}}class BM extends Sh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),d=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*u;return s}}class Vk extends Sh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Rs{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Hl(t,this.TimeBufferType),this.values=Hl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Hl(e.times,Array),values:Hl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new Vk(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new BM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Gk(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case nh:t=this.InterpolantFactoryMethodDiscrete;break;case oc:t=this.InterpolantFactoryMethodLinear;break;case jg:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return nh;case this.InterpolantFactoryMethodLinear:return oc;case this.InterpolantFactoryMethodSmooth:return jg}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=zr(i,s,o),this.values=zr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&RM(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=zr(this.times),t=zr(this.values),i=this.getValueSize(),r=this.getInterpolation()===jg,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let y=0;y!==i;++y){const x=t[d+y];if(x!==t[p+y]||x!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=zr(e,0,o),this.values=zr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=zr(this.times,0),t=zr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Rs.prototype.TimeBufferType=Float32Array;Rs.prototype.ValueBufferType=Float32Array;Rs.prototype.DefaultInterpolation=oc;class Ac extends Rs{}Ac.prototype.ValueTypeName="bool";Ac.prototype.ValueBufferType=Array;Ac.prototype.DefaultInterpolation=nh;Ac.prototype.InterpolantFactoryMethodLinear=void 0;Ac.prototype.InterpolantFactoryMethodSmooth=void 0;class IM extends Rs{}IM.prototype.ValueTypeName="color";class cc extends Rs{}cc.prototype.ValueTypeName="number";class Wk extends Sh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)ni.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Wa extends Rs{InterpolantFactoryMethodLinear(e){return new Wk(this.times,this.values,this.getValueSize(),e)}}Wa.prototype.ValueTypeName="quaternion";Wa.prototype.DefaultInterpolation=oc;Wa.prototype.InterpolantFactoryMethodSmooth=void 0;class _c extends Rs{}_c.prototype.ValueTypeName="string";_c.prototype.ValueBufferType=Array;_c.prototype.DefaultInterpolation=nh;_c.prototype.InterpolantFactoryMethodLinear=void 0;_c.prototype.InterpolantFactoryMethodSmooth=void 0;class uc extends Rs{}uc.prototype.ValueTypeName="vector";class sh{constructor(e,t=-1,i,r=Cy){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=yr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(H6(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Rs.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=Hk(l);l=uw(l,1,u),c=uw(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new cc(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let p=r[d];p||(r[d]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,y,x){if(m.length!==0){const A=[],g=[];PM(m,A,g,y),A.length!==0&&x.push(new d(p,A,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let x=0;x<p[y].morphTargets.length;x++)m[p[y].morphTargets[x]]=-1;for(const x in m){const A=[],g=[];for(let w=0;w!==p[y].morphTargets.length;++w){const _=p[y];A.push(_.time),g.push(_.morphTarget===x?1:0)}r.push(new cc(".morphTargetInfluence["+x+"]",A,g))}l=m.length*o}else{const m=".bones["+t[d].name+"]";i(uc,m+".position",p,"pos",r),i(Wa,m+".quaternion",p,"rot",r),i(uc,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function z6(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return cc;case"vector":case"vector2":case"vector3":case"vector4":return uc;case"color":return IM;case"quaternion":return Wa;case"bool":case"boolean":return Ac;case"string":return _c}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function H6(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=z6(n.type);if(n.times===void 0){const t=[],i=[];PM(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const hc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class LM{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,p=c.length;d<p;d+=2){const m=c[d],y=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return y}return null}}}const Tu=new LM;let Ri=class{constructor(e){this.manager=e!==void 0?e:Tu,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};Ri.DEFAULT_MATERIAL_NAME="__DEFAULT";const go={};class G6 extends Error{constructor(e,t){super(e),this.response=t}}class _r extends Ri{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=hc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(go[e]!==void 0){go[e].push({onLoad:t,onProgress:i,onError:r});return}go[e]=[],go[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=go[e],d=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let x=0;const A=new ReadableStream({start(g){w();function w(){d.read().then(({done:_,value:M})=>{if(_)g.close();else{x+=M.byteLength;const b=new ProgressEvent("progress",{lengthComputable:y,loaded:x,total:m});for(let C=0,P=u.length;C<P;C++){const I=u[C];I.onProgress&&I.onProgress(b)}g.enqueue(M),w()}})}}});return new Response(A)}else throw new G6(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(y=>m.decode(y))}}}).then(c=>{hc.add(e,c);const u=go[e];delete go[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=go[e];if(u===void 0)throw this.manager.itemError(e),c;delete go[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class V6 extends Ri{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new _r(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=sh.parse(e[i]);t.push(r)}return t}}class W6 extends Ri{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new ky,l=new _r(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=dn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)u(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+x]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=dn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Cd extends Ri{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=hc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=wd("img");function l(){u(),hc.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class j6 extends Ri{constructor(e){super(e)}load(e,t,i,r){const s=new Xd;s.colorSpace=yt;const o=new Cd(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class X6 extends Ri{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new ju,a=new _r(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}if(!c)return r();c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:ci,o.wrapT=c.wrapT!==void 0?c.wrapT:ci,o.magFilter=c.magFilter!==void 0?c.magFilter:dn,o.minFilter=c.minFilter!==void 0?c.minFilter:dn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=$s),c.mipmapCount===1&&(o.minFilter=dn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},i,r),o}}class ep extends Ri{constructor(e){super(e)}load(e,t,i,r){const s=new sn,o=new Cd(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class el extends It{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ke(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class jk extends el{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(It.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ke(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const IA=new ct,LR=new D,DR=new D;class DM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pe(512,512),this.map=null,this.mapPass=null,this.matrix=new ct,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ry,this._frameExtents=new pe(1,1),this._viewportCount=1,this._viewports=[new Xt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;LR.setFromMatrixPosition(e.matrixWorld),t.position.copy(LR),DR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(DR),t.updateMatrixWorld(),IA.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(IA),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(IA)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class J6 extends DM{constructor(){super(new cn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=ih*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class kM extends el{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(It.DEFAULT_UP),this.updateMatrix(),this.target=new It,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new J6}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const kR=new ct,uf=new D,LA=new D;class Y6 extends DM{constructor(){super(new cn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pe(4,2),this._viewportCount=6,this._viewports=[new Xt(2,1,1,1),new Xt(0,1,1,1),new Xt(3,1,1,1),new Xt(1,1,1,1),new Xt(3,0,1,1),new Xt(1,0,1,1)],this._cubeDirections=[new D(1,0,0),new D(-1,0,0),new D(0,0,1),new D(0,0,-1),new D(0,1,0),new D(0,-1,0)],this._cubeUps=[new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,0,1),new D(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),uf.setFromMatrixPosition(e.matrixWorld),i.position.copy(uf),LA.copy(i.position),LA.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(LA),i.updateMatrixWorld(),r.makeTranslation(-uf.x,-uf.y,-uf.z),kR.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kR)}}class FM extends el{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Y6}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class K6 extends DM{constructor(){super(new ms(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class OM extends el{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(It.DEFAULT_UP),this.updateMatrix(),this.target=new It,this.shadow=new K6}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Xk extends el{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Jk extends el{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Yk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new D)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class Qy extends el{constructor(e=new Yk,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Zy extends Ri{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new _r(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=Zy.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ke().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new ke().setHex(o.value);break;case"v2":r.uniforms[s].value=new pe().fromArray(o.value);break;case"v3":r.uniforms[s].value=new D().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Xt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Mt().fromArray(o.value);break;case"m4":r.uniforms[s].value=new ct().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new pe().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new pe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:Lk,SpriteMaterial:vM,RawShaderMaterial:Dk,ShaderMaterial:eo,PointsMaterial:Dy,MeshPhysicalMaterial:Qr,MeshStandardMaterial:$d,MeshPhongMaterial:kk,MeshToonMaterial:Fk,MeshNormalMaterial:Ok,MeshLambertMaterial:Nk,MeshDepthMaterial:pM,MeshDistanceMaterial:mM,MeshBasicMaterial:mr,MeshMatcapMaterial:Uk,LineDashedMaterial:zk,LineBasicMaterial:Ti,Material:Xn};return new t[e]}}class ka{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Kk extends vt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class qk extends Ri{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new _r(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,y){if(t[y]!==void 0)return t[y];const A=m.interleavedBuffers[y],g=s(m,A.buffer),w=Eu(A.type,g),_=new Yd(w,A.stride);return _.uuid=A.uuid,t[y]=_,_}function s(m,y){if(i[y]!==void 0)return i[y];const A=m.arrayBuffers[y],g=new Uint32Array(A).buffer;return i[y]=g,g}const o=e.isInstancedBufferGeometry?new Kk:new vt,a=e.data.index;if(a!==void 0){const m=Eu(a.type,a.array);o.setIndex(new zt(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let x;if(y.isInterleavedBufferAttribute){const A=r(e.data,y.data);x=new Va(A,y.itemSize,y.offset,y.normalized)}else{const A=Eu(y.type,y.array),g=y.isInstancedBufferAttribute?ac:zt;x=new g(A,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),y.usage!==void 0&&x.setUsage(y.usage),y.updateRange!==void 0&&(x.updateRange.offset=y.updateRange.offset,x.updateRange.count=y.updateRange.count),o.setAttribute(m,x)}const c=e.data.morphAttributes;if(c)for(const m in c){const y=c[m],x=[];for(let A=0,g=y.length;A<g;A++){const w=y[A];let _;if(w.isInterleavedBufferAttribute){const M=r(e.data,w.data);_=new Va(M,w.itemSize,w.offset,w.normalized)}else{const M=Eu(w.type,w.array);_=new zt(M,w.itemSize,w.normalized)}w.name!==void 0&&(_.name=w.name),x.push(_)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,y=d.length;m!==y;++m){const x=d[m];o.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new D;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new qr(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class q6 extends Ri{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?ka.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new _r(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?ka.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new _r(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Ql().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Kd().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new qk;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in IR?a=IR[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new Zy;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=sh.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:Eu(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new LM(t);s=new Cd(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const m=[];for(let y=0,x=p.length;y<x;y++){const A=p[y],g=a(A);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new ju(g.data,g.width,g.height)))}r[d.uuid]=new zl(m)}else{const m=a(d.url);r[d.uuid]=new zl(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Eu(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Cd(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d],y=await s(m);y!==null&&(y instanceof HTMLImageElement?u.push(y):u.push(new ju(y.data,y.width,y.height)))}i[l.uuid]=new zl(u)}else{const u=await s(l.url);i[l.uuid]=new zl(u)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new Xd,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new ju:u=new sn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=i(a.mapping,Q6)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=i(a.wrap[0],FR),u.wrapT=i(a.wrap[1],FR)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=i(a.minFilter,OR)),a.magFilter!==void 0&&(u.magFilter=i(a.magFilter,OR)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,x=p.length;y<x;y++){const A=p[y];i[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),m.push(i[A])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let u,d;switch(e.type){case"Scene":o=new yM,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ke(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Iy(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new By(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new cn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ms(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Xk(e.color,e.intensity);break;case"DirectionalLight":o=new OM(e.color,e.intensity);break;case"PointLight":o=new FM(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Jk(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new kM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new jk(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Qy().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new xM(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new jn(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new AM(u,d,p),o.instanceMatrix=new ac(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new ac(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new wk;break;case"Line":o=new Vo(a(e.geometry),l(e.material));break;case"LineLoop":o=new _M(a(e.geometry),l(e.material));break;case"LineSegments":o=new Cs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new wM(a(e.geometry),l(e.material));break;case"Sprite":o=new _k(l(e.material));break;case"Group":o=new Co;break;case"Bone":o=new Ly;break;default:o=new It}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],x=o.getObjectByProperty("uuid",y.object);x!==void 0&&o.addLevel(x,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const Q6={UVMapping:My,CubeReflectionMapping:Go,CubeRefractionMapping:Ha,EquirectangularReflectionMapping:gd,EquirectangularRefractionMapping:yd,CubeUVReflectionMapping:Ah},FR={RepeatWrapping:Ga,ClampToEdgeWrapping:ci,MirroredRepeatWrapping:eh},OR={NearestFilter:Mn,NearestMipmapNearestFilter:vd,NearestMipmapLinearFilter:Vu,LinearFilter:dn,LinearMipmapNearestFilter:Ey,LinearMipmapLinearFilter:$s};class Qk extends Ri{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=hc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){hc.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let ag;class NM{static getContext(){return ag===void 0&&(ag=new(window.AudioContext||window.webkitAudioContext)),ag}static setContext(e){ag=e}}class Z6 extends Ri{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new _r(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);NM.getContext().decodeAudioData(c,function(d){t(d)},a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}class $6 extends Qy{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new ke().set(e),s=new ke().set(t),o=new D(r.r,r.g,r.b),a=new D(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class ej extends Qy{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new ke().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const NR=new ct,UR=new ct,yl=new ct;class tj{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new cn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new cn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,yl.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Kl*t.fov*.5)/t.zoom;let a,l;UR.elements[12]=-r,NR.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,yl.elements[0]=2*t.near/(l-a),yl.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(yl),a=-o*t.aspect-s,l=o*t.aspect-s,yl.elements[0]=2*t.near/(l-a),yl.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(yl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(UR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(NR)}}class UM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=zR(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=zR();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function zR(){return(typeof performance>"u"?Date:performance).now()}const vl=new D,HR=new ni,nj=new D,xl=new D;class ij extends It{constructor(){super(),this.type="AudioListener",this.context=NM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new UM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(vl,HR,nj),xl.set(0,0,-1).applyQuaternion(HR),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(vl.x,r),t.positionY.linearRampToValueAtTime(vl.y,r),t.positionZ.linearRampToValueAtTime(vl.z,r),t.forwardX.linearRampToValueAtTime(xl.x,r),t.forwardY.linearRampToValueAtTime(xl.y,r),t.forwardZ.linearRampToValueAtTime(xl.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(vl.x,vl.y,vl.z),t.setOrientation(xl.x,xl.y,xl.z,i.x,i.y,i.z)}}class Zk extends It{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Al=new D,GR=new ni,rj=new D,_l=new D;class sj extends Zk{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Al,GR,rj),_l.set(0,0,1).applyQuaternion(GR);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Al.x,i),t.positionY.linearRampToValueAtTime(Al.y,i),t.positionZ.linearRampToValueAtTime(Al.z,i),t.orientationX.linearRampToValueAtTime(_l.x,i),t.orientationY.linearRampToValueAtTime(_l.y,i),t.orientationZ.linearRampToValueAtTime(_l.z,i)}else t.setPosition(Al.x,Al.y,Al.z),t.setOrientation(_l.x,_l.y,_l.z)}}class oj{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class $k{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){ni.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;ni.multiplyQuaternionsFlat(e,o,e,t,e,i),ni.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const zM="\\[\\]\\.:\\/",aj=new RegExp("["+zM+"]","g"),HM="[^"+zM+"]",lj="[^"+zM.replace("\\.","")+"]",cj=/((?:WC+[\/:])*)/.source.replace("WC",HM),uj=/(WCOD+)?/.source.replace("WCOD",lj),hj=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",HM),fj=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",HM),dj=new RegExp("^"+cj+uj+hj+fj+"$"),pj=["material","materials","bones","map"];class mj{constructor(e,t,i){const r=i||Dt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Dt{constructor(e,t,i){this.path=t,this.parsedPath=i||Dt.parseTrackName(t),this.node=Dt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Dt.Composite(e,t,i):new Dt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(aj,"")}static parseTrackName(e){const t=dj.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);pj.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Dt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Dt.Composite=mj;Dt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Dt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Dt.prototype.GetterByBindingType=[Dt.prototype._getValue_direct,Dt.prototype._getValue_array,Dt.prototype._getValue_arrayElement,Dt.prototype._getValue_toArray];Dt.prototype.SetterByBindingTypeAndVersioning=[[Dt.prototype._setValue_direct,Dt.prototype._setValue_direct_setNeedsUpdate,Dt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Dt.prototype._setValue_array,Dt.prototype._setValue_array_setNeedsUpdate,Dt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Dt.prototype._setValue_arrayElement,Dt.prototype._setValue_arrayElement_setNeedsUpdate,Dt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Dt.prototype._setValue_fromArray,Dt.prototype._setValue_fromArray_setNeedsUpdate,Dt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class gj{constructor(){this.isAnimationObjectGroup=!0,this.uuid=yr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const p=arguments[u],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let x=0,A=o;x!==A;++x)s[x].push(new Dt(p,i[x],r[x]))}else if(y<c){a=e[y];const x=--c,A=e[x];t[A.uuid]=y,e[y]=A,t[m]=x,e[x]=p;for(let g=0,w=o;g!==w;++g){const _=s[g],M=_[x];let b=_[y];_[y]=M,b===void 0&&(b=new Dt(p,i[g],r[g])),_[x]=b}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const d=s++,p=e[d];t[p.uuid]=u,e[u]=p,t[c]=d,e[d]=l;for(let m=0,y=r;m!==y;++m){const x=i[m],A=x[d],g=x[u];x[u]=A,x[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=t[u];if(d!==void 0)if(delete t[u],d<s){const p=--s,m=e[p],y=--o,x=e[y];t[m.uuid]=d,e[d]=m,t[x.uuid]=p,e[p]=x,e.pop();for(let A=0,g=r;A!==g;++A){const w=i[A],_=w[p],M=w[y];w[d]=_,w[p]=M,w.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let y=0,x=r;y!==x;++y){const A=i[y];A[d]=A[p],A.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=u,m=l.length;p!==m;++p){const y=l[p];d[p]=new Dt(y,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class eF{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Nl,endingEnd:Nl};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=WD,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case tM:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case Cy:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===jD;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===VD){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Ul,r.endingEnd=Ul):(e?r.endingStart=this.zeroSlopeAtStart?Ul:Nl:r.endingStart=xd,t?r.endingEnd=this.zeroSlopeAtEnd?Ul:Nl:r.endingEnd=xd)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const yj=new Float32Array(1);class vj extends jo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let y=u[m];if(y!==void 0)++y.referenceCount,o[d]=y;else{if(y=o[d],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const x=t&&t._propertyBindings[d].binding.parsedPath;y=new $k(Dt.create(i,m,x),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[d]=y}a[d].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new BM(new Float32Array(2),new Float32Array(2),1,yj),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?sh.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Cy),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new eF(this,o,t,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?sh.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class GM{constructor(e){this.value=e}clone(){return new GM(this.value.clone===void 0?this.value:this.value.clone())}}let xj=0;class Aj extends jo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:xj++}),this.name="",this.usage=Ad,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class _j extends Yd{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class wj{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class tF{constructor(e,t,i=0,r=1/0){this.ray=new yc(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new ql,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return hw(e,this,i,t),i.sort(VR),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)hw(e[r],this,i,t);return i.sort(VR),i}}function VR(n,e){return n.distance-e.distance}function hw(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)hw(r[s],e,t,!0)}}class fw{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(En(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Sj{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const WR=new pe;class Mj{constructor(e=new pe(1/0,1/0),t=new pe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=WR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,WR).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const jR=new D,lg=new D;class Ej{constructor(e=new D,t=new D){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){jR.subVectors(e,this.start),lg.subVectors(this.end,this.start);const i=lg.dot(lg);let s=lg.dot(jR)/i;return t&&(s=En(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const XR=new D;class bj extends It{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new vt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new Je(r,3));const s=new Ti({fog:!1,toneMapped:!1});this.cone=new Cs(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),XR.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(XR),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const aa=new D,cg=new ct,DA=new ct;class Cj extends Cs{constructor(e){const t=nF(e),i=new vt,r=[],s=[],o=new ke(0,0,1),a=new ke(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Je(r,3)),i.setAttribute("color",new Je(s,3));const l=new Ti({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");DA.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(cg.multiplyMatrices(DA,a.matrixWorld),aa.setFromMatrixPosition(cg),r.setXYZ(o,aa.x,aa.y,aa.z),cg.multiplyMatrices(DA,a.parent.matrixWorld),aa.setFromMatrixPosition(cg),r.setXYZ(o+1,aa.x,aa.y,aa.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function nF(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,nF(n.children[t]));return e}class Tj extends jn{constructor(e,t,i){const r=new Zd(t,4,2),s=new mr({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Rj=new D,JR=new ke,YR=new ke;class Pj extends It{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Qd(t);r.rotateY(Math.PI*.5),this.material=new mr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new zt(o,3)),this.add(new jn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");JR.copy(this.light.color),YR.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?JR:YR;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Rj.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Bj extends Cs{constructor(e=10,t=10,i=4473924,r=8947848){i=new ke(i),r=new ke(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const x=p===s?i:r;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const u=new vt;u.setAttribute("position",new Je(l,3)),u.setAttribute("color",new Je(c,3));const d=new Ti({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ij extends Cs{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new ke(s),o=new ke(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const x=d&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let y=0;y<r;y++){let x=y/r*(Math.PI*2),A=Math.sin(x)*m,g=Math.cos(x)*m;a.push(A,0,g),l.push(p.r,p.g,p.b),x=(y+1)/r*(Math.PI*2),A=Math.sin(x)*m,g=Math.cos(x)*m,a.push(A,0,g),l.push(p.r,p.g,p.b)}}const c=new vt;c.setAttribute("position",new Je(a,3)),c.setAttribute("color",new Je(l,3));const u=new Ti({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const KR=new D,ug=new D,qR=new D;class Lj extends It{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new vt;r.setAttribute("position",new Je([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ti({fog:!1,toneMapped:!1});this.lightPlane=new Vo(r,s),this.add(this.lightPlane),r=new vt,r.setAttribute("position",new Je([0,0,0,0,0,1],3)),this.targetLine=new Vo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),KR.setFromMatrixPosition(this.light.matrixWorld),ug.setFromMatrixPosition(this.light.target.matrixWorld),qR.subVectors(ug,KR),this.lightPlane.lookAt(ug),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ug),this.targetLine.scale.z=qR.length()}}const hg=new D,wn=new jd;class Dj extends Cs{constructor(e){const t=new vt,i=new Ti({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,x){l(y),l(x)}function l(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new Je(r,3)),t.setAttribute("color",new Je(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ke(16755200),u=new ke(16711680),d=new ke(43775),p=new ke(16777215),m=new ke(3355443);this.setColors(c,u,d,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;wn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Tn("c",t,e,wn,0,0,-1),Tn("t",t,e,wn,0,0,1),Tn("n1",t,e,wn,-i,-r,-1),Tn("n2",t,e,wn,i,-r,-1),Tn("n3",t,e,wn,-i,r,-1),Tn("n4",t,e,wn,i,r,-1),Tn("f1",t,e,wn,-i,-r,1),Tn("f2",t,e,wn,i,-r,1),Tn("f3",t,e,wn,-i,r,1),Tn("f4",t,e,wn,i,r,1),Tn("u1",t,e,wn,i*.7,r*1.1,-1),Tn("u2",t,e,wn,-i*.7,r*1.1,-1),Tn("u3",t,e,wn,0,r*2,-1),Tn("cf1",t,e,wn,-i,0,1),Tn("cf2",t,e,wn,i,0,1),Tn("cf3",t,e,wn,0,-r,1),Tn("cf4",t,e,wn,0,r,1),Tn("cn1",t,e,wn,-i,0,-1),Tn("cn2",t,e,wn,i,0,-1),Tn("cn3",t,e,wn,0,-r,-1),Tn("cn4",t,e,wn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Tn(n,e,t,i,r,s,o){hg.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],hg.x,hg.y,hg.z)}}const fg=new bs;class kj extends Cs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new vt;s.setIndex(new zt(i,1)),s.setAttribute("position",new zt(r,3)),super(s,new Ti({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&fg.setFromObject(this.object),fg.isEmpty())return;const t=fg.min,i=fg.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Fj extends Cs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new vt;s.setIndex(new zt(i,1)),s.setAttribute("position",new Je(r,3)),super(s,new Ti({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Oj extends Vo{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new vt;o.setAttribute("position",new Je(s,3)),o.computeBoundingSphere(),super(o,new Ti({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new vt;l.setAttribute("position",new Je(a,3)),l.computeBoundingSphere(),this.add(new jn(l,new mr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const QR=new D;let dg,kA;class Nj extends It{constructor(e=new D(0,0,1),t=new D(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",dg===void 0&&(dg=new vt,dg.setAttribute("position",new Je([0,0,0,0,1,0],3)),kA=new wh(0,.5,1,5,1),kA.translate(0,-.5,0)),this.position.copy(t),this.line=new Vo(dg,new Ti({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new jn(kA,new mr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{QR.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(QR,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Uj extends Cs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new vt;r.setAttribute("position",new Je(t,3)),r.setAttribute("color",new Je(i,3));const s=new Ti({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new ke,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class zj{constructor(){this.type="ShapePath",this.color=new ke,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Sd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const w=[];for(let _=0,M=g.length;_<M;_++){const b=g[_],C=new Ql;C.curves=b.curves,w.push(C)}return w}function i(g,w){const _=w.length;let M=!1;for(let b=_-1,C=0;C<_;b=C++){let P=w[b],I=w[C],T=I.x-P.x,B=I.y-P.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(P=w[C],T=-T,I=w[b],B=-B),g.y<P.y||g.y>I.y)continue;if(g.y===P.y){if(g.x===P.x)return!0}else{const G=B*(g.x-P.x)-T*(g.y-P.y);if(G===0)return!0;if(G<0)continue;M=!M}}else{if(g.y!==P.y)continue;if(I.x<=g.x&&g.x<=P.x||P.x<=g.x&&g.x<=I.x)return!0}}return M}const r=qs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Ql,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const d=[],p=[];let m=[],y=0,x;p[y]=void 0,m[y]=[];for(let g=0,w=s.length;g<w;g++)a=s[g],x=a.getPoints(),o=r(x),o=e?!o:o,o?(!u&&p[y]&&y++,p[y]={s:new Ql,p:x},p[y].s.curves=a.curves,u&&y++,m[y]=[]):m[y].push({h:a,p:x[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,w=0;for(let _=0,M=p.length;_<M;_++)d[_]=[];for(let _=0,M=p.length;_<M;_++){const b=m[_];for(let C=0;C<b.length;C++){const P=b[C];let I=!0;for(let T=0;T<p.length;T++)i(P.p,p[T].p)&&(_!==T&&w++,I?(I=!1,d[T].push(P)):g=!0);I&&d[_].push(P)}}w>0&&g===!1&&(m=d)}let A;for(let g=0,w=p.length;g<w;g++){l=p[g].s,c.push(l),A=m[g];for(let _=0,M=A.length;_<M;_++)l.holes.push(A[_].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Vd}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Vd);const Hj=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:YS,AddEquation:Il,AddOperation:RD,AdditiveAnimationBlendMode:tM,AdditiveBlending:R1,AlphaFormat:FD,AlwaysCompare:rk,AlwaysDepth:wD,AlwaysStencilFunc:qD,AmbientLight:Xk,AmbientLightProbe:ej,AnimationAction:eF,AnimationClip:sh,AnimationLoader:V6,AnimationMixer:vj,AnimationObjectGroup:gj,AnimationUtils:U6,ArcCurve:Sk,ArrayCamera:yk,ArrowHelper:Nj,Audio:Zk,AudioAnalyser:oj,AudioContext:NM,AudioListener:ij,AudioLoader:Z6,AxesHelper:Uj,BackSide:Oi,BasicDepthPacking:JD,BasicShadowMap:lD,Bone:Ly,BooleanKeyframeTrack:Ac,Box2:Mj,Box3:bs,Box3Helper:Fj,BoxGeometry:xc,BoxHelper:kj,BufferAttribute:zt,BufferGeometry:vt,BufferGeometryLoader:qk,ByteType:DD,Cache:hc,Camera:jd,CameraHelper:Dj,CanvasTexture:c6,CapsuleGeometry:Ny,CatmullRomCurve3:Mk,CineonToneMapping:ID,CircleGeometry:Uy,ClampToEdgeWrapping:ci,Clock:UM,Color:ke,ColorKeyframeTrack:IM,ColorManagement:Or,CompressedArrayTexture:a6,CompressedCubeTexture:l6,CompressedTexture:ky,CompressedTextureLoader:W6,ConeGeometry:zy,CubeCamera:hM,CubeReflectionMapping:Go,CubeRefractionMapping:Ha,CubeTexture:Xd,CubeTextureLoader:j6,CubeUVReflectionMapping:Ah,CubicBezierCurve:MM,CubicBezierCurve3:Ek,CubicInterpolant:Gk,CullFaceBack:T1,CullFaceFront:aD,CullFaceFrontBack:s4,CullFaceNone:oD,Curve:Ts,CurvePath:Ck,CustomBlending:cD,CustomToneMapping:LD,CylinderGeometry:wh,Cylindrical:Sj,Data3DTexture:lM,DataArrayTexture:Ty,DataTexture:ju,DataTextureLoader:X6,DataUtils:pV,DecrementStencilOp:p4,DecrementWrapStencilOp:g4,DefaultLoadingManager:Tu,DepthFormat:Ia,DepthStencilFormat:sc,DepthTexture:vk,DirectionalLight:OM,DirectionalLightHelper:Lj,DiscreteInterpolant:Vk,DisplayP3ColorSpace:rM,DodecahedronGeometry:Hy,DoubleSide:Vr,DstAlphaFactor:gD,DstColorFactor:vD,DynamicCopyUsage:B4,DynamicDrawUsage:E4,DynamicReadUsage:T4,EdgesGeometry:Tk,EllipseCurve:Fy,EqualCompare:$D,EqualDepth:MD,EqualStencilFunc:A4,EquirectangularReflectionMapping:gd,EquirectangularRefractionMapping:yd,Euler:vc,EventDispatcher:jo,ExtrudeGeometry:Vy,FileLoader:_r,Float16BufferAttribute:AV,Float32BufferAttribute:Je,Float64BufferAttribute:_V,FloatType:Ws,Fog:Iy,FogExp2:By,FramebufferTexture:o6,FrontSide:Zs,Frustum:Ry,GLBufferAttribute:wj,GLSL1:L4,GLSL3:iw,GreaterCompare:tk,GreaterDepth:bD,GreaterEqualCompare:ik,GreaterEqualDepth:ED,GreaterEqualStencilFunc:M4,GreaterStencilFunc:w4,GridHelper:Bj,Group:Co,HalfFloatType:th,HemisphereLight:jk,HemisphereLightHelper:Pj,HemisphereLightProbe:$6,IcosahedronGeometry:Wy,ImageBitmapLoader:Qk,ImageLoader:Cd,ImageUtils:aM,IncrementStencilOp:d4,IncrementWrapStencilOp:m4,InstancedBufferAttribute:ac,InstancedBufferGeometry:Kk,InstancedInterleavedBuffer:_j,InstancedMesh:AM,Int16BufferAttribute:vV,Int32BufferAttribute:xV,Int8BufferAttribute:mV,IntType:KS,InterleavedBuffer:Yd,InterleavedBufferAttribute:Va,Interpolant:Sh,InterpolateDiscrete:nh,InterpolateLinear:oc,InterpolateSmooth:jg,InvertStencilOp:y4,KeepStencilOp:Xg,KeyframeTrack:Rs,LOD:wk,LatheGeometry:qd,Layers:ql,LessCompare:ZD,LessDepth:SD,LessEqualCompare:ek,LessEqualDepth:L0,LessEqualStencilFunc:_4,LessStencilFunc:x4,Light:el,LightProbe:Qy,Line:Vo,Line3:Ej,LineBasicMaterial:Ti,LineCurve:Oy,LineCurve3:bk,LineDashedMaterial:zk,LineLoop:_M,LineSegments:Cs,LinearEncoding:iM,LinearFilter:dn,LinearInterpolant:BM,LinearMipMapLinearFilter:u4,LinearMipMapNearestFilter:c4,LinearMipmapLinearFilter:$s,LinearMipmapNearestFilter:Ey,LinearSRGBColorSpace:_s,LinearToneMapping:PD,Loader:Ri,LoaderUtils:ka,LoadingManager:LM,LoopOnce:VD,LoopPingPong:jD,LoopRepeat:WD,LuminanceAlphaFormat:ND,LuminanceFormat:OD,MOUSE:bl,Material:Xn,MaterialLoader:Zy,MathUtils:oM,Matrix3:Mt,Matrix4:ct,MaxEquation:L1,Mesh:jn,MeshBasicMaterial:mr,MeshDepthMaterial:pM,MeshDistanceMaterial:mM,MeshLambertMaterial:Nk,MeshMatcapMaterial:Uk,MeshNormalMaterial:Ok,MeshPhongMaterial:kk,MeshPhysicalMaterial:Qr,MeshStandardMaterial:$d,MeshToonMaterial:Fk,MinEquation:I1,MirroredRepeatWrapping:eh,MixOperation:TD,MultiplyBlending:B1,MultiplyOperation:Wd,NearestFilter:Mn,NearestMipMapLinearFilter:l4,NearestMipMapNearestFilter:a4,NearestMipmapLinearFilter:Vu,NearestMipmapNearestFilter:vd,NeverCompare:QD,NeverDepth:_D,NeverStencilFunc:v4,NoBlending:Bo,NoColorSpace:Da,NoToneMapping:Ys,NormalAnimationBlendMode:Cy,NormalBlending:Yl,NotEqualCompare:nk,NotEqualDepth:CD,NotEqualStencilFunc:S4,NumberKeyframeTrack:cc,Object3D:It,ObjectLoader:q6,ObjectSpaceNormalMap:KD,OctahedronGeometry:Qd,OneFactor:dD,OneMinusDstAlphaFactor:yD,OneMinusDstColorFactor:xD,OneMinusSrcAlphaFactor:JS,OneMinusSrcColorFactor:mD,OrthographicCamera:ms,PCFShadowMap:Sy,PCFSoftShadowMap:Of,PMREMGenerator:sw,Path:Sd,PerspectiveCamera:cn,Plane:_o,PlaneGeometry:Jd,PlaneHelper:Oj,PointLight:FM,PointLightHelper:Tj,Points:wM,PointsMaterial:Dy,PolarGridHelper:Ij,PolyhedronGeometry:$a,PositionalAudio:sj,PropertyBinding:Dt,PropertyMixer:$k,QuadraticBezierCurve:EM,QuadraticBezierCurve3:bM,Quaternion:ni,QuaternionKeyframeTrack:Wa,QuaternionLinearInterpolant:Wk,RED_GREEN_RGTC2_Format:tw,RED_RGTC1_Format:GD,REVISION:Vd,RGBADepthPacking:YD,RGBAFormat:Yi,RGBAIntegerFormat:eM,RGBA_ASTC_10x10_Format:Q1,RGBA_ASTC_10x5_Format:Y1,RGBA_ASTC_10x6_Format:K1,RGBA_ASTC_10x8_Format:q1,RGBA_ASTC_12x10_Format:Z1,RGBA_ASTC_12x12_Format:$1,RGBA_ASTC_4x4_Format:z1,RGBA_ASTC_5x4_Format:H1,RGBA_ASTC_5x5_Format:G1,RGBA_ASTC_6x5_Format:V1,RGBA_ASTC_6x6_Format:W1,RGBA_ASTC_8x5_Format:j1,RGBA_ASTC_8x6_Format:X1,RGBA_ASTC_8x8_Format:J1,RGBA_BPTC_Format:Wg,RGBA_ETC2_EAC_Format:U1,RGBA_PVRTC_2BPPV1_Format:O1,RGBA_PVRTC_4BPPV1_Format:F1,RGBA_S3TC_DXT1_Format:Hg,RGBA_S3TC_DXT3_Format:Gg,RGBA_S3TC_DXT5_Format:Vg,RGB_ETC1_Format:HD,RGB_ETC2_Format:N1,RGB_PVRTC_2BPPV1_Format:k1,RGB_PVRTC_4BPPV1_Format:D1,RGB_S3TC_DXT1_Format:zg,RGFormat:zD,RGIntegerFormat:$S,RawShaderMaterial:Dk,Ray:yc,Raycaster:tF,RectAreaLight:Jk,RedFormat:UD,RedIntegerFormat:ZS,ReinhardToneMapping:BD,RenderTarget:ak,RepeatWrapping:Ga,ReplaceStencilOp:f4,ReverseSubtractEquation:hD,RingGeometry:jy,SIGNED_RED_GREEN_RGTC2_Format:nw,SIGNED_RED_RGTC1_Format:ew,SRGBColorSpace:yt,Scene:yM,ShaderChunk:At,ShaderLib:us,ShaderMaterial:eo,ShadowMaterial:Lk,Shape:Ql,ShapeGeometry:Xy,ShapePath:zj,ShapeUtils:qs,ShortType:kD,Skeleton:Kd,SkeletonHelper:Cj,SkinnedMesh:xM,Source:zl,Sphere:qr,SphereGeometry:Zd,Spherical:fw,SphericalHarmonics3:Yk,SplineCurve:CM,SpotLight:kM,SpotLightHelper:bj,Sprite:_k,SpriteMaterial:vM,SrcAlphaFactor:XS,SrcAlphaSaturateFactor:AD,SrcColorFactor:pD,StaticCopyUsage:P4,StaticDrawUsage:Ad,StaticReadUsage:C4,StereoCamera:tj,StreamCopyUsage:I4,StreamDrawUsage:b4,StreamReadUsage:R4,StringKeyframeTrack:_c,SubtractEquation:uD,SubtractiveBlending:P1,TOUCH:Cl,TangentSpaceNormalMap:Za,TetrahedronGeometry:Jy,Texture:sn,TextureLoader:ep,TorusGeometry:Yy,TorusKnotGeometry:Ky,Triangle:Ji,TriangleFanDrawMode:D0,TriangleStripDrawMode:nM,TrianglesDrawMode:XD,TubeGeometry:qy,TwoPassDoubleSide:o4,UVMapping:My,Uint16BufferAttribute:cM,Uint32BufferAttribute:uM,Uint8BufferAttribute:gV,Uint8ClampedBufferAttribute:yV,Uniform:GM,UniformsGroup:Aj,UniformsLib:Ie,UniformsUtils:uk,UnsignedByteType:Ks,UnsignedInt248Type:Ba,UnsignedIntType:bo,UnsignedShort4444Type:qS,UnsignedShort5551Type:QS,UnsignedShortType:by,VSMShadowMap:as,Vector2:pe,Vector3:D,Vector4:Xt,VectorKeyframeTrack:uc,VideoTexture:s6,WebGL1Renderer:xk,WebGL3DRenderTarget:iV,WebGLArrayRenderTarget:nV,WebGLCoordinateSystem:js,WebGLCubeRenderTarget:fM,WebGLMultipleRenderTargets:rV,WebGLRenderTarget:ws,WebGLRenderer:gM,WebGLUtils:gk,WebGPUCoordinateSystem:_d,WireframeGeometry:Ik,WrapAroundEnding:xd,ZeroCurvatureEnding:Nl,ZeroFactor:fD,ZeroSlopeEnding:Ul,ZeroStencilOp:h4,_SRGBAFormat:k0,sRGBEncoding:La},Symbol.toStringTag,{value:"Module"}));var iF={exports:{}},wc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */wc.ConcurrentRoot=1;wc.ContinuousEventPriority=4;wc.DefaultEventPriority=16;wc.DiscreteEventPriority=1;wc.IdleEventPriority=536870912;wc.LegacyRoot=0;iF.exports=wc;var Ru=iF.exports;function Gj(n){let e;const t=new Set,i=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=u?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,u=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const y=u(e);if(!d(p,y)){const x=p;c(p=y,x)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,u,d)=>u||d?s(c,u,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const Vj=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ZR=Vj?k.useEffect:k.useLayoutEffect;function Wj(n){const e=typeof n=="function"?Gj(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=k.useReducer(A=>A+1,0),o=e.getState(),a=k.useRef(o),l=k.useRef(i),c=k.useRef(r),u=k.useRef(!1),d=k.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||u.current)&&(p=i(o),m=!r(d.current,p)),ZR(()=>{m&&(d.current=p),a.current=o,l.current=i,c.current=r,u.current=!1});const y=k.useRef(o);ZR(()=>{const A=()=>{try{const w=e.getState(),_=l.current(w);c.current(d.current,_)||(a.current=w,d.current=_,s())}catch{u.current=!0,s()}},g=e.subscribe(A);return e.getState()!==y.current&&A(),g},[]);const x=m?p:d.current;return k.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const jj=n=>typeof n=="object"&&typeof n.then=="function",Gl=[];function rF(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function sF(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of Gl)if(rF(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Gl.indexOf(r);s!==-1&&Gl.splice(s,1)},promise:(jj(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Gl.push(r),!t)throw r.promise}const Xj=(n,e,t)=>sF(n,e,!1,t),Jj=(n,e,t)=>void sF(n,e,!0,t),Yj=n=>{if(n===void 0||n.length===0)Gl.splice(0,Gl.length);else{const e=Gl.find(t=>rF(n,t.keys,t.equal));e&&e.remove()}};var oF={exports:{}},aF={exports:{}},lF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,X){var j=F.length;F.push(X);e:for(;0<j;){var z=j-1>>>1,Y=F[z];if(0<r(Y,X))F[z]=X,F[j]=Y,j=z;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var X=F[0],j=F.pop();if(j!==X){F[0]=j;e:for(var z=0,Y=F.length,fe=Y>>>1;z<fe;){var ye=2*(z+1)-1,we=F[ye],Re=ye+1,Le=F[Re];if(0>r(we,j))Re<Y&&0>r(Le,we)?(F[z]=Le,F[Re]=j,z=Re):(F[z]=we,F[ye]=j,z=ye);else if(Re<Y&&0>r(Le,j))F[z]=Le,F[Re]=j,z=Re;else break e}}return X}function r(F,X){var j=F.sortIndex-X.sortIndex;return j!==0?j:F.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,y=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var X=t(c);X!==null;){if(X.callback===null)i(c);else if(X.startTime<=F)i(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function M(F){if(x=!1,_(F),!y)if(t(l)!==null)y=!0,ie(b);else{var X=t(c);X!==null&&te(M,X.startTime-F)}}function b(F,X){y=!1,x&&(x=!1,g(I),I=-1),m=!0;var j=p;try{for(_(X),d=t(l);d!==null&&(!(d.expirationTime>X)||F&&!G());){var z=d.callback;if(typeof z=="function"){d.callback=null,p=d.priorityLevel;var Y=z(d.expirationTime<=X);X=n.unstable_now(),typeof Y=="function"?d.callback=Y:d===t(l)&&i(l),_(X)}else i(l);d=t(l)}if(d!==null)var fe=!0;else{var ye=t(c);ye!==null&&te(M,ye.startTime-X),fe=!1}return fe}finally{d=null,p=j,m=!1}}var C=!1,P=null,I=-1,T=5,B=-1;function G(){return!(n.unstable_now()-B<T)}function Q(){if(P!==null){var F=n.unstable_now();B=F;var X=!0;try{X=P(!0,F)}finally{X?J():(C=!1,P=null)}}else C=!1}var J;if(typeof w=="function")J=function(){w(Q)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ee=q.port2;q.port1.onmessage=Q,J=function(){ee.postMessage(null)}}else J=function(){A(Q,0)};function ie(F){P=F,C||(C=!0,J())}function te(F,X){I=A(function(){F(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,ie(b))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var j=p;p=X;try{return F()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,X){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var j=p;p=F;try{return X()}finally{p=j}},n.unstable_scheduleCallback=function(F,X,j){var z=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?z+j:z):j=z,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=j+Y,F={id:u++,callback:X,priorityLevel:F,startTime:j,expirationTime:Y,sortIndex:-1},j>z?(F.sortIndex=j,e(c,F),t(l)===null&&F===t(c)&&(x?(g(I),I=-1):x=!0,te(M,j-z))):(F.sortIndex=Y,e(l,F),y||m||(y=!0,ie(b))),F},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(F){var X=p;return function(){var j=p;p=X;try{return F.apply(this,arguments)}finally{p=j}}}})(lF);aF.exports=lF;var dw=aF.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kj=function(e){var t={},i=k,r=dw,s=Object.assign;function o(h){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+h,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),b=Symbol.iterator;function C(h){return h===null||typeof h!="object"?null:(h=b&&h[b]||h["@@iterator"],typeof h=="function"?h:null)}function P(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case A:return"Suspense";case g:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case y:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case x:var f=h.render;return h=h.displayName,h||(h=f.displayName||f.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case w:return f=h.displayName||null,f!==null?f:P(h.type)||"Memo";case _:f=h._payload,h=h._init;try{return P(h(f))}catch{}}return null}function I(h){var f=h.type;switch(h.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=f.render,h=h.displayName||h.name||"",f.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(f);case 8:return f===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function T(h){var f=h,v=h;if(h.alternate)for(;f.return;)f=f.return;else{h=f;do f=h,f.flags&4098&&(v=f.return),h=f.return;while(h)}return f.tag===3?v:null}function B(h){if(T(h)!==h)throw Error(o(188))}function G(h){var f=h.alternate;if(!f){if(f=T(h),f===null)throw Error(o(188));return f!==h?null:h}for(var v=h,S=f;;){var E=v.return;if(E===null)break;var R=E.alternate;if(R===null){if(S=E.return,S!==null){v=S;continue}break}if(E.child===R.child){for(R=E.child;R;){if(R===v)return B(E),h;if(R===S)return B(E),f;R=R.sibling}throw Error(o(188))}if(v.return!==S.return)v=E,S=R;else{for(var N=!1,K=E.child;K;){if(K===v){N=!0,v=E,S=R;break}if(K===S){N=!0,S=E,v=R;break}K=K.sibling}if(!N){for(K=R.child;K;){if(K===v){N=!0,v=R,S=E;break}if(K===S){N=!0,S=R,v=E;break}K=K.sibling}if(!N)throw Error(o(189))}}if(v.alternate!==S)throw Error(o(190))}if(v.tag!==3)throw Error(o(188));return v.stateNode.current===v?h:f}function Q(h){return h=G(h),h!==null?J(h):null}function J(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var f=J(h);if(f!==null)return f;h=h.sibling}return null}function q(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var f=q(h);if(f!==null)return f}h=h.sibling}return null}var ee=Array.isArray,ie=e.getPublicInstance,te=e.getRootHostContext,F=e.getChildHostContext,X=e.prepareForCommit,j=e.resetAfterCommit,z=e.createInstance,Y=e.appendInitialChild,fe=e.finalizeInitialChildren,ye=e.prepareUpdate,we=e.shouldSetTextContent,Re=e.createTextInstance,Le=e.scheduleTimeout,ze=e.cancelTimeout,nt=e.noTimeout,et=e.isPrimaryRenderer,_e=e.supportsMutation,H=e.supportsPersistence,ve=e.supportsHydration,me=e.getInstanceFromNode,Se=e.preparePortalMount,xe=e.getCurrentEventPriority,Ge=e.detachDeletedInstance,Ne=e.supportsMicrotasks,He=e.scheduleMicrotask,tt=e.supportsTestSelectors,xt=e.findFiberRoot,Wt=e.getBoundingRect,U=e.getTextContent,L=e.isHiddenSubtree,oe=e.matchAccessibilityRole,Ee=e.setFocusIfFocusable,Ae=e.setupIntersectionObserver,Ce=e.appendChild,Ye=e.appendChildToContainer,Pe=e.commitTextUpdate,le=e.commitMount,$e=e.commitUpdate,qe=e.insertBefore,Qe=e.insertInContainerBefore,Ve=e.removeChild,V=e.removeChildFromContainer,ge=e.resetTextContent,De=e.hideInstance,W=e.hideTextInstance,Me=e.unhideInstance,ae=e.unhideTextInstance,Te=e.clearContainer,Fe=e.cloneInstance,Tt=e.createContainerChildSet,Bt=e.appendChildToContainerChildSet,Ft=e.finalizeContainerChildren,si=e.replaceContainerChildren,Lt=e.cloneHiddenInstance,Un=e.cloneHiddenTextInstance,vn=e.canHydrateInstance,fp=e.canHydrateTextInstance,dp=e.canHydrateSuspenseInstance,pp=e.isSuspenseInstancePending,Xo=e.isSuspenseInstanceFallback,mp=e.registerSuspenseInstanceRetry,Ps=e.getNextHydratableSibling,gp=e.getFirstHydratableChild,Sv=e.getFirstHydratableChildWithinContainer,Mv=e.getFirstHydratableChildWithinSuspenseInstance,Ev=e.hydrateInstance,O=e.hydrateTextInstance,re=e.hydrateSuspenseInstance,de=e.getNextHydratableInstanceAfterSuspenseInstance,ne=e.commitHydratedContainer,he=e.commitHydratedSuspenseInstance,je=e.clearSuspenseBoundary,it=e.clearSuspenseBoundaryFromContainer,ut=e.shouldDeleteUnhydratedTailInstances,ht=e.didNotMatchHydratedContainerTextInstance,bt=e.didNotMatchHydratedTextInstance,at;function dt(h){if(at===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);at=f&&f[1]||""}return`
`+at+h}var qt=!1;function $t(h,f){if(!h||qt)return"";qt=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Be){var S=Be}Reflect.construct(h,[],f)}else{try{f.call()}catch(Be){S=Be}h.call(f.prototype)}else{try{throw Error()}catch(Be){S=Be}h()}}catch(Be){if(Be&&S&&typeof Be.stack=="string"){for(var E=Be.stack.split(`
`),R=S.stack.split(`
`),N=E.length-1,K=R.length-1;1<=N&&0<=K&&E[N]!==R[K];)K--;for(;1<=N&&0<=K;N--,K--)if(E[N]!==R[K]){if(N!==1||K!==1)do if(N--,K--,0>K||E[N]!==R[K]){var ue=`
`+E[N].replace(" at new "," at ");return h.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",h.displayName)),ue}while(1<=N&&0<=K);break}}}finally{qt=!1,Error.prepareStackTrace=v}return(h=h?h.displayName||h.name:"")?dt(h):""}var Hi=Object.prototype.hasOwnProperty,rr=[],Yt=-1;function pt(h){return{current:h}}function jt(h){0>Yt||(h.current=rr[Yt],rr[Yt]=null,Yt--)}function ft(h,f){Yt++,rr[Yt]=h.current,h.current=f}var pi={},zn=pt(pi),Bn=pt(!1),Zr=pi;function xn(h,f){var v=h.type.contextTypes;if(!v)return pi;var S=h.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var E={},R;for(R in v)E[R]=f[R];return S&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=f,h.__reactInternalMemoizedMaskedChildContext=E),E}function An(h){return h=h.childContextTypes,h!=null}function Jo(){jt(Bn),jt(zn)}function mi(h,f,v){if(zn.current!==pi)throw Error(o(168));ft(zn,f),ft(Bn,v)}function Ec(h,f,v){var S=h.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return v;S=S.getChildContext();for(var E in S)if(!(E in f))throw Error(o(108,I(h)||"Unknown",E));return s({},v,S)}function bc(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||pi,Zr=zn.current,ft(zn,h),ft(Bn,Bn.current),!0}function bh(h,f,v){var S=h.stateNode;if(!S)throw Error(o(169));v?(h=Ec(h,f,Zr),S.__reactInternalMemoizedMergedChildContext=h,jt(Bn),jt(zn),ft(zn,h)):jt(Bn),ft(Bn,v)}var $r=Math.clz32?Math.clz32:SN,_N=Math.log,wN=Math.LN2;function SN(h){return h>>>=0,h===0?32:31-(_N(h)/wN|0)|0}var yp=64,vp=4194304;function Ch(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function xp(h,f){var v=h.pendingLanes;if(v===0)return 0;var S=0,E=h.suspendedLanes,R=h.pingedLanes,N=v&268435455;if(N!==0){var K=N&~E;K!==0?S=Ch(K):(R&=N,R!==0&&(S=Ch(R)))}else N=v&~E,N!==0?S=Ch(N):R!==0&&(S=Ch(R));if(S===0)return 0;if(f!==0&&f!==S&&!(f&E)&&(E=S&-S,R=f&-f,E>=R||E===16&&(R&4194240)!==0))return f;if(S&4&&(S|=v&16),f=h.entangledLanes,f!==0)for(h=h.entanglements,f&=S;0<f;)v=31-$r(f),E=1<<v,S|=h[v],f&=~E;return S}function MN(h,f){switch(h){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EN(h,f){for(var v=h.suspendedLanes,S=h.pingedLanes,E=h.expirationTimes,R=h.pendingLanes;0<R;){var N=31-$r(R),K=1<<N,ue=E[N];ue===-1?(!(K&v)||K&S)&&(E[N]=MN(K,f)):ue<=f&&(h.expiredLanes|=K),R&=~K}}function bv(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Cv(h){for(var f=[],v=0;31>v;v++)f.push(h);return f}function Th(h,f,v){h.pendingLanes|=f,f!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,f=31-$r(f),h[f]=v}function bN(h,f){var v=h.pendingLanes&~f;h.pendingLanes=f,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=f,h.mutableReadLanes&=f,h.entangledLanes&=f,f=h.entanglements;var S=h.eventTimes;for(h=h.expirationTimes;0<v;){var E=31-$r(v),R=1<<E;f[E]=0,S[E]=-1,h[E]=-1,v&=~R}}function Tv(h,f){var v=h.entangledLanes|=f;for(h=h.entanglements;v;){var S=31-$r(v),E=1<<S;E&f|h[S]&f&&(h[S]|=f),v&=~E}}var Ot=0;function IE(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var Rv=r.unstable_scheduleCallback,LE=r.unstable_cancelCallback,CN=r.unstable_shouldYield,TN=r.unstable_requestPaint,Kn=r.unstable_now,Pv=r.unstable_ImmediatePriority,RN=r.unstable_UserBlockingPriority,Bv=r.unstable_NormalPriority,PN=r.unstable_IdlePriority,Ap=null,Bs=null;function BN(h){if(Bs&&typeof Bs.onCommitFiberRoot=="function")try{Bs.onCommitFiberRoot(Ap,h,void 0,(h.current.flags&128)===128)}catch{}}function IN(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var Is=typeof Object.is=="function"?Object.is:IN,no=null,_p=!1,Iv=!1;function DE(h){no===null?no=[h]:no.push(h)}function LN(h){_p=!0,DE(h)}function Ls(){if(!Iv&&no!==null){Iv=!0;var h=0,f=Ot;try{var v=no;for(Ot=1;h<v.length;h++){var S=v[h];do S=S(!0);while(S!==null)}no=null,_p=!1}catch(E){throw no!==null&&(no=no.slice(h+1)),Rv(Pv,Ls),E}finally{Ot=f,Iv=!1}}return null}var DN=a.ReactCurrentBatchConfig;function wp(h,f){if(Is(h,f))return!0;if(typeof h!="object"||h===null||typeof f!="object"||f===null)return!1;var v=Object.keys(h),S=Object.keys(f);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var E=v[S];if(!Hi.call(f,E)||!Is(h[E],f[E]))return!1}return!0}function kN(h){switch(h.tag){case 5:return dt(h.type);case 16:return dt("Lazy");case 13:return dt("Suspense");case 19:return dt("SuspenseList");case 0:case 2:case 15:return h=$t(h.type,!1),h;case 11:return h=$t(h.type.render,!1),h;case 1:return h=$t(h.type,!0),h;default:return""}}function es(h,f){if(h&&h.defaultProps){f=s({},f),h=h.defaultProps;for(var v in h)f[v]===void 0&&(f[v]=h[v]);return f}return f}var Sp=pt(null),Mp=null,Cc=null,Lv=null;function Dv(){Lv=Cc=Mp=null}function kE(h,f,v){et?(ft(Sp,f._currentValue),f._currentValue=v):(ft(Sp,f._currentValue2),f._currentValue2=v)}function kv(h){var f=Sp.current;jt(Sp),et?h._currentValue=f:h._currentValue2=f}function Fv(h,f,v){for(;h!==null;){var S=h.alternate;if((h.childLanes&f)!==f?(h.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),h===v)break;h=h.return}}function Tc(h,f){Mp=h,Lv=Cc=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&f&&(ar=!0),h.firstContext=null)}function Er(h){var f=et?h._currentValue:h._currentValue2;if(Lv!==h)if(h={context:h,memoizedValue:f,next:null},Cc===null){if(Mp===null)throw Error(o(308));Cc=h,Mp.dependencies={lanes:0,firstContext:h}}else Cc=Cc.next=h;return f}var Ds=null,Yo=!1;function Ov(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FE(h,f){h=h.updateQueue,f.updateQueue===h&&(f.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function io(h,f){return{eventTime:h,lane:f,tag:0,payload:null,callback:null,next:null}}function Ko(h,f){var v=h.updateQueue;v!==null&&(v=v.shared,In!==null&&h.mode&1&&!(Ct&2)?(h=v.interleaved,h===null?(f.next=f,Ds===null?Ds=[v]:Ds.push(v)):(f.next=h.next,h.next=f),v.interleaved=f):(h=v.pending,h===null?f.next=f:(f.next=h.next,h.next=f),v.pending=f))}function Ep(h,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var S=f.lanes;S&=h.pendingLanes,v|=S,f.lanes=v,Tv(h,v)}}function OE(h,f){var v=h.updateQueue,S=h.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var E=null,R=null;if(v=v.firstBaseUpdate,v!==null){do{var N={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};R===null?E=R=N:R=R.next=N,v=v.next}while(v!==null);R===null?E=R=f:R=R.next=f}else E=R=f;v={baseState:S.baseState,firstBaseUpdate:E,lastBaseUpdate:R,shared:S.shared,effects:S.effects},h.updateQueue=v;return}h=v.lastBaseUpdate,h===null?v.firstBaseUpdate=f:h.next=f,v.lastBaseUpdate=f}function bp(h,f,v,S){var E=h.updateQueue;Yo=!1;var R=E.firstBaseUpdate,N=E.lastBaseUpdate,K=E.shared.pending;if(K!==null){E.shared.pending=null;var ue=K,Be=ue.next;ue.next=null,N===null?R=Be:N.next=Be,N=ue;var Xe=h.alternate;Xe!==null&&(Xe=Xe.updateQueue,K=Xe.lastBaseUpdate,K!==N&&(K===null?Xe.firstBaseUpdate=Be:K.next=Be,Xe.lastBaseUpdate=ue))}if(R!==null){var mt=E.baseState;N=0,Xe=Be=ue=null,K=R;do{var rt=K.lane,Kt=K.eventTime;if((S&rt)===rt){Xe!==null&&(Xe=Xe.next={eventTime:Kt,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ze=h,xi=K;switch(rt=f,Kt=v,xi.tag){case 1:if(Ze=xi.payload,typeof Ze=="function"){mt=Ze.call(Kt,mt,rt);break e}mt=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=xi.payload,rt=typeof Ze=="function"?Ze.call(Kt,mt,rt):Ze,rt==null)break e;mt=s({},mt,rt);break e;case 2:Yo=!0}}K.callback!==null&&K.lane!==0&&(h.flags|=64,rt=E.effects,rt===null?E.effects=[K]:rt.push(K))}else Kt={eventTime:Kt,lane:rt,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Xe===null?(Be=Xe=Kt,ue=mt):Xe=Xe.next=Kt,N|=rt;if(K=K.next,K===null){if(K=E.shared.pending,K===null)break;rt=K,K=rt.next,rt.next=null,E.lastBaseUpdate=rt,E.shared.pending=null}}while(1);if(Xe===null&&(ue=mt),E.baseState=ue,E.firstBaseUpdate=Be,E.lastBaseUpdate=Xe,f=E.shared.interleaved,f!==null){E=f;do N|=E.lane,E=E.next;while(E!==f)}else R===null&&(E.shared.lanes=0);Oc|=N,h.lanes=N,h.memoizedState=mt}}function NE(h,f,v){if(h=f.effects,f.effects=null,h!==null)for(f=0;f<h.length;f++){var S=h[f],E=S.callback;if(E!==null){if(S.callback=null,S=v,typeof E!="function")throw Error(o(191,E));E.call(S)}}}var UE=new i.Component().refs;function Nv(h,f,v,S){f=h.memoizedState,v=v(S,f),v=v==null?f:s({},f,v),h.memoizedState=v,h.lanes===0&&(h.updateQueue.baseState=v)}var Cp={isMounted:function(h){return(h=h._reactInternals)?T(h)===h:!1},enqueueSetState:function(h,f,v){h=h._reactInternals;var S=Bi(),E=Zo(h),R=io(S,E);R.payload=f,v!=null&&(R.callback=v),Ko(h,R),f=Pr(h,E,S),f!==null&&Ep(f,h,E)},enqueueReplaceState:function(h,f,v){h=h._reactInternals;var S=Bi(),E=Zo(h),R=io(S,E);R.tag=1,R.payload=f,v!=null&&(R.callback=v),Ko(h,R),f=Pr(h,E,S),f!==null&&Ep(f,h,E)},enqueueForceUpdate:function(h,f){h=h._reactInternals;var v=Bi(),S=Zo(h),E=io(v,S);E.tag=2,f!=null&&(E.callback=f),Ko(h,E),f=Pr(h,S,v),f!==null&&Ep(f,h,S)}};function zE(h,f,v,S,E,R,N){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(S,R,N):f.prototype&&f.prototype.isPureReactComponent?!wp(v,S)||!wp(E,R):!0}function HE(h,f,v){var S=!1,E=pi,R=f.contextType;return typeof R=="object"&&R!==null?R=Er(R):(E=An(f)?Zr:zn.current,S=f.contextTypes,R=(S=S!=null)?xn(h,E):pi),f=new f(v,R),h.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cp,h.stateNode=f,f._reactInternals=h,S&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=E,h.__reactInternalMemoizedMaskedChildContext=R),f}function GE(h,f,v,S){h=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,S),f.state!==h&&Cp.enqueueReplaceState(f,f.state,null)}function Uv(h,f,v,S){var E=h.stateNode;E.props=v,E.state=h.memoizedState,E.refs=UE,Ov(h);var R=f.contextType;typeof R=="object"&&R!==null?E.context=Er(R):(R=An(f)?Zr:zn.current,E.context=xn(h,R)),E.state=h.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(Nv(h,f,R,v),E.state=h.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(f=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),f!==E.state&&Cp.enqueueReplaceState(E,E.state,null),bp(h,v,E,S),E.state=h.memoizedState),typeof E.componentDidMount=="function"&&(h.flags|=4194308)}var Rc=[],Pc=0,Tp=null,Rp=0,br=[],Cr=0,rl=null,ro=1,so="";function sl(h,f){Rc[Pc++]=Rp,Rc[Pc++]=Tp,Tp=h,Rp=f}function VE(h,f,v){br[Cr++]=ro,br[Cr++]=so,br[Cr++]=rl,rl=h;var S=ro;h=so;var E=32-$r(S)-1;S&=~(1<<E),v+=1;var R=32-$r(f)+E;if(30<R){var N=E-E%5;R=(S&(1<<N)-1).toString(32),S>>=N,E-=N,ro=1<<32-$r(f)+E|v<<E|S,so=R+h}else ro=1<<R|v<<E|S,so=h}function zv(h){h.return!==null&&(sl(h,1),VE(h,1,0))}function Hv(h){for(;h===Tp;)Tp=Rc[--Pc],Rc[Pc]=null,Rp=Rc[--Pc],Rc[Pc]=null;for(;h===rl;)rl=br[--Cr],br[Cr]=null,so=br[--Cr],br[Cr]=null,ro=br[--Cr],br[Cr]=null}var sr=null,or=null,on=!1,Rh=!1,ts=null;function WE(h,f){var v=Br(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=h,f=h.deletions,f===null?(h.deletions=[v],h.flags|=16):f.push(v)}function jE(h,f){switch(h.tag){case 5:return f=vn(f,h.type,h.pendingProps),f!==null?(h.stateNode=f,sr=h,or=gp(f),!0):!1;case 6:return f=fp(f,h.pendingProps),f!==null?(h.stateNode=f,sr=h,or=null,!0):!1;case 13:if(f=dp(f),f!==null){var v=rl!==null?{id:ro,overflow:so}:null;return h.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=Br(18,null,null,0),v.stateNode=f,v.return=h,h.child=v,sr=h,or=null,!0}return!1;default:return!1}}function Gv(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Vv(h){if(on){var f=or;if(f){var v=f;if(!jE(h,f)){if(Gv(h))throw Error(o(418));f=Ps(v);var S=sr;f&&jE(h,f)?WE(S,v):(h.flags=h.flags&-4097|2,on=!1,sr=h)}}else{if(Gv(h))throw Error(o(418));h.flags=h.flags&-4097|2,on=!1,sr=h}}}function XE(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;sr=h}function Ph(h){if(!ve||h!==sr)return!1;if(!on)return XE(h),on=!0,!1;if(h.tag!==3&&(h.tag!==5||ut(h.type)&&!we(h.type,h.memoizedProps))){var f=or;if(f){if(Gv(h)){for(h=or;h;)h=Ps(h);throw Error(o(418))}for(;f;)WE(h,f),f=Ps(f)}}if(XE(h),h.tag===13){if(!ve)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));or=de(h)}else or=sr?Ps(h.stateNode):null;return!0}function Bc(){ve&&(or=sr=null,Rh=on=!1)}function Wv(h){ts===null?ts=[h]:ts.push(h)}function Bh(h,f,v){if(h=v.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(o(309));var S=v.stateNode}if(!S)throw Error(o(147,h));var E=S,R=""+h;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===R?f.ref:(f=function(N){var K=E.refs;K===UE&&(K=E.refs={}),N===null?delete K[R]:K[R]=N},f._stringRef=R,f)}if(typeof h!="string")throw Error(o(284));if(!v._owner)throw Error(o(290,h))}return h}function Pp(h,f){throw h=Object.prototype.toString.call(f),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":h))}function JE(h){var f=h._init;return f(h._payload)}function YE(h){function f(se,Z){if(h){var ce=se.deletions;ce===null?(se.deletions=[Z],se.flags|=16):ce.push(Z)}}function v(se,Z){if(!h)return null;for(;Z!==null;)f(se,Z),Z=Z.sibling;return null}function S(se,Z){for(se=new Map;Z!==null;)Z.key!==null?se.set(Z.key,Z):se.set(Z.index,Z),Z=Z.sibling;return se}function E(se,Z){return se=ea(se,Z),se.index=0,se.sibling=null,se}function R(se,Z,ce){return se.index=ce,h?(ce=se.alternate,ce!==null?(ce=ce.index,ce<Z?(se.flags|=2,Z):ce):(se.flags|=2,Z)):(se.flags|=1048576,Z)}function N(se){return h&&se.alternate===null&&(se.flags|=2),se}function K(se,Z,ce,Ue){return Z===null||Z.tag!==6?(Z=Cx(ce,se.mode,Ue),Z.return=se,Z):(Z=E(Z,ce),Z.return=se,Z)}function ue(se,Z,ce,Ue){var Ke=ce.type;return Ke===u?Xe(se,Z,ce.props.children,Ue,ce.key):Z!==null&&(Z.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===_&&JE(Ke)===Z.type)?(Ue=E(Z,ce.props),Ue.ref=Bh(se,Z,ce),Ue.return=se,Ue):(Ue=am(ce.type,ce.key,ce.props,null,se.mode,Ue),Ue.ref=Bh(se,Z,ce),Ue.return=se,Ue)}function Be(se,Z,ce,Ue){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ce.containerInfo||Z.stateNode.implementation!==ce.implementation?(Z=Tx(ce,se.mode,Ue),Z.return=se,Z):(Z=E(Z,ce.children||[]),Z.return=se,Z)}function Xe(se,Z,ce,Ue,Ke){return Z===null||Z.tag!==7?(Z=fl(ce,se.mode,Ue,Ke),Z.return=se,Z):(Z=E(Z,ce),Z.return=se,Z)}function mt(se,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Cx(""+Z,se.mode,ce),Z.return=se,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case l:return ce=am(Z.type,Z.key,Z.props,null,se.mode,ce),ce.ref=Bh(se,null,Z),ce.return=se,ce;case c:return Z=Tx(Z,se.mode,ce),Z.return=se,Z;case _:var Ue=Z._init;return mt(se,Ue(Z._payload),ce)}if(ee(Z)||C(Z))return Z=fl(Z,se.mode,ce,null),Z.return=se,Z;Pp(se,Z)}return null}function rt(se,Z,ce,Ue){var Ke=Z!==null?Z.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ke!==null?null:K(se,Z,""+ce,Ue);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return ce.key===Ke?ue(se,Z,ce,Ue):null;case c:return ce.key===Ke?Be(se,Z,ce,Ue):null;case _:return Ke=ce._init,rt(se,Z,Ke(ce._payload),Ue)}if(ee(ce)||C(ce))return Ke!==null?null:Xe(se,Z,ce,Ue,null);Pp(se,ce)}return null}function Kt(se,Z,ce,Ue,Ke){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return se=se.get(ce)||null,K(Z,se,""+Ue,Ke);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case l:return se=se.get(Ue.key===null?ce:Ue.key)||null,ue(Z,se,Ue,Ke);case c:return se=se.get(Ue.key===null?ce:Ue.key)||null,Be(Z,se,Ue,Ke);case _:var wt=Ue._init;return Kt(se,Z,ce,wt(Ue._payload),Ke)}if(ee(Ue)||C(Ue))return se=se.get(ce)||null,Xe(Z,se,Ue,Ke,null);Pp(Z,Ue)}return null}function Ze(se,Z,ce,Ue){for(var Ke=null,wt=null,gt=Z,Nt=Z=0,Qn=null;gt!==null&&Nt<ce.length;Nt++){gt.index>Nt?(Qn=gt,gt=null):Qn=gt.sibling;var Ut=rt(se,gt,ce[Nt],Ue);if(Ut===null){gt===null&&(gt=Qn);break}h&&gt&&Ut.alternate===null&&f(se,gt),Z=R(Ut,Z,Nt),wt===null?Ke=Ut:wt.sibling=Ut,wt=Ut,gt=Qn}if(Nt===ce.length)return v(se,gt),on&&sl(se,Nt),Ke;if(gt===null){for(;Nt<ce.length;Nt++)gt=mt(se,ce[Nt],Ue),gt!==null&&(Z=R(gt,Z,Nt),wt===null?Ke=gt:wt.sibling=gt,wt=gt);return on&&sl(se,Nt),Ke}for(gt=S(se,gt);Nt<ce.length;Nt++)Qn=Kt(gt,se,Nt,ce[Nt],Ue),Qn!==null&&(h&&Qn.alternate!==null&&gt.delete(Qn.key===null?Nt:Qn.key),Z=R(Qn,Z,Nt),wt===null?Ke=Qn:wt.sibling=Qn,wt=Qn);return h&&gt.forEach(function(ta){return f(se,ta)}),on&&sl(se,Nt),Ke}function xi(se,Z,ce,Ue){var Ke=C(ce);if(typeof Ke!="function")throw Error(o(150));if(ce=Ke.call(ce),ce==null)throw Error(o(151));for(var wt=Ke=null,gt=Z,Nt=Z=0,Qn=null,Ut=ce.next();gt!==null&&!Ut.done;Nt++,Ut=ce.next()){gt.index>Nt?(Qn=gt,gt=null):Qn=gt.sibling;var ta=rt(se,gt,Ut.value,Ue);if(ta===null){gt===null&&(gt=Qn);break}h&&gt&&ta.alternate===null&&f(se,gt),Z=R(ta,Z,Nt),wt===null?Ke=ta:wt.sibling=ta,wt=ta,gt=Qn}if(Ut.done)return v(se,gt),on&&sl(se,Nt),Ke;if(gt===null){for(;!Ut.done;Nt++,Ut=ce.next())Ut=mt(se,Ut.value,Ue),Ut!==null&&(Z=R(Ut,Z,Nt),wt===null?Ke=Ut:wt.sibling=Ut,wt=Ut);return on&&sl(se,Nt),Ke}for(gt=S(se,gt);!Ut.done;Nt++,Ut=ce.next())Ut=Kt(gt,se,Nt,Ut.value,Ue),Ut!==null&&(h&&Ut.alternate!==null&&gt.delete(Ut.key===null?Nt:Ut.key),Z=R(Ut,Z,Nt),wt===null?Ke=Ut:wt.sibling=Ut,wt=Ut);return h&&gt.forEach(function(hU){return f(se,hU)}),on&&sl(se,Nt),Ke}function Ir(se,Z,ce,Ue){if(typeof ce=="object"&&ce!==null&&ce.type===u&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:e:{for(var Ke=ce.key,wt=Z;wt!==null;){if(wt.key===Ke){if(Ke=ce.type,Ke===u){if(wt.tag===7){v(se,wt.sibling),Z=E(wt,ce.props.children),Z.return=se,se=Z;break e}}else if(wt.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===_&&JE(Ke)===wt.type){v(se,wt.sibling),Z=E(wt,ce.props),Z.ref=Bh(se,wt,ce),Z.return=se,se=Z;break e}v(se,wt);break}else f(se,wt);wt=wt.sibling}ce.type===u?(Z=fl(ce.props.children,se.mode,Ue,ce.key),Z.return=se,se=Z):(Ue=am(ce.type,ce.key,ce.props,null,se.mode,Ue),Ue.ref=Bh(se,Z,ce),Ue.return=se,se=Ue)}return N(se);case c:e:{for(wt=ce.key;Z!==null;){if(Z.key===wt)if(Z.tag===4&&Z.stateNode.containerInfo===ce.containerInfo&&Z.stateNode.implementation===ce.implementation){v(se,Z.sibling),Z=E(Z,ce.children||[]),Z.return=se,se=Z;break e}else{v(se,Z);break}else f(se,Z);Z=Z.sibling}Z=Tx(ce,se.mode,Ue),Z.return=se,se=Z}return N(se);case _:return wt=ce._init,Ir(se,Z,wt(ce._payload),Ue)}if(ee(ce))return Ze(se,Z,ce,Ue);if(C(ce))return xi(se,Z,ce,Ue);Pp(se,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,Z!==null&&Z.tag===6?(v(se,Z.sibling),Z=E(Z,ce),Z.return=se,se=Z):(v(se,Z),Z=Cx(ce,se.mode,Ue),Z.return=se,se=Z),N(se)):v(se,Z)}return Ir}var Ic=YE(!0),KE=YE(!1),Ih={},Tr=pt(Ih),Lh=pt(Ih),Lc=pt(Ih);function ks(h){if(h===Ih)throw Error(o(174));return h}function jv(h,f){ft(Lc,f),ft(Lh,h),ft(Tr,Ih),h=te(f),jt(Tr),ft(Tr,h)}function Dc(){jt(Tr),jt(Lh),jt(Lc)}function qE(h){var f=ks(Lc.current),v=ks(Tr.current);f=F(v,h.type,f),v!==f&&(ft(Lh,h),ft(Tr,f))}function Xv(h){Lh.current===h&&(jt(Tr),jt(Lh))}var un=pt(0);function Bp(h){for(var f=h;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||pp(v)||Xo(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Jv=[];function Yv(){for(var h=0;h<Jv.length;h++){var f=Jv[h];et?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Jv.length=0}var Ip=a.ReactCurrentDispatcher,Rr=a.ReactCurrentBatchConfig,kc=0,_n=null,gi=null,qn=null,Lp=!1,Dh=!1,kh=0,FN=0;function yi(){throw Error(o(321))}function Kv(h,f){if(f===null)return!1;for(var v=0;v<f.length&&v<h.length;v++)if(!Is(h[v],f[v]))return!1;return!0}function qv(h,f,v,S,E,R){if(kc=R,_n=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Ip.current=h===null||h.memoizedState===null?zN:HN,h=v(S,E),Dh){R=0;do{if(Dh=!1,kh=0,25<=R)throw Error(o(301));R+=1,qn=gi=null,f.updateQueue=null,Ip.current=GN,h=v(S,E)}while(Dh)}if(Ip.current=Np,f=gi!==null&&gi.next!==null,kc=0,qn=gi=_n=null,Lp=!1,f)throw Error(o(300));return h}function Qv(){var h=kh!==0;return kh=0,h}function oo(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?_n.memoizedState=qn=h:qn=qn.next=h,qn}function Fs(){if(gi===null){var h=_n.alternate;h=h!==null?h.memoizedState:null}else h=gi.next;var f=qn===null?_n.memoizedState:qn.next;if(f!==null)qn=f,gi=h;else{if(h===null)throw Error(o(310));gi=h,h={memoizedState:gi.memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},qn===null?_n.memoizedState=qn=h:qn=qn.next=h}return qn}function ol(h,f){return typeof f=="function"?f(h):f}function Dp(h){var f=Fs(),v=f.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=h;var S=gi,E=S.baseQueue,R=v.pending;if(R!==null){if(E!==null){var N=E.next;E.next=R.next,R.next=N}S.baseQueue=E=R,v.pending=null}if(E!==null){R=E.next,S=S.baseState;var K=N=null,ue=null,Be=R;do{var Xe=Be.lane;if((kc&Xe)===Xe)ue!==null&&(ue=ue.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),S=Be.hasEagerState?Be.eagerState:h(S,Be.action);else{var mt={lane:Xe,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};ue===null?(K=ue=mt,N=S):ue=ue.next=mt,_n.lanes|=Xe,Oc|=Xe}Be=Be.next}while(Be!==null&&Be!==R);ue===null?N=S:ue.next=K,Is(S,f.memoizedState)||(ar=!0),f.memoizedState=S,f.baseState=N,f.baseQueue=ue,v.lastRenderedState=S}if(h=v.interleaved,h!==null){E=h;do R=E.lane,_n.lanes|=R,Oc|=R,E=E.next;while(E!==h)}else E===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function kp(h){var f=Fs(),v=f.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=h;var S=v.dispatch,E=v.pending,R=f.memoizedState;if(E!==null){v.pending=null;var N=E=E.next;do R=h(R,N.action),N=N.next;while(N!==E);Is(R,f.memoizedState)||(ar=!0),f.memoizedState=R,f.baseQueue===null&&(f.baseState=R),v.lastRenderedState=R}return[R,S]}function QE(){}function ZE(h,f){var v=_n,S=Fs(),E=f(),R=!Is(S.memoizedState,E);if(R&&(S.memoizedState=E,ar=!0),S=S.queue,Oh(tb.bind(null,v,S,h),[h]),S.getSnapshot!==f||R||qn!==null&&qn.memoizedState.tag&1){if(v.flags|=2048,Fh(9,eb.bind(null,v,S,E,f),void 0,null),In===null)throw Error(o(349));kc&30||$E(v,f,E)}return E}function $E(h,f,v){h.flags|=16384,h={getSnapshot:f,value:v},f=_n.updateQueue,f===null?(f={lastEffect:null,stores:null},_n.updateQueue=f,f.stores=[h]):(v=f.stores,v===null?f.stores=[h]:v.push(h))}function eb(h,f,v,S){f.value=v,f.getSnapshot=S,nb(f)&&Pr(h,1,-1)}function tb(h,f,v){return v(function(){nb(f)&&Pr(h,1,-1)})}function nb(h){var f=h.getSnapshot;h=h.value;try{var v=f();return!Is(h,v)}catch{return!0}}function Zv(h){var f=oo();return typeof h=="function"&&(h=h()),f.memoizedState=f.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:h},f.queue=h,h=h.dispatch=UN.bind(null,_n,h),[f.memoizedState,h]}function Fh(h,f,v,S){return h={tag:h,create:f,destroy:v,deps:S,next:null},f=_n.updateQueue,f===null?(f={lastEffect:null,stores:null},_n.updateQueue=f,f.lastEffect=h.next=h):(v=f.lastEffect,v===null?f.lastEffect=h.next=h:(S=v.next,v.next=h,h.next=S,f.lastEffect=h)),h}function ib(){return Fs().memoizedState}function Fp(h,f,v,S){var E=oo();_n.flags|=h,E.memoizedState=Fh(1|f,v,void 0,S===void 0?null:S)}function Op(h,f,v,S){var E=Fs();S=S===void 0?null:S;var R=void 0;if(gi!==null){var N=gi.memoizedState;if(R=N.destroy,S!==null&&Kv(S,N.deps)){E.memoizedState=Fh(f,v,R,S);return}}_n.flags|=h,E.memoizedState=Fh(1|f,v,R,S)}function $v(h,f){return Fp(8390656,8,h,f)}function Oh(h,f){return Op(2048,8,h,f)}function rb(h,f){return Op(4,2,h,f)}function sb(h,f){return Op(4,4,h,f)}function ob(h,f){if(typeof f=="function")return h=h(),f(h),function(){f(null)};if(f!=null)return h=h(),f.current=h,function(){f.current=null}}function ab(h,f,v){return v=v!=null?v.concat([h]):null,Op(4,4,ob.bind(null,f,h),v)}function ex(){}function lb(h,f){var v=Fs();f=f===void 0?null:f;var S=v.memoizedState;return S!==null&&f!==null&&Kv(f,S[1])?S[0]:(v.memoizedState=[h,f],h)}function cb(h,f){var v=Fs();f=f===void 0?null:f;var S=v.memoizedState;return S!==null&&f!==null&&Kv(f,S[1])?S[0]:(h=h(),v.memoizedState=[h,f],h)}function ON(h,f){var v=Ot;Ot=v!==0&&4>v?v:4,h(!0);var S=Rr.transition;Rr.transition={};try{h(!1),f()}finally{Ot=v,Rr.transition=S}}function ub(){return Fs().memoizedState}function NN(h,f,v){var S=Zo(h);v={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null},hb(h)?fb(f,v):(db(h,f,v),v=Bi(),h=Pr(h,S,v),h!==null&&pb(h,f,S))}function UN(h,f,v){var S=Zo(h),E={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null};if(hb(h))fb(f,E);else{db(h,f,E);var R=h.alternate;if(h.lanes===0&&(R===null||R.lanes===0)&&(R=f.lastRenderedReducer,R!==null))try{var N=f.lastRenderedState,K=R(N,v);if(E.hasEagerState=!0,E.eagerState=K,Is(K,N))return}catch{}finally{}v=Bi(),h=Pr(h,S,v),h!==null&&pb(h,f,S)}}function hb(h){var f=h.alternate;return h===_n||f!==null&&f===_n}function fb(h,f){Dh=Lp=!0;var v=h.pending;v===null?f.next=f:(f.next=v.next,v.next=f),h.pending=f}function db(h,f,v){In!==null&&h.mode&1&&!(Ct&2)?(h=f.interleaved,h===null?(v.next=v,Ds===null?Ds=[f]:Ds.push(f)):(v.next=h.next,h.next=v),f.interleaved=v):(h=f.pending,h===null?v.next=v:(v.next=h.next,h.next=v),f.pending=v)}function pb(h,f,v){if(v&4194240){var S=f.lanes;S&=h.pendingLanes,v|=S,f.lanes=v,Tv(h,v)}}var Np={readContext:Er,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},zN={readContext:Er,useCallback:function(h,f){return oo().memoizedState=[h,f===void 0?null:f],h},useContext:Er,useEffect:$v,useImperativeHandle:function(h,f,v){return v=v!=null?v.concat([h]):null,Fp(4194308,4,ob.bind(null,f,h),v)},useLayoutEffect:function(h,f){return Fp(4194308,4,h,f)},useInsertionEffect:function(h,f){return Fp(4,2,h,f)},useMemo:function(h,f){var v=oo();return f=f===void 0?null:f,h=h(),v.memoizedState=[h,f],h},useReducer:function(h,f,v){var S=oo();return f=v!==void 0?v(f):f,S.memoizedState=S.baseState=f,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:f},S.queue=h,h=h.dispatch=NN.bind(null,_n,h),[S.memoizedState,h]},useRef:function(h){var f=oo();return h={current:h},f.memoizedState=h},useState:Zv,useDebugValue:ex,useDeferredValue:function(h){var f=Zv(h),v=f[0],S=f[1];return $v(function(){var E=Rr.transition;Rr.transition={};try{S(h)}finally{Rr.transition=E}},[h]),v},useTransition:function(){var h=Zv(!1),f=h[0];return h=ON.bind(null,h[1]),oo().memoizedState=h,[f,h]},useMutableSource:function(){},useSyncExternalStore:function(h,f,v){var S=_n,E=oo();if(on){if(v===void 0)throw Error(o(407));v=v()}else{if(v=f(),In===null)throw Error(o(349));kc&30||$E(S,f,v)}E.memoizedState=v;var R={value:v,getSnapshot:f};return E.queue=R,$v(tb.bind(null,S,R,h),[h]),S.flags|=2048,Fh(9,eb.bind(null,S,R,v,f),void 0,null),v},useId:function(){var h=oo(),f=In.identifierPrefix;if(on){var v=so,S=ro;v=(S&~(1<<32-$r(S)-1)).toString(32)+v,f=":"+f+"R"+v,v=kh++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=FN++,f=":"+f+"r"+v.toString(32)+":";return h.memoizedState=f},unstable_isNewReconciler:!1},HN={readContext:Er,useCallback:lb,useContext:Er,useEffect:Oh,useImperativeHandle:ab,useInsertionEffect:rb,useLayoutEffect:sb,useMemo:cb,useReducer:Dp,useRef:ib,useState:function(){return Dp(ol)},useDebugValue:ex,useDeferredValue:function(h){var f=Dp(ol),v=f[0],S=f[1];return Oh(function(){var E=Rr.transition;Rr.transition={};try{S(h)}finally{Rr.transition=E}},[h]),v},useTransition:function(){var h=Dp(ol)[0],f=Fs().memoizedState;return[h,f]},useMutableSource:QE,useSyncExternalStore:ZE,useId:ub,unstable_isNewReconciler:!1},GN={readContext:Er,useCallback:lb,useContext:Er,useEffect:Oh,useImperativeHandle:ab,useInsertionEffect:rb,useLayoutEffect:sb,useMemo:cb,useReducer:kp,useRef:ib,useState:function(){return kp(ol)},useDebugValue:ex,useDeferredValue:function(h){var f=kp(ol),v=f[0],S=f[1];return Oh(function(){var E=Rr.transition;Rr.transition={};try{S(h)}finally{Rr.transition=E}},[h]),v},useTransition:function(){var h=kp(ol)[0],f=Fs().memoizedState;return[h,f]},useMutableSource:QE,useSyncExternalStore:ZE,useId:ub,unstable_isNewReconciler:!1};function tx(h,f){try{var v="",S=f;do v+=kN(S),S=S.return;while(S);var E=v}catch(R){E=`
Error generating stack: `+R.message+`
`+R.stack}return{value:h,source:f,stack:E}}function nx(h,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var VN=typeof WeakMap=="function"?WeakMap:Map;function mb(h,f,v){v=io(-1,v),v.tag=3,v.payload={element:null};var S=f.value;return v.callback=function(){em||(em=!0,Ax=S),nx(h,f)},v}function gb(h,f,v){v=io(-1,v),v.tag=3;var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var E=f.value;v.payload=function(){return S(E)},v.callback=function(){nx(h,f)}}var R=h.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(v.callback=function(){nx(h,f),typeof S!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var N=f.stack;this.componentDidCatch(f.value,{componentStack:N!==null?N:""})}),v}function yb(h,f,v){var S=h.pingCache;if(S===null){S=h.pingCache=new VN;var E=new Set;S.set(f,E)}else E=S.get(f),E===void 0&&(E=new Set,S.set(f,E));E.has(v)||(E.add(v),h=iU.bind(null,h,f,v),f.then(h,h))}function vb(h){do{var f;if((f=h.tag===13)&&(f=h.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return h;h=h.return}while(h!==null);return null}function xb(h,f,v,S,E){return h.mode&1?(h.flags|=65536,h.lanes=E,h):(h===f?h.flags|=65536:(h.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=io(-1,1),f.tag=2,Ko(v,f))),v.lanes|=1),h)}function Os(h){h.flags|=4}function Ab(h,f){if(h!==null&&h.child===f.child)return!0;if(f.flags&16)return!1;for(h=f.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var Nh,Uh,Up,zp;if(_e)Nh=function(h,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)Y(h,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Uh=function(){},Up=function(h,f,v,S,E){if(h=h.memoizedProps,h!==S){var R=f.stateNode,N=ks(Tr.current);v=ye(R,v,h,S,E,N),(f.updateQueue=v)&&Os(f)}},zp=function(h,f,v,S){v!==S&&Os(f)};else if(H){Nh=function(h,f,v,S){for(var E=f.child;E!==null;){if(E.tag===5){var R=E.stateNode;v&&S&&(R=Lt(R,E.type,E.memoizedProps,E)),Y(h,R)}else if(E.tag===6)R=E.stateNode,v&&S&&(R=Un(R,E.memoizedProps,E)),Y(h,R);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)R=E.child,R!==null&&(R.return=E),Nh(h,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var _b=function(h,f,v,S){for(var E=f.child;E!==null;){if(E.tag===5){var R=E.stateNode;v&&S&&(R=Lt(R,E.type,E.memoizedProps,E)),Bt(h,R)}else if(E.tag===6)R=E.stateNode,v&&S&&(R=Un(R,E.memoizedProps,E)),Bt(h,R);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)R=E.child,R!==null&&(R.return=E),_b(h,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};Uh=function(h,f){var v=f.stateNode;if(!Ab(h,f)){h=v.containerInfo;var S=Tt(h);_b(S,f,!1,!1),v.pendingChildren=S,Os(f),Ft(h,S)}},Up=function(h,f,v,S,E){var R=h.stateNode,N=h.memoizedProps;if((h=Ab(h,f))&&N===S)f.stateNode=R;else{var K=f.stateNode,ue=ks(Tr.current),Be=null;N!==S&&(Be=ye(K,v,N,S,E,ue)),h&&Be===null?f.stateNode=R:(R=Fe(R,Be,v,N,S,f,h,K),fe(R,v,S,E,ue)&&Os(f),f.stateNode=R,h?Os(f):Nh(R,f,!1,!1))}},zp=function(h,f,v,S){v!==S?(h=ks(Lc.current),v=ks(Tr.current),f.stateNode=Re(S,h,v,f),Os(f)):f.stateNode=h.stateNode}}else Uh=function(){},Up=function(){},zp=function(){};function zh(h,f){if(!on)switch(h.tailMode){case"hidden":f=h.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?h.tail=null:v.sibling=null;break;case"collapsed":v=h.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?f||h.tail===null?h.tail=null:h.tail.sibling=null:S.sibling=null}}function vi(h){var f=h.alternate!==null&&h.alternate.child===h.child,v=0,S=0;if(f)for(var E=h.child;E!==null;)v|=E.lanes|E.childLanes,S|=E.subtreeFlags&14680064,S|=E.flags&14680064,E.return=h,E=E.sibling;else for(E=h.child;E!==null;)v|=E.lanes|E.childLanes,S|=E.subtreeFlags,S|=E.flags,E.return=h,E=E.sibling;return h.subtreeFlags|=S,h.childLanes=v,f}function WN(h,f,v){var S=f.pendingProps;switch(Hv(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(f),null;case 1:return An(f.type)&&Jo(),vi(f),null;case 3:return S=f.stateNode,Dc(),jt(Bn),jt(zn),Yv(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(h===null||h.child===null)&&(Ph(f)?Os(f):h===null||h.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,ts!==null&&(Sx(ts),ts=null))),Uh(h,f),vi(f),null;case 5:Xv(f),v=ks(Lc.current);var E=f.type;if(h!==null&&f.stateNode!=null)Up(h,f,E,S,v),h.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(o(166));return vi(f),null}if(h=ks(Tr.current),Ph(f)){if(!ve)throw Error(o(175));h=Ev(f.stateNode,f.type,f.memoizedProps,v,h,f,!Rh),f.updateQueue=h,h!==null&&Os(f)}else{var R=z(E,S,v,h,f);Nh(R,f,!1,!1),f.stateNode=R,fe(R,E,S,v,h)&&Os(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return vi(f),null;case 6:if(h&&f.stateNode!=null)zp(h,f,h.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(o(166));if(h=ks(Lc.current),v=ks(Tr.current),Ph(f)){if(!ve)throw Error(o(176));if(h=f.stateNode,S=f.memoizedProps,(v=O(h,S,f,!Rh))&&(E=sr,E!==null))switch(R=(E.mode&1)!==0,E.tag){case 3:ht(E.stateNode.containerInfo,h,S,R);break;case 5:bt(E.type,E.memoizedProps,E.stateNode,h,S,R)}v&&Os(f)}else f.stateNode=Re(S,h,v,f)}return vi(f),null;case 13:if(jt(un),S=f.memoizedState,on&&or!==null&&f.mode&1&&!(f.flags&128)){for(h=or;h;)h=Ps(h);return Bc(),f.flags|=98560,f}if(S!==null&&S.dehydrated!==null){if(S=Ph(f),h===null){if(!S)throw Error(o(318));if(!ve)throw Error(o(344));if(h=f.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));re(h,f)}else Bc(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return vi(f),null}return ts!==null&&(Sx(ts),ts=null),f.flags&128?(f.lanes=v,f):(S=S!==null,v=!1,h===null?Ph(f):v=h.memoizedState!==null,S&&!v&&(f.child.flags|=8192,f.mode&1&&(h===null||un.current&1?Hn===0&&(Hn=3):Ex())),f.updateQueue!==null&&(f.flags|=4),vi(f),null);case 4:return Dc(),Uh(h,f),h===null&&Se(f.stateNode.containerInfo),vi(f),null;case 10:return kv(f.type._context),vi(f),null;case 17:return An(f.type)&&Jo(),vi(f),null;case 19:if(jt(un),E=f.memoizedState,E===null)return vi(f),null;if(S=(f.flags&128)!==0,R=E.rendering,R===null)if(S)zh(E,!1);else{if(Hn!==0||h!==null&&h.flags&128)for(h=f.child;h!==null;){if(R=Bp(h),R!==null){for(f.flags|=128,zh(E,!1),h=R.updateQueue,h!==null&&(f.updateQueue=h,f.flags|=4),f.subtreeFlags=0,h=v,S=f.child;S!==null;)v=S,E=h,v.flags&=14680066,R=v.alternate,R===null?(v.childLanes=0,v.lanes=E,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=R.childLanes,v.lanes=R.lanes,v.child=R.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=R.memoizedProps,v.memoizedState=R.memoizedState,v.updateQueue=R.updateQueue,v.type=R.type,E=R.dependencies,v.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),S=S.sibling;return ft(un,un.current&1|2),f.child}h=h.sibling}E.tail!==null&&Kn()>xx&&(f.flags|=128,S=!0,zh(E,!1),f.lanes=4194304)}else{if(!S)if(h=Bp(R),h!==null){if(f.flags|=128,S=!0,h=h.updateQueue,h!==null&&(f.updateQueue=h,f.flags|=4),zh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!R.alternate&&!on)return vi(f),null}else 2*Kn()-E.renderingStartTime>xx&&v!==1073741824&&(f.flags|=128,S=!0,zh(E,!1),f.lanes=4194304);E.isBackwards?(R.sibling=f.child,f.child=R):(h=E.last,h!==null?h.sibling=R:f.child=R,E.last=R)}return E.tail!==null?(f=E.tail,E.rendering=f,E.tail=f.sibling,E.renderingStartTime=Kn(),f.sibling=null,h=un.current,ft(un,S?h&1|2:h&1),f):(vi(f),null);case 22:case 23:return Mx(),S=f.memoizedState!==null,h!==null&&h.memoizedState!==null!==S&&(f.flags|=8192),S&&f.mode&1?lr&1073741824&&(vi(f),_e&&f.subtreeFlags&6&&(f.flags|=8192)):vi(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var jN=a.ReactCurrentOwner,ar=!1;function Pi(h,f,v,S){f.child=h===null?KE(f,null,v,S):Ic(f,h.child,v,S)}function wb(h,f,v,S,E){v=v.render;var R=f.ref;return Tc(f,E),S=qv(h,f,v,S,R,E),v=Qv(),h!==null&&!ar?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~E,ao(h,f,E)):(on&&v&&zv(f),f.flags|=1,Pi(h,f,S,E),f.child)}function Sb(h,f,v,S,E){if(h===null){var R=v.type;return typeof R=="function"&&!bx(R)&&R.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=R,Mb(h,f,R,S,E)):(h=am(v.type,null,S,f,f.mode,E),h.ref=f.ref,h.return=f,f.child=h)}if(R=h.child,!(h.lanes&E)){var N=R.memoizedProps;if(v=v.compare,v=v!==null?v:wp,v(N,S)&&h.ref===f.ref)return ao(h,f,E)}return f.flags|=1,h=ea(R,S),h.ref=f.ref,h.return=f,f.child=h}function Mb(h,f,v,S,E){if(h!==null&&wp(h.memoizedProps,S)&&h.ref===f.ref)if(ar=!1,(h.lanes&E)!==0)h.flags&131072&&(ar=!0);else return f.lanes=h.lanes,ao(h,f,E);return ix(h,f,v,S,E)}function Eb(h,f,v){var S=f.pendingProps,E=S.children,R=h!==null?h.memoizedState:null;if(S.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},ft(Fc,lr),lr|=v;else if(v&1073741824)f.memoizedState={baseLanes:0,cachePool:null},S=R!==null?R.baseLanes:v,ft(Fc,lr),lr|=S;else return h=R!==null?R.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:h,cachePool:null},f.updateQueue=null,ft(Fc,lr),lr|=h,null;else R!==null?(S=R.baseLanes|v,f.memoizedState=null):S=v,ft(Fc,lr),lr|=S;return Pi(h,f,E,v),f.child}function bb(h,f){var v=f.ref;(h===null&&v!==null||h!==null&&h.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function ix(h,f,v,S,E){var R=An(v)?Zr:zn.current;return R=xn(f,R),Tc(f,E),v=qv(h,f,v,S,R,E),S=Qv(),h!==null&&!ar?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~E,ao(h,f,E)):(on&&S&&zv(f),f.flags|=1,Pi(h,f,v,E),f.child)}function Cb(h,f,v,S,E){if(An(v)){var R=!0;bc(f)}else R=!1;if(Tc(f,E),f.stateNode===null)h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),HE(f,v,S),Uv(f,v,S,E),S=!0;else if(h===null){var N=f.stateNode,K=f.memoizedProps;N.props=K;var ue=N.context,Be=v.contextType;typeof Be=="object"&&Be!==null?Be=Er(Be):(Be=An(v)?Zr:zn.current,Be=xn(f,Be));var Xe=v.getDerivedStateFromProps,mt=typeof Xe=="function"||typeof N.getSnapshotBeforeUpdate=="function";mt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(K!==S||ue!==Be)&&GE(f,N,S,Be),Yo=!1;var rt=f.memoizedState;N.state=rt,bp(f,S,N,E),ue=f.memoizedState,K!==S||rt!==ue||Bn.current||Yo?(typeof Xe=="function"&&(Nv(f,v,Xe,S),ue=f.memoizedState),(K=Yo||zE(f,v,K,S,rt,ue,Be))?(mt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(f.flags|=4194308)):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=ue),N.props=S,N.state=ue,N.context=Be,S=K):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{N=f.stateNode,FE(h,f),K=f.memoizedProps,Be=f.type===f.elementType?K:es(f.type,K),N.props=Be,mt=f.pendingProps,rt=N.context,ue=v.contextType,typeof ue=="object"&&ue!==null?ue=Er(ue):(ue=An(v)?Zr:zn.current,ue=xn(f,ue));var Kt=v.getDerivedStateFromProps;(Xe=typeof Kt=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(K!==mt||rt!==ue)&&GE(f,N,S,ue),Yo=!1,rt=f.memoizedState,N.state=rt,bp(f,S,N,E);var Ze=f.memoizedState;K!==mt||rt!==Ze||Bn.current||Yo?(typeof Kt=="function"&&(Nv(f,v,Kt,S),Ze=f.memoizedState),(Be=Yo||zE(f,v,Be,S,rt,Ze,ue)||!1)?(Xe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(S,Ze,ue),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(S,Ze,ue)),typeof N.componentDidUpdate=="function"&&(f.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof N.componentDidUpdate!="function"||K===h.memoizedProps&&rt===h.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||K===h.memoizedProps&&rt===h.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=Ze),N.props=S,N.state=Ze,N.context=ue,S=Be):(typeof N.componentDidUpdate!="function"||K===h.memoizedProps&&rt===h.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||K===h.memoizedProps&&rt===h.memoizedState||(f.flags|=1024),S=!1)}return rx(h,f,v,S,R,E)}function rx(h,f,v,S,E,R){bb(h,f);var N=(f.flags&128)!==0;if(!S&&!N)return E&&bh(f,v,!1),ao(h,f,R);S=f.stateNode,jN.current=f;var K=N&&typeof v.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,h!==null&&N?(f.child=Ic(f,h.child,null,R),f.child=Ic(f,null,K,R)):Pi(h,f,K,R),f.memoizedState=S.state,E&&bh(f,v,!0),f.child}function Tb(h){var f=h.stateNode;f.pendingContext?mi(h,f.pendingContext,f.pendingContext!==f.context):f.context&&mi(h,f.context,!1),jv(h,f.containerInfo)}function Rb(h,f,v,S,E){return Bc(),Wv(E),f.flags|=256,Pi(h,f,v,S),f.child}var Hp={dehydrated:null,treeContext:null,retryLane:0};function Gp(h){return{baseLanes:h,cachePool:null}}function Pb(h,f,v){var S=f.pendingProps,E=un.current,R=!1,N=(f.flags&128)!==0,K;if((K=N)||(K=h!==null&&h.memoizedState===null?!1:(E&2)!==0),K?(R=!0,f.flags&=-129):(h===null||h.memoizedState!==null)&&(E|=1),ft(un,E&1),h===null)return Vv(f),h=f.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(f.mode&1?Xo(h)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(E=S.children,h=S.fallback,R?(S=f.mode,R=f.child,E={mode:"hidden",children:E},!(S&1)&&R!==null?(R.childLanes=0,R.pendingProps=E):R=lm(E,S,0,null),h=fl(h,S,v,null),R.return=f,h.return=f,R.sibling=h,f.child=R,f.child.memoizedState=Gp(v),f.memoizedState=Hp,h):sx(f,E));if(E=h.memoizedState,E!==null){if(K=E.dehydrated,K!==null){if(N)return f.flags&256?(f.flags&=-257,Vp(h,f,v,Error(o(422)))):f.memoizedState!==null?(f.child=h.child,f.flags|=128,null):(R=S.fallback,E=f.mode,S=lm({mode:"visible",children:S.children},E,0,null),R=fl(R,E,v,null),R.flags|=2,S.return=f,R.return=f,S.sibling=R,f.child=S,f.mode&1&&Ic(f,h.child,null,v),f.child.memoizedState=Gp(v),f.memoizedState=Hp,R);if(!(f.mode&1))f=Vp(h,f,v,null);else if(Xo(K))f=Vp(h,f,v,Error(o(419)));else if(S=(v&h.childLanes)!==0,ar||S){if(S=In,S!==null){switch(v&-v){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}S=R&(S.suspendedLanes|v)?0:R,S!==0&&S!==E.retryLane&&(E.retryLane=S,Pr(h,S,-1))}Ex(),f=Vp(h,f,v,Error(o(421)))}else pp(K)?(f.flags|=128,f.child=h.child,f=rU.bind(null,h),mp(K,f),f=null):(v=E.treeContext,ve&&(or=Mv(K),sr=f,on=!0,ts=null,Rh=!1,v!==null&&(br[Cr++]=ro,br[Cr++]=so,br[Cr++]=rl,ro=v.id,so=v.overflow,rl=f)),f=sx(f,f.pendingProps.children),f.flags|=4096);return f}return R?(S=Ib(h,f,S.children,S.fallback,v),R=f.child,E=h.child.memoizedState,R.memoizedState=E===null?Gp(v):{baseLanes:E.baseLanes|v,cachePool:null},R.childLanes=h.childLanes&~v,f.memoizedState=Hp,S):(v=Bb(h,f,S.children,v),f.memoizedState=null,v)}return R?(S=Ib(h,f,S.children,S.fallback,v),R=f.child,E=h.child.memoizedState,R.memoizedState=E===null?Gp(v):{baseLanes:E.baseLanes|v,cachePool:null},R.childLanes=h.childLanes&~v,f.memoizedState=Hp,S):(v=Bb(h,f,S.children,v),f.memoizedState=null,v)}function sx(h,f){return f=lm({mode:"visible",children:f},h.mode,0,null),f.return=h,h.child=f}function Bb(h,f,v,S){var E=h.child;return h=E.sibling,v=ea(E,{mode:"visible",children:v}),!(f.mode&1)&&(v.lanes=S),v.return=f,v.sibling=null,h!==null&&(S=f.deletions,S===null?(f.deletions=[h],f.flags|=16):S.push(h)),f.child=v}function Ib(h,f,v,S,E){var R=f.mode;h=h.child;var N=h.sibling,K={mode:"hidden",children:v};return!(R&1)&&f.child!==h?(v=f.child,v.childLanes=0,v.pendingProps=K,f.deletions=null):(v=ea(h,K),v.subtreeFlags=h.subtreeFlags&14680064),N!==null?S=ea(N,S):(S=fl(S,R,E,null),S.flags|=2),S.return=f,v.return=f,v.sibling=S,f.child=v,S}function Vp(h,f,v,S){return S!==null&&Wv(S),Ic(f,h.child,null,v),h=sx(f,f.pendingProps.children),h.flags|=2,f.memoizedState=null,h}function Lb(h,f,v){h.lanes|=f;var S=h.alternate;S!==null&&(S.lanes|=f),Fv(h.return,f,v)}function ox(h,f,v,S,E){var R=h.memoizedState;R===null?h.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:E}:(R.isBackwards=f,R.rendering=null,R.renderingStartTime=0,R.last=S,R.tail=v,R.tailMode=E)}function Db(h,f,v){var S=f.pendingProps,E=S.revealOrder,R=S.tail;if(Pi(h,f,S.children,v),S=un.current,S&2)S=S&1|2,f.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=f.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Lb(h,v,f);else if(h.tag===19)Lb(h,v,f);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}S&=1}if(ft(un,S),!(f.mode&1))f.memoizedState=null;else switch(E){case"forwards":for(v=f.child,E=null;v!==null;)h=v.alternate,h!==null&&Bp(h)===null&&(E=v),v=v.sibling;v=E,v===null?(E=f.child,f.child=null):(E=v.sibling,v.sibling=null),ox(f,!1,E,v,R);break;case"backwards":for(v=null,E=f.child,f.child=null;E!==null;){if(h=E.alternate,h!==null&&Bp(h)===null){f.child=E;break}h=E.sibling,E.sibling=v,v=E,E=h}ox(f,!0,v,null,R);break;case"together":ox(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function ao(h,f,v){if(h!==null&&(f.dependencies=h.dependencies),Oc|=f.lanes,!(v&f.childLanes))return null;if(h!==null&&f.child!==h.child)throw Error(o(153));if(f.child!==null){for(h=f.child,v=ea(h,h.pendingProps),f.child=v,v.return=f;h.sibling!==null;)h=h.sibling,v=v.sibling=ea(h,h.pendingProps),v.return=f;v.sibling=null}return f.child}function XN(h,f,v){switch(f.tag){case 3:Tb(f),Bc();break;case 5:qE(f);break;case 1:An(f.type)&&bc(f);break;case 4:jv(f,f.stateNode.containerInfo);break;case 10:kE(f,f.type._context,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(ft(un,un.current&1),f.flags|=128,null):v&f.child.childLanes?Pb(h,f,v):(ft(un,un.current&1),h=ao(h,f,v),h!==null?h.sibling:null);ft(un,un.current&1);break;case 19:if(S=(v&f.childLanes)!==0,h.flags&128){if(S)return Db(h,f,v);f.flags|=128}var E=f.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),ft(un,un.current),S)break;return null;case 22:case 23:return f.lanes=0,Eb(h,f,v)}return ao(h,f,v)}function JN(h,f){switch(Hv(f),f.tag){case 1:return An(f.type)&&Jo(),h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 3:return Dc(),jt(Bn),jt(zn),Yv(),h=f.flags,h&65536&&!(h&128)?(f.flags=h&-65537|128,f):null;case 5:return Xv(f),null;case 13:if(jt(un),h=f.memoizedState,h!==null&&h.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Bc()}return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 19:return jt(un),null;case 4:return Dc(),null;case 10:return kv(f.type._context),null;case 22:case 23:return Mx(),null;case 24:return null;default:return null}}var Wp=!1,al=!1,YN=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function jp(h,f){var v=h.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(S){Wi(h,f,S)}else v.current=null}function ax(h,f,v){try{v()}catch(S){Wi(h,f,S)}}var kb=!1;function KN(h,f){for(X(h.containerInfo),Oe=f;Oe!==null;)if(h=Oe,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,Oe=f;else for(;Oe!==null;){h=Oe;try{var v=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,E=v.memoizedState,R=h.stateNode,N=R.getSnapshotBeforeUpdate(h.elementType===h.type?S:es(h.type,S),E);R.__reactInternalSnapshotBeforeUpdate=N}break;case 3:_e&&Te(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(K){Wi(h,h.return,K)}if(f=h.sibling,f!==null){f.return=h.return,Oe=f;break}Oe=h.return}return v=kb,kb=!1,v}function ll(h,f,v){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var E=S=S.next;do{if((E.tag&h)===h){var R=E.destroy;E.destroy=void 0,R!==void 0&&ax(f,v,R)}E=E.next}while(E!==S)}}function Hh(h,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&h)===h){var S=v.create;v.destroy=S()}v=v.next}while(v!==f)}}function lx(h){var f=h.ref;if(f!==null){var v=h.stateNode;switch(h.tag){case 5:h=ie(v);break;default:h=v}typeof f=="function"?f(h):f.current=h}}function Fb(h,f,v){if(Bs&&typeof Bs.onCommitFiberUnmount=="function")try{Bs.onCommitFiberUnmount(Ap,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(h=f.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var S=h=h.next;do{var E=S,R=E.destroy;E=E.tag,R!==void 0&&(E&2||E&4)&&ax(f,v,R),S=S.next}while(S!==h)}break;case 1:if(jp(f,v),h=f.stateNode,typeof h.componentWillUnmount=="function")try{h.props=f.memoizedProps,h.state=f.memoizedState,h.componentWillUnmount()}catch(N){Wi(f,v,N)}break;case 5:jp(f,v);break;case 4:_e?Gb(h,f,v):H&&H&&(f=f.stateNode.containerInfo,v=Tt(f),si(f,v))}}function Ob(h,f,v){for(var S=f;;)if(Fb(h,S,v),S.child===null||_e&&S.tag===4){if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function Nb(h){var f=h.alternate;f!==null&&(h.alternate=null,Nb(f)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(f=h.stateNode,f!==null&&Ge(f)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function Ub(h){return h.tag===5||h.tag===3||h.tag===4}function zb(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Ub(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Hb(h){if(_e){e:{for(var f=h.return;f!==null;){if(Ub(f))break e;f=f.return}throw Error(o(160))}var v=f;switch(v.tag){case 5:f=v.stateNode,v.flags&32&&(ge(f),v.flags&=-33),v=zb(h),ux(h,v,f);break;case 3:case 4:f=v.stateNode.containerInfo,v=zb(h),cx(h,v,f);break;default:throw Error(o(161))}}}function cx(h,f,v){var S=h.tag;if(S===5||S===6)h=h.stateNode,f?Qe(v,h,f):Ye(v,h);else if(S!==4&&(h=h.child,h!==null))for(cx(h,f,v),h=h.sibling;h!==null;)cx(h,f,v),h=h.sibling}function ux(h,f,v){var S=h.tag;if(S===5||S===6)h=h.stateNode,f?qe(v,h,f):Ce(v,h);else if(S!==4&&(h=h.child,h!==null))for(ux(h,f,v),h=h.sibling;h!==null;)ux(h,f,v),h=h.sibling}function Gb(h,f,v){for(var S=f,E=!1,R,N;;){if(!E){E=S.return;e:for(;;){if(E===null)throw Error(o(160));switch(R=E.stateNode,E.tag){case 5:N=!1;break e;case 3:R=R.containerInfo,N=!0;break e;case 4:R=R.containerInfo,N=!0;break e}E=E.return}E=!0}if(S.tag===5||S.tag===6)Ob(h,S,v),N?V(R,S.stateNode):Ve(R,S.stateNode);else if(S.tag===18)N?it(R,S.stateNode):je(R,S.stateNode);else if(S.tag===4){if(S.child!==null){R=S.stateNode.containerInfo,N=!0,S.child.return=S,S=S.child;continue}}else if(Fb(h,S,v),S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return,S.tag===4&&(E=!1)}S.sibling.return=S.return,S=S.sibling}}function hx(h,f){if(_e){switch(f.tag){case 0:case 11:case 14:case 15:ll(3,f,f.return),Hh(3,f),ll(5,f,f.return);return;case 1:return;case 5:var v=f.stateNode;if(v!=null){var S=f.memoizedProps;h=h!==null?h.memoizedProps:S;var E=f.type,R=f.updateQueue;f.updateQueue=null,R!==null&&$e(v,R,E,h,S,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));v=f.memoizedProps,Pe(f.stateNode,h!==null?h.memoizedProps:v,v);return;case 3:ve&&h!==null&&h.memoizedState.isDehydrated&&ne(f.stateNode.containerInfo);return;case 12:return;case 13:Xp(f);return;case 19:Xp(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:ll(3,f,f.return),Hh(3,f),ll(5,f,f.return);return;case 12:return;case 13:Xp(f);return;case 19:Xp(f);return;case 3:ve&&h!==null&&h.memoizedState.isDehydrated&&ne(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(H){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,si(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function Xp(h){var f=h.updateQueue;if(f!==null){h.updateQueue=null;var v=h.stateNode;v===null&&(v=h.stateNode=new YN),f.forEach(function(S){var E=sU.bind(null,h,S);v.has(S)||(v.add(S),S.then(E,E))})}}function qN(h,f){for(Oe=f;Oe!==null;){f=Oe;var v=f.deletions;if(v!==null)for(var S=0;S<v.length;S++){var E=v[S];try{var R=h;_e?Gb(R,E,f):Ob(R,E,f);var N=E.alternate;N!==null&&(N.return=null),E.return=null}catch(Ke){Wi(E,f,Ke)}}if(v=f.child,f.subtreeFlags&12854&&v!==null)v.return=f,Oe=v;else for(;Oe!==null;){f=Oe;try{var K=f.flags;if(K&32&&_e&&ge(f.stateNode),K&512){var ue=f.alternate;if(ue!==null){var Be=ue.ref;Be!==null&&(typeof Be=="function"?Be(null):Be.current=null)}}if(K&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var Xe=f.alternate;(Xe===null||Xe.memoizedState===null)&&(vx=Kn())}break;case 22:var mt=f.memoizedState!==null,rt=f.alternate,Kt=rt!==null&&rt.memoizedState!==null;if(v=f,_e){e:if(S=v,E=mt,R=null,_e)for(var Ze=S;;){if(Ze.tag===5){if(R===null){R=Ze;var xi=Ze.stateNode;E?De(xi):Me(Ze.stateNode,Ze.memoizedProps)}}else if(Ze.tag===6){if(R===null){var Ir=Ze.stateNode;E?W(Ir):ae(Ir,Ze.memoizedProps)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===S)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===S)break;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===S)break e;R===Ze&&(R=null),Ze=Ze.return}R===Ze&&(R=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}if(mt&&!Kt&&v.mode&1){Oe=v;for(var se=v.child;se!==null;){for(v=Oe=se;Oe!==null;){S=Oe;var Z=S.child;switch(S.tag){case 0:case 11:case 14:case 15:ll(4,S,S.return);break;case 1:jp(S,S.return);var ce=S.stateNode;if(typeof ce.componentWillUnmount=="function"){var Ue=S.return;try{ce.props=S.memoizedProps,ce.state=S.memoizedState,ce.componentWillUnmount()}catch(Ke){Wi(S,Ue,Ke)}}break;case 5:jp(S,S.return);break;case 22:if(S.memoizedState!==null){jb(v);continue}}Z!==null?(Z.return=S,Oe=Z):jb(v)}se=se.sibling}}}switch(K&4102){case 2:Hb(f),f.flags&=-3;break;case 6:Hb(f),f.flags&=-3,hx(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,hx(f.alternate,f);break;case 4:hx(f.alternate,f)}}catch(Ke){Wi(f,f.return,Ke)}if(v=f.sibling,v!==null){v.return=f.return,Oe=v;break}Oe=f.return}}}function QN(h,f,v){Oe=h,Vb(h)}function Vb(h,f,v){for(var S=(h.mode&1)!==0;Oe!==null;){var E=Oe,R=E.child;if(E.tag===22&&S){var N=E.memoizedState!==null||Wp;if(!N){var K=E.alternate,ue=K!==null&&K.memoizedState!==null||al;K=Wp;var Be=al;if(Wp=N,(al=ue)&&!Be)for(Oe=E;Oe!==null;)N=Oe,ue=N.child,N.tag===22&&N.memoizedState!==null?Xb(E):ue!==null?(ue.return=N,Oe=ue):Xb(E);for(;R!==null;)Oe=R,Vb(R),R=R.sibling;Oe=E,Wp=K,al=Be}Wb(h)}else E.subtreeFlags&8772&&R!==null?(R.return=E,Oe=R):Wb(h)}}function Wb(h){for(;Oe!==null;){var f=Oe;if(f.flags&8772){var v=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:al||Hh(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!al)if(v===null)S.componentDidMount();else{var E=f.elementType===f.type?v.memoizedProps:es(f.type,v.memoizedProps);S.componentDidUpdate(E,v.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var R=f.updateQueue;R!==null&&NE(f,R,S);break;case 3:var N=f.updateQueue;if(N!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=ie(f.child.stateNode);break;case 1:v=f.child.stateNode}NE(f,N,v)}break;case 5:var K=f.stateNode;v===null&&f.flags&4&&le(K,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(ve&&f.memoizedState===null){var ue=f.alternate;if(ue!==null){var Be=ue.memoizedState;if(Be!==null){var Xe=Be.dehydrated;Xe!==null&&he(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}al||f.flags&512&&lx(f)}catch(mt){Wi(f,f.return,mt)}}if(f===h){Oe=null;break}if(v=f.sibling,v!==null){v.return=f.return,Oe=v;break}Oe=f.return}}function jb(h){for(;Oe!==null;){var f=Oe;if(f===h){Oe=null;break}var v=f.sibling;if(v!==null){v.return=f.return,Oe=v;break}Oe=f.return}}function Xb(h){for(;Oe!==null;){var f=Oe;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{Hh(4,f)}catch(ue){Wi(f,v,ue)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var E=f.return;try{S.componentDidMount()}catch(ue){Wi(f,E,ue)}}var R=f.return;try{lx(f)}catch(ue){Wi(f,R,ue)}break;case 5:var N=f.return;try{lx(f)}catch(ue){Wi(f,N,ue)}}}catch(ue){Wi(f,f.return,ue)}if(f===h){Oe=null;break}var K=f.sibling;if(K!==null){K.return=f.return,Oe=K;break}Oe=f.return}}var Jp=0,Yp=1,Kp=2,qp=3,Qp=4;if(typeof Symbol=="function"&&Symbol.for){var Gh=Symbol.for;Jp=Gh("selector.component"),Yp=Gh("selector.has_pseudo_class"),Kp=Gh("selector.role"),qp=Gh("selector.test_id"),Qp=Gh("selector.text")}function fx(h){var f=me(h);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(h=xt(h),h===null)throw Error(o(362));return h.stateNode.current}function dx(h,f){switch(f.$$typeof){case Jp:if(h.type===f.value)return!0;break;case Yp:e:{f=f.value,h=[h,0];for(var v=0;v<h.length;){var S=h[v++],E=h[v++],R=f[E];if(S.tag!==5||!L(S)){for(;R!=null&&dx(S,R);)E++,R=f[E];if(E===f.length){f=!0;break e}else for(S=S.child;S!==null;)h.push(S,E),S=S.sibling}}f=!1}return f;case Kp:if(h.tag===5&&oe(h.stateNode,f.value))return!0;break;case Qp:if((h.tag===5||h.tag===6)&&(h=U(h),h!==null&&0<=h.indexOf(f.value)))return!0;break;case qp:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function px(h){switch(h.$$typeof){case Jp:return"<"+(P(h.value)||"Unknown")+">";case Yp:return":has("+(px(h)||"")+")";case Kp:return'[role="'+h.value+'"]';case Qp:return'"'+h.value+'"';case qp:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function Jb(h,f){var v=[];h=[h,0];for(var S=0;S<h.length;){var E=h[S++],R=h[S++],N=f[R];if(E.tag!==5||!L(E)){for(;N!=null&&dx(E,N);)R++,N=f[R];if(R===f.length)v.push(E);else for(E=E.child;E!==null;)h.push(E,R),E=E.sibling}}return v}function mx(h,f){if(!tt)throw Error(o(363));h=fx(h),h=Jb(h,f),f=[],h=Array.from(h);for(var v=0;v<h.length;){var S=h[v++];if(S.tag===5)L(S)||f.push(S.stateNode);else for(S=S.child;S!==null;)h.push(S),S=S.sibling}return f}var ZN=Math.ceil,Zp=a.ReactCurrentDispatcher,gx=a.ReactCurrentOwner,Cn=a.ReactCurrentBatchConfig,Ct=0,In=null,Ln=null,oi=0,lr=0,Fc=pt(0),Hn=0,Vh=null,Oc=0,$p=0,yx=0,Wh=null,Gi=null,vx=0,xx=1/0;function Nc(){xx=Kn()+500}var em=!1,Ax=null,qo=null,tm=!1,Qo=null,nm=0,jh=0,_x=null,im=-1,rm=0;function Bi(){return Ct&6?Kn():im!==-1?im:im=Kn()}function Zo(h){return h.mode&1?Ct&2&&oi!==0?oi&-oi:DN.transition!==null?(rm===0&&(h=yp,yp<<=1,!(yp&4194240)&&(yp=64),rm=h),rm):(h=Ot,h!==0?h:xe()):1}function Pr(h,f,v){if(50<jh)throw jh=0,_x=null,Error(o(185));var S=sm(h,f);return S===null?null:(Th(S,f,v),(!(Ct&2)||S!==In)&&(S===In&&(!(Ct&2)&&($p|=f),Hn===4&&$o(S,oi)),Vi(S,v),f===1&&Ct===0&&!(h.mode&1)&&(Nc(),_p&&Ls())),S)}function sm(h,f){h.lanes|=f;var v=h.alternate;for(v!==null&&(v.lanes|=f),v=h,h=h.return;h!==null;)h.childLanes|=f,v=h.alternate,v!==null&&(v.childLanes|=f),v=h,h=h.return;return v.tag===3?v.stateNode:null}function Vi(h,f){var v=h.callbackNode;EN(h,f);var S=xp(h,h===In?oi:0);if(S===0)v!==null&&LE(v),h.callbackNode=null,h.callbackPriority=0;else if(f=S&-S,h.callbackPriority!==f){if(v!=null&&LE(v),f===1)h.tag===0?LN(Kb.bind(null,h)):DE(Kb.bind(null,h)),Ne?He(function(){Ct===0&&Ls()}):Rv(Pv,Ls),v=null;else{switch(IE(S)){case 1:v=Pv;break;case 4:v=RN;break;case 16:v=Bv;break;case 536870912:v=PN;break;default:v=Bv}v=rC(v,Yb.bind(null,h))}h.callbackPriority=f,h.callbackNode=v}}function Yb(h,f){if(im=-1,rm=0,Ct&6)throw Error(o(327));var v=h.callbackNode;if(hl()&&h.callbackNode!==v)return null;var S=xp(h,h===In?oi:0);if(S===0)return null;if(S&30||S&h.expiredLanes||f)f=om(h,S);else{f=S;var E=Ct;Ct|=2;var R=Zb();(In!==h||oi!==f)&&(Nc(),cl(h,f));do try{tU();break}catch(K){Qb(h,K)}while(1);Dv(),Zp.current=R,Ct=E,Ln!==null?f=0:(In=null,oi=0,f=Hn)}if(f!==0){if(f===2&&(E=bv(h),E!==0&&(S=E,f=wx(h,E))),f===1)throw v=Vh,cl(h,0),$o(h,S),Vi(h,Kn()),v;if(f===6)$o(h,S);else{if(E=h.current.alternate,!(S&30)&&!$N(E)&&(f=om(h,S),f===2&&(R=bv(h),R!==0&&(S=R,f=wx(h,R))),f===1))throw v=Vh,cl(h,0),$o(h,S),Vi(h,Kn()),v;switch(h.finishedWork=E,h.finishedLanes=S,f){case 0:case 1:throw Error(o(345));case 2:ul(h,Gi);break;case 3:if($o(h,S),(S&130023424)===S&&(f=vx+500-Kn(),10<f)){if(xp(h,0)!==0)break;if(E=h.suspendedLanes,(E&S)!==S){Bi(),h.pingedLanes|=h.suspendedLanes&E;break}h.timeoutHandle=Le(ul.bind(null,h,Gi),f);break}ul(h,Gi);break;case 4:if($o(h,S),(S&4194240)===S)break;for(f=h.eventTimes,E=-1;0<S;){var N=31-$r(S);R=1<<N,N=f[N],N>E&&(E=N),S&=~R}if(S=E,S=Kn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*ZN(S/1960))-S,10<S){h.timeoutHandle=Le(ul.bind(null,h,Gi),S);break}ul(h,Gi);break;case 5:ul(h,Gi);break;default:throw Error(o(329))}}}return Vi(h,Kn()),h.callbackNode===v?Yb.bind(null,h):null}function wx(h,f){var v=Wh;return h.current.memoizedState.isDehydrated&&(cl(h,f).flags|=256),h=om(h,f),h!==2&&(f=Gi,Gi=v,f!==null&&Sx(f)),h}function Sx(h){Gi===null?Gi=h:Gi.push.apply(Gi,h)}function $N(h){for(var f=h;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var S=0;S<v.length;S++){var E=v[S],R=E.getSnapshot;E=E.value;try{if(!Is(R(),E))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function $o(h,f){for(f&=~yx,f&=~$p,h.suspendedLanes|=f,h.pingedLanes&=~f,h=h.expirationTimes;0<f;){var v=31-$r(f),S=1<<v;h[v]=-1,f&=~S}}function Kb(h){if(Ct&6)throw Error(o(327));hl();var f=xp(h,0);if(!(f&1))return Vi(h,Kn()),null;var v=om(h,f);if(h.tag!==0&&v===2){var S=bv(h);S!==0&&(f=S,v=wx(h,S))}if(v===1)throw v=Vh,cl(h,0),$o(h,f),Vi(h,Kn()),v;if(v===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=f,ul(h,Gi),Vi(h,Kn()),null}function qb(h){Qo!==null&&Qo.tag===0&&!(Ct&6)&&hl();var f=Ct;Ct|=1;var v=Cn.transition,S=Ot;try{if(Cn.transition=null,Ot=1,h)return h()}finally{Ot=S,Cn.transition=v,Ct=f,!(Ct&6)&&Ls()}}function Mx(){lr=Fc.current,jt(Fc)}function cl(h,f){h.finishedWork=null,h.finishedLanes=0;var v=h.timeoutHandle;if(v!==nt&&(h.timeoutHandle=nt,ze(v)),Ln!==null)for(v=Ln.return;v!==null;){var S=v;switch(Hv(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Jo();break;case 3:Dc(),jt(Bn),jt(zn),Yv();break;case 5:Xv(S);break;case 4:Dc();break;case 13:jt(un);break;case 19:jt(un);break;case 10:kv(S.type._context);break;case 22:case 23:Mx()}v=v.return}if(In=h,Ln=h=ea(h.current,null),oi=lr=f,Hn=0,Vh=null,yx=$p=Oc=0,Gi=Wh=null,Ds!==null){for(f=0;f<Ds.length;f++)if(v=Ds[f],S=v.interleaved,S!==null){v.interleaved=null;var E=S.next,R=v.pending;if(R!==null){var N=R.next;R.next=E,S.next=N}v.pending=S}Ds=null}return h}function Qb(h,f){do{var v=Ln;try{if(Dv(),Ip.current=Np,Lp){for(var S=_n.memoizedState;S!==null;){var E=S.queue;E!==null&&(E.pending=null),S=S.next}Lp=!1}if(kc=0,qn=gi=_n=null,Dh=!1,kh=0,gx.current=null,v===null||v.return===null){Hn=1,Vh=f,Ln=null;break}e:{var R=h,N=v.return,K=v,ue=f;if(f=oi,K.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Be=ue,Xe=K,mt=Xe.tag;if(!(Xe.mode&1)&&(mt===0||mt===11||mt===15)){var rt=Xe.alternate;rt?(Xe.updateQueue=rt.updateQueue,Xe.memoizedState=rt.memoizedState,Xe.lanes=rt.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var Kt=vb(N);if(Kt!==null){Kt.flags&=-257,xb(Kt,N,K,R,f),Kt.mode&1&&yb(R,Be,f),f=Kt,ue=Be;var Ze=f.updateQueue;if(Ze===null){var xi=new Set;xi.add(ue),f.updateQueue=xi}else Ze.add(ue);break e}else{if(!(f&1)){yb(R,Be,f),Ex();break e}ue=Error(o(426))}}else if(on&&K.mode&1){var Ir=vb(N);if(Ir!==null){!(Ir.flags&65536)&&(Ir.flags|=256),xb(Ir,N,K,R,f),Wv(ue);break e}}R=ue,Hn!==4&&(Hn=2),Wh===null?Wh=[R]:Wh.push(R),ue=tx(ue,K),K=N;do{switch(K.tag){case 3:K.flags|=65536,f&=-f,K.lanes|=f;var se=mb(K,ue,f);OE(K,se);break e;case 1:R=ue;var Z=K.type,ce=K.stateNode;if(!(K.flags&128)&&(typeof Z.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(qo===null||!qo.has(ce)))){K.flags|=65536,f&=-f,K.lanes|=f;var Ue=gb(K,R,f);OE(K,Ue);break e}}K=K.return}while(K!==null)}eC(v)}catch(Ke){f=Ke,Ln===v&&v!==null&&(Ln=v=v.return);continue}break}while(1)}function Zb(){var h=Zp.current;return Zp.current=Np,h===null?Np:h}function Ex(){(Hn===0||Hn===3||Hn===2)&&(Hn=4),In===null||!(Oc&268435455)&&!($p&268435455)||$o(In,oi)}function om(h,f){var v=Ct;Ct|=2;var S=Zb();In===h&&oi===f||cl(h,f);do try{eU();break}catch(E){Qb(h,E)}while(1);if(Dv(),Ct=v,Zp.current=S,Ln!==null)throw Error(o(261));return In=null,oi=0,Hn}function eU(){for(;Ln!==null;)$b(Ln)}function tU(){for(;Ln!==null&&!CN();)$b(Ln)}function $b(h){var f=iC(h.alternate,h,lr);h.memoizedProps=h.pendingProps,f===null?eC(h):Ln=f,gx.current=null}function eC(h){var f=h;do{var v=f.alternate;if(h=f.return,f.flags&32768){if(v=JN(v,f),v!==null){v.flags&=32767,Ln=v;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Hn=6,Ln=null;return}}else if(v=WN(v,f,lr),v!==null){Ln=v;return}if(f=f.sibling,f!==null){Ln=f;return}Ln=f=h}while(f!==null);Hn===0&&(Hn=5)}function ul(h,f){var v=Ot,S=Cn.transition;try{Cn.transition=null,Ot=1,nU(h,f,v)}finally{Cn.transition=S,Ot=v}return null}function nU(h,f,v){do hl();while(Qo!==null);if(Ct&6)throw Error(o(327));var S=h.finishedWork,E=h.finishedLanes;if(S===null)return null;if(h.finishedWork=null,h.finishedLanes=0,S===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var R=S.lanes|S.childLanes;if(bN(h,R),h===In&&(Ln=In=null,oi=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||tm||(tm=!0,rC(Bv,function(){return hl(),null})),R=(S.flags&15990)!==0,S.subtreeFlags&15990||R){R=Cn.transition,Cn.transition=null;var N=Ot;Ot=1;var K=Ct;Ct|=4,gx.current=null,KN(h,S),qN(h,S),j(h.containerInfo),h.current=S,QN(S),TN(),Ct=K,Ot=N,Cn.transition=R}else h.current=S;if(tm&&(tm=!1,Qo=h,nm=E),R=h.pendingLanes,R===0&&(qo=null),BN(S.stateNode),Vi(h,Kn()),f!==null)for(v=h.onRecoverableError,S=0;S<f.length;S++)v(f[S]);if(em)throw em=!1,h=Ax,Ax=null,h;return nm&1&&h.tag!==0&&hl(),R=h.pendingLanes,R&1?h===_x?jh++:(jh=0,_x=h):jh=0,Ls(),null}function hl(){if(Qo!==null){var h=IE(nm),f=Cn.transition,v=Ot;try{if(Cn.transition=null,Ot=16>h?16:h,Qo===null)var S=!1;else{if(h=Qo,Qo=null,nm=0,Ct&6)throw Error(o(331));var E=Ct;for(Ct|=4,Oe=h.current;Oe!==null;){var R=Oe,N=R.child;if(Oe.flags&16){var K=R.deletions;if(K!==null){for(var ue=0;ue<K.length;ue++){var Be=K[ue];for(Oe=Be;Oe!==null;){var Xe=Oe;switch(Xe.tag){case 0:case 11:case 15:ll(8,Xe,R)}var mt=Xe.child;if(mt!==null)mt.return=Xe,Oe=mt;else for(;Oe!==null;){Xe=Oe;var rt=Xe.sibling,Kt=Xe.return;if(Nb(Xe),Xe===Be){Oe=null;break}if(rt!==null){rt.return=Kt,Oe=rt;break}Oe=Kt}}}var Ze=R.alternate;if(Ze!==null){var xi=Ze.child;if(xi!==null){Ze.child=null;do{var Ir=xi.sibling;xi.sibling=null,xi=Ir}while(xi!==null)}}Oe=R}}if(R.subtreeFlags&2064&&N!==null)N.return=R,Oe=N;else e:for(;Oe!==null;){if(R=Oe,R.flags&2048)switch(R.tag){case 0:case 11:case 15:ll(9,R,R.return)}var se=R.sibling;if(se!==null){se.return=R.return,Oe=se;break e}Oe=R.return}}var Z=h.current;for(Oe=Z;Oe!==null;){N=Oe;var ce=N.child;if(N.subtreeFlags&2064&&ce!==null)ce.return=N,Oe=ce;else e:for(N=Z;Oe!==null;){if(K=Oe,K.flags&2048)try{switch(K.tag){case 0:case 11:case 15:Hh(9,K)}}catch(Ke){Wi(K,K.return,Ke)}if(K===N){Oe=null;break e}var Ue=K.sibling;if(Ue!==null){Ue.return=K.return,Oe=Ue;break e}Oe=K.return}}if(Ct=E,Ls(),Bs&&typeof Bs.onPostCommitFiberRoot=="function")try{Bs.onPostCommitFiberRoot(Ap,h)}catch{}S=!0}return S}finally{Ot=v,Cn.transition=f}}return!1}function tC(h,f,v){f=tx(v,f),f=mb(h,f,1),Ko(h,f),f=Bi(),h=sm(h,1),h!==null&&(Th(h,1,f),Vi(h,f))}function Wi(h,f,v){if(h.tag===3)tC(h,h,v);else for(;f!==null;){if(f.tag===3){tC(f,h,v);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(qo===null||!qo.has(S))){h=tx(v,h),h=gb(f,h,1),Ko(f,h),h=Bi(),f=sm(f,1),f!==null&&(Th(f,1,h),Vi(f,h));break}}f=f.return}}function iU(h,f,v){var S=h.pingCache;S!==null&&S.delete(f),f=Bi(),h.pingedLanes|=h.suspendedLanes&v,In===h&&(oi&v)===v&&(Hn===4||Hn===3&&(oi&130023424)===oi&&500>Kn()-vx?cl(h,0):yx|=v),Vi(h,f)}function nC(h,f){f===0&&(h.mode&1?(f=vp,vp<<=1,!(vp&130023424)&&(vp=4194304)):f=1);var v=Bi();h=sm(h,f),h!==null&&(Th(h,f,v),Vi(h,v))}function rU(h){var f=h.memoizedState,v=0;f!==null&&(v=f.retryLane),nC(h,v)}function sU(h,f){var v=0;switch(h.tag){case 13:var S=h.stateNode,E=h.memoizedState;E!==null&&(v=E.retryLane);break;case 19:S=h.stateNode;break;default:throw Error(o(314))}S!==null&&S.delete(f),nC(h,v)}var iC;iC=function(h,f,v){if(h!==null)if(h.memoizedProps!==f.pendingProps||Bn.current)ar=!0;else{if(!(h.lanes&v)&&!(f.flags&128))return ar=!1,XN(h,f,v);ar=!!(h.flags&131072)}else ar=!1,on&&f.flags&1048576&&VE(f,Rp,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),h=f.pendingProps;var E=xn(f,zn.current);Tc(f,v),E=qv(null,f,S,h,E,v);var R=Qv();return f.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,An(S)?(R=!0,bc(f)):R=!1,f.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Ov(f),E.updater=Cp,f.stateNode=E,E._reactInternals=f,Uv(f,S,h,v),f=rx(null,f,S,!0,R,v)):(f.tag=0,on&&R&&zv(f),Pi(null,f,E,v),f=f.child),f;case 16:S=f.elementType;e:{switch(h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),h=f.pendingProps,E=S._init,S=E(S._payload),f.type=S,E=f.tag=aU(S),h=es(S,h),E){case 0:f=ix(null,f,S,h,v);break e;case 1:f=Cb(null,f,S,h,v);break e;case 11:f=wb(null,f,S,h,v);break e;case 14:f=Sb(null,f,S,es(S.type,h),v);break e}throw Error(o(306,S,""))}return f;case 0:return S=f.type,E=f.pendingProps,E=f.elementType===S?E:es(S,E),ix(h,f,S,E,v);case 1:return S=f.type,E=f.pendingProps,E=f.elementType===S?E:es(S,E),Cb(h,f,S,E,v);case 3:e:{if(Tb(f),h===null)throw Error(o(387));S=f.pendingProps,R=f.memoizedState,E=R.element,FE(h,f),bp(f,S,null,v);var N=f.memoizedState;if(S=N.element,ve&&R.isDehydrated)if(R={element:S,isDehydrated:!1,cache:N.cache,transitions:N.transitions},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){E=Error(o(423)),f=Rb(h,f,S,v,E);break e}else if(S!==E){E=Error(o(424)),f=Rb(h,f,S,v,E);break e}else for(ve&&(or=Sv(f.stateNode.containerInfo),sr=f,on=!0,ts=null,Rh=!1),v=KE(f,null,S,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Bc(),S===E){f=ao(h,f,v);break e}Pi(h,f,S,v)}f=f.child}return f;case 5:return qE(f),h===null&&Vv(f),S=f.type,E=f.pendingProps,R=h!==null?h.memoizedProps:null,N=E.children,we(S,E)?N=null:R!==null&&we(S,R)&&(f.flags|=32),bb(h,f),Pi(h,f,N,v),f.child;case 6:return h===null&&Vv(f),null;case 13:return Pb(h,f,v);case 4:return jv(f,f.stateNode.containerInfo),S=f.pendingProps,h===null?f.child=Ic(f,null,S,v):Pi(h,f,S,v),f.child;case 11:return S=f.type,E=f.pendingProps,E=f.elementType===S?E:es(S,E),wb(h,f,S,E,v);case 7:return Pi(h,f,f.pendingProps,v),f.child;case 8:return Pi(h,f,f.pendingProps.children,v),f.child;case 12:return Pi(h,f,f.pendingProps.children,v),f.child;case 10:e:{if(S=f.type._context,E=f.pendingProps,R=f.memoizedProps,N=E.value,kE(f,S,N),R!==null)if(Is(R.value,N)){if(R.children===E.children&&!Bn.current){f=ao(h,f,v);break e}}else for(R=f.child,R!==null&&(R.return=f);R!==null;){var K=R.dependencies;if(K!==null){N=R.child;for(var ue=K.firstContext;ue!==null;){if(ue.context===S){if(R.tag===1){ue=io(-1,v&-v),ue.tag=2;var Be=R.updateQueue;if(Be!==null){Be=Be.shared;var Xe=Be.pending;Xe===null?ue.next=ue:(ue.next=Xe.next,Xe.next=ue),Be.pending=ue}}R.lanes|=v,ue=R.alternate,ue!==null&&(ue.lanes|=v),Fv(R.return,v,f),K.lanes|=v;break}ue=ue.next}}else if(R.tag===10)N=R.type===f.type?null:R.child;else if(R.tag===18){if(N=R.return,N===null)throw Error(o(341));N.lanes|=v,K=N.alternate,K!==null&&(K.lanes|=v),Fv(N,v,f),N=R.sibling}else N=R.child;if(N!==null)N.return=R;else for(N=R;N!==null;){if(N===f){N=null;break}if(R=N.sibling,R!==null){R.return=N.return,N=R;break}N=N.return}R=N}Pi(h,f,E.children,v),f=f.child}return f;case 9:return E=f.type,S=f.pendingProps.children,Tc(f,v),E=Er(E),S=S(E),f.flags|=1,Pi(h,f,S,v),f.child;case 14:return S=f.type,E=es(S,f.pendingProps),E=es(S.type,E),Sb(h,f,S,E,v);case 15:return Mb(h,f,f.type,f.pendingProps,v);case 17:return S=f.type,E=f.pendingProps,E=f.elementType===S?E:es(S,E),h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,An(S)?(h=!0,bc(f)):h=!1,Tc(f,v),HE(f,S,E),Uv(f,S,E,v),rx(null,f,S,!0,h,v);case 19:return Db(h,f,v);case 22:return Eb(h,f,v)}throw Error(o(156,f.tag))};function rC(h,f){return Rv(h,f)}function oU(h,f,v,S){this.tag=h,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(h,f,v,S){return new oU(h,f,v,S)}function bx(h){return h=h.prototype,!(!h||!h.isReactComponent)}function aU(h){if(typeof h=="function")return bx(h)?1:0;if(h!=null){if(h=h.$$typeof,h===x)return 11;if(h===w)return 14}return 2}function ea(h,f){var v=h.alternate;return v===null?(v=Br(h.tag,f,h.key,h.mode),v.elementType=h.elementType,v.type=h.type,v.stateNode=h.stateNode,v.alternate=h,h.alternate=v):(v.pendingProps=f,v.type=h.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=h.flags&14680064,v.childLanes=h.childLanes,v.lanes=h.lanes,v.child=h.child,v.memoizedProps=h.memoizedProps,v.memoizedState=h.memoizedState,v.updateQueue=h.updateQueue,f=h.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=h.sibling,v.index=h.index,v.ref=h.ref,v}function am(h,f,v,S,E,R){var N=2;if(S=h,typeof h=="function")bx(h)&&(N=1);else if(typeof h=="string")N=5;else e:switch(h){case u:return fl(v.children,E,R,f);case d:N=8,E|=8;break;case p:return h=Br(12,v,f,E|2),h.elementType=p,h.lanes=R,h;case A:return h=Br(13,v,f,E),h.elementType=A,h.lanes=R,h;case g:return h=Br(19,v,f,E),h.elementType=g,h.lanes=R,h;case M:return lm(v,E,R,f);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:N=10;break e;case y:N=9;break e;case x:N=11;break e;case w:N=14;break e;case _:N=16,S=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return f=Br(N,v,f,E),f.elementType=h,f.type=S,f.lanes=R,f}function fl(h,f,v,S){return h=Br(7,h,S,f),h.lanes=v,h}function lm(h,f,v,S){return h=Br(22,h,S,f),h.elementType=M,h.lanes=v,h.stateNode={},h}function Cx(h,f,v){return h=Br(6,h,null,f),h.lanes=v,h}function Tx(h,f,v){return f=Br(4,h.children!==null?h.children:[],h.key,f),f.lanes=v,f.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},f}function lU(h,f,v,S,E){this.tag=f,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=nt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cv(0),this.expirationTimes=Cv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cv(0),this.identifierPrefix=S,this.onRecoverableError=E,ve&&(this.mutableSourceEagerHydrationData=null)}function sC(h,f,v,S,E,R,N,K,ue){return h=new lU(h,f,v,K,ue),f===1?(f=1,R===!0&&(f|=8)):f=0,R=Br(3,null,null,f),h.current=R,R.stateNode=h,R.memoizedState={element:S,isDehydrated:v,cache:null,transitions:null},Ov(R),h}function oC(h){if(!h)return pi;h=h._reactInternals;e:{if(T(h)!==h||h.tag!==1)throw Error(o(170));var f=h;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(An(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(h.tag===1){var v=h.type;if(An(v))return Ec(h,v,f)}return f}function aC(h){var f=h._reactInternals;if(f===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=Q(f),h===null?null:h.stateNode}function lC(h,f){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var v=h.retryLane;h.retryLane=v!==0&&v<f?v:f}}function Rx(h,f){lC(h,f),(h=h.alternate)&&lC(h,f)}function cU(h){return h=Q(h),h===null?null:h.stateNode}function uU(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var f=Bi();Pr(h,134217728,f),Rx(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var f=Bi(),v=Zo(h);Pr(h,v,f),Rx(h,v)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var f=h.stateNode;if(f.current.memoizedState.isDehydrated){var v=Ch(f.pendingLanes);v!==0&&(Tv(f,v|1),Vi(f,Kn()),!(Ct&6)&&(Nc(),Ls()))}break;case 13:var S=Bi();qb(function(){return Pr(h,1,S)}),Rx(h,1)}},t.batchedUpdates=function(h,f){var v=Ct;Ct|=1;try{return h(f)}finally{Ct=v,Ct===0&&(Nc(),_p&&Ls())}},t.createComponentSelector=function(h){return{$$typeof:Jp,value:h}},t.createContainer=function(h,f,v,S,E,R,N){return sC(h,f,!1,null,v,S,E,R,N)},t.createHasPseudoClassSelector=function(h){return{$$typeof:Yp,value:h}},t.createHydrationContainer=function(h,f,v,S,E,R,N,K,ue){return h=sC(v,S,!0,h,E,R,N,K,ue),h.context=oC(null),v=h.current,S=Bi(),E=Zo(v),R=io(S,E),R.callback=f??null,Ko(v,R),h.current.lanes=E,Th(h,E,S),Vi(h,S),h},t.createPortal=function(h,f,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:h,containerInfo:f,implementation:v}},t.createRoleSelector=function(h){return{$$typeof:Kp,value:h}},t.createTestNameSelector=function(h){return{$$typeof:qp,value:h}},t.createTextSelector=function(h){return{$$typeof:Qp,value:h}},t.deferredUpdates=function(h){var f=Ot,v=Cn.transition;try{return Cn.transition=null,Ot=16,h()}finally{Ot=f,Cn.transition=v}},t.discreteUpdates=function(h,f,v,S,E){var R=Ot,N=Cn.transition;try{return Cn.transition=null,Ot=1,h(f,v,S,E)}finally{Ot=R,Cn.transition=N,Ct===0&&Nc()}},t.findAllNodes=mx,t.findBoundingRects=function(h,f){if(!tt)throw Error(o(363));f=mx(h,f),h=[];for(var v=0;v<f.length;v++)h.push(Wt(f[v]));for(f=h.length-1;0<f;f--){v=h[f];for(var S=v.x,E=S+v.width,R=v.y,N=R+v.height,K=f-1;0<=K;K--)if(f!==K){var ue=h[K],Be=ue.x,Xe=Be+ue.width,mt=ue.y,rt=mt+ue.height;if(S>=Be&&R>=mt&&E<=Xe&&N<=rt){h.splice(f,1);break}else if(S!==Be||v.width!==ue.width||rt<R||mt>N){if(!(R!==mt||v.height!==ue.height||Xe<S||Be>E)){Be>S&&(ue.width+=Be-S,ue.x=S),Xe<E&&(ue.width=E-Be),h.splice(f,1);break}}else{mt>R&&(ue.height+=mt-R,ue.y=R),rt<N&&(ue.height=N-mt),h.splice(f,1);break}}}return h},t.findHostInstance=aC,t.findHostInstanceWithNoPortals=function(h){return h=G(h),h=h!==null?q(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return aC(h)},t.flushControlled=function(h){var f=Ct;Ct|=1;var v=Cn.transition,S=Ot;try{Cn.transition=null,Ot=1,h()}finally{Ot=S,Cn.transition=v,Ct=f,Ct===0&&(Nc(),Ls())}},t.flushPassiveEffects=hl,t.flushSync=qb,t.focusWithin=function(h,f){if(!tt)throw Error(o(363));for(h=fx(h),f=Jb(h,f),f=Array.from(f),h=0;h<f.length;){var v=f[h++];if(!L(v)){if(v.tag===5&&Ee(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ot},t.getFindAllNodesFailureDescription=function(h,f){if(!tt)throw Error(o(363));var v=0,S=[];h=[fx(h),0];for(var E=0;E<h.length;){var R=h[E++],N=h[E++],K=f[N];if((R.tag!==5||!L(R))&&(dx(R,K)&&(S.push(px(K)),N++,N>v&&(v=N)),N<f.length))for(R=R.child;R!==null;)h.push(R,N),R=R.sibling}if(v<f.length){for(h=[];v<f.length;v++)h.push(px(f[v]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return ie(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:cU,findFiberByHostInstance:h.findFiberByHostInstance||uU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)h=!0;else{try{Ap=f.inject(h),Bs=f}catch{}h=!!f.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,f,v,S){if(!tt)throw Error(o(363));h=mx(h,f);var E=Ae(h,v,S).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(h,f){var v=f._getVersion;v=v(f._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[f,v]:h.mutableSourceEagerHydrationData.push(f,v)},t.runWithPriority=function(h,f){var v=Ot;try{return Ot=h,f()}finally{Ot=v}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,f,v,S){var E=f.current,R=Bi(),N=Zo(E);return v=oC(v),f.context===null?f.context=v:f.pendingContext=v,f=io(R,N),f.payload={element:h},S=S===void 0?null:S,S!==null&&(f.callback=S),Ko(E,f),h=Pr(E,N,R),h!==null&&Ep(h,E,N),N},t};oF.exports=Kj;var qj=oF.exports;const Qj=Yw(qj),VM={},Zj=n=>void Object.assign(VM,n);function $j(n,e){function t(u,{args:d=[],attach:p,...m},y){let x=`${u[0].toUpperCase()}${u.slice(1)}`,A;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;A=hu(g,{type:u,root:y,attach:p,primitive:!0})}else{const g=VM[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");A=hu(new g(...d),{type:u,root:y,attach:p,memoizedProps:{args:d}})}return A.__r3f.attach===void 0&&(A.isBufferGeometry?A.__r3f.attach="geometry":A.isMaterial&&(A.__r3f.attach="material")),x!=="inject"&&NA(A,m),A}function i(u,d){let p=!1;if(d){var m,y;(m=d.__r3f)!=null&&m.attach?OA(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),p=!0),p||(y=u.__r3f)==null||y.objects.push(d),d.__r3f||hu(d,{}),d.__r3f.parent=u,mw(d),fu(d)}}function r(u,d,p){let m=!1;if(d){var y,x;if((y=d.__r3f)!=null&&y.attach)OA(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:d});const A=u.children.filter(w=>w!==d),g=A.indexOf(p);u.children=[...A.slice(0,g),d,...A.slice(g)],m=!0}m||(x=u.__r3f)==null||x.objects.push(d),d.__r3f||hu(d,{}),d.__r3f.parent=u,mw(d),fu(d)}}function s(u,d,p=!1){u&&[...u].forEach(m=>o(d,m,p))}function o(u,d,p){if(d){var m,y,x;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(M=>M!==d)),(y=d.__r3f)!=null&&y.attach)iP(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var A;u.remove(d),(A=d.__r3f)!=null&&A.root&&lX(Yg(d),d)}const w=(x=d.__r3f)==null?void 0:x.primitive,_=!w&&(p===void 0?d.dispose!==null:p);if(!w){var g;s((g=d.__r3f)==null?void 0:g.objects,d,_),s(d.children,d,_)}if(delete d.__r3f,_&&d.dispose&&d.type!=="Scene"){const M=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?dw.unstable_scheduleCallback(dw.unstable_IdlePriority,M):M()}fu(u)}}function a(u,d,p,m){var y;const x=(y=u.__r3f)==null?void 0:y.parent;if(!x)return;const A=t(d,p,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&i(A,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>i(A,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(x,u),A.parent&&(A.__r3f.autoRemovedBeforeAppend=!0),i(x,A),A.raycast&&A.__r3f.eventCount&&Yg(A).getState().internal.interaction.push(A),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=A,g.ref&&(typeof g.ref=="function"?g.ref(A):g.ref.current=A))})}const l=()=>{};return{reconciler:Qj({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,i(p,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,p)=>{if(!d||!p)return;const m=u.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,p,m){var y;if(((y=u==null?void 0:u.__r3f)!=null?y:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:A=[],children:g,...w}=m,{args:_=[],children:M,...b}=p;if(!Array.isArray(A))throw new Error("R3F: the args prop must be an array!");if(A.some((P,I)=>P!==_[I]))return[!0];const C=mF(u,w,b,!0);return C.changes.length?[!1,C]:null}},commitUpdate(u,[d,p],m,y,x,A){d?a(u,m,x,A):NA(u,p)},commitMount(u,d,p,m){var y;const x=(y=u.__r3f)!=null?y:{};u.raycast&&x.handlers&&x.eventCount&&Yg(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>hu(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:p,parent:m}=(d=u.__r3f)!=null?d:{};p&&m&&iP(m,u,p),u.isObject3D&&(u.visible=!1),fu(u)},unhideInstance(u,d){var p;const{attach:m,parent:y}=(p=u.__r3f)!=null?p:{};m&&y&&OA(y,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),fu(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Ru.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Qt.fun(performance.now)?performance.now:Qt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Qt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Qt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:NA}}var $R,eP;const FA=n=>"colorSpace"in n||"outputColorSpace"in n,cF=()=>{var n;return(n=VM.ColorManagement)!=null?n:null},uF=n=>n&&n.isOrthographicCamera,eX=n=>n&&n.hasOwnProperty("current"),tp=typeof window<"u"&&(($R=window.document)!=null&&$R.createElement||((eP=window.navigator)==null?void 0:eP.product)==="ReactNative")?k.useLayoutEffect:k.useEffect;function hF(n){const e=k.useRef(n);return tp(()=>void(e.current=n),[n]),e}function tX({set:n}){return tp(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class fF extends k.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}fF.getDerivedStateFromError=()=>({error:!0});const dF="__default",tP=new Map,nX=n=>n&&!!n.memoized&&!!n.changes;function pF(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const hf=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function Yg(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Qt={obj:n=>n===Object(n)&&!Qt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Qt.str(n)||Qt.num(n)||Qt.boo(n))return n===e;const s=Qt.obj(n);if(s&&i==="reference")return n===e;const o=Qt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Qt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Qt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function iX(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function rX(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function hu(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function pw(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const nP=/-\d+$/;function OA(n,e,t){if(Qt.str(t)){if(nP.test(t)){const s=t.replace(nP,""),{target:o,key:a}=pw(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=pw(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function iP(n,e,t){var i,r;if(Qt.str(t)){const{target:s,key:o}=pw(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function mF(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){const u=n.__r3f,d=Object.entries(r),p=[];if(c){const y=Object.keys(l);for(let x=0;x<y.length;x++)r.hasOwnProperty(y[x])||d.unshift([y[x],dF+"remove"])}d.forEach(([y,x])=>{var A;if((A=n.__r3f)!=null&&A.primitive&&y==="object"||Qt.equ(x,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return p.push([y,x,!0,[]]);let g=[];y.includes("-")&&(g=y.split("-")),p.push([y,x,!1,g]);for(const w in r){const _=r[w];w.startsWith(`${y}-`)&&p.push([w,_,!1,w.split("-")])}});const m={...r};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(m.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(m.attach=u.memoizedProps.attach),{memoized:m,changes:p}}const sX=typeof process<"u"&&!1;function NA(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=nX(e)?e:mF(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[m,y,x,A]=a[p];if(FA(n)){const M="srgb",b="srgb-linear";m==="encoding"?(m="colorSpace",y=y===3001?M:b):m==="outputEncoding"&&(m="outputColorSpace",y=y===3001?M:b)}let g=n,w=g[m];if(A.length&&(w=A.reduce((_,M)=>_[M],n),!(w&&w.set))){const[_,...M]=A.reverse();g=M.reverse().reduce((b,C)=>b[C],n),m=_}if(y===dF+"remove")if(g.constructor){let _=tP.get(g.constructor);_||(_=new g.constructor,tP.set(g.constructor,_)),y=_[m]}else y=0;if(x&&i)y?i.handlers[m]=y:delete i.handlers[m],i.eventCount=Object.keys(i.handlers).length;else if(w&&w.set&&(w.copy||w instanceof ql)){if(Array.isArray(y))w.fromArray?w.fromArray(y):w.set(...y);else if(w.copy&&y&&y.constructor&&(sX?w.constructor.name===y.constructor.name:w.constructor===y.constructor))w.copy(y);else if(y!==void 0){var c;const _=(c=w)==null?void 0:c.isColor;!_&&w.setScalar?w.setScalar(y):w instanceof ql&&y instanceof ql?w.mask=y.mask:w.set(y),!cF()&&s&&!s.linear&&_&&w.convertSRGBToLinear()}}else{var u;if(g[m]=y,(u=g[m])!=null&&u.isTexture&&g[m].format===Yi&&g[m].type===Ks&&s){const _=g[m];FA(_)&&FA(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}}fu(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const p=Yg(n).getState().internal,m=p.interaction.indexOf(n);m>-1&&p.interaction.splice(m,1),i.eventCount&&p.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&mw(n),n}function fu(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function mw(n){n.onUpdate==null||n.onUpdate(n)}function oX(n,e){n.manual||(uF(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function pg(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function aX(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Ru.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ru.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ru.ContinuousEventPriority;default:return Ru.DefaultEventPriority}}function gF(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function lX(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{gF(t.capturedMap,e,i,r)})}function cX(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function i(l,c){const u=n.getState(),d=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const w=hf(m[g]);w&&(w.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function y(g){const w=hf(g);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var _;w.events.compute==null||w.events.compute(l,w,(_=w.previousRoot)==null?void 0:_.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(y).sort((g,w)=>{const _=hf(g.object),M=hf(w.object);return!_||!M?g.distance-w.distance:M.events.priority-_.events.priority||g.distance-w.distance}).filter(g=>{const w=pg(g);return d.has(w)?!1:(d.add(w),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const g of x){let w=g.object;for(;w;){var A;(A=w.__r3f)!=null&&A.eventCount&&p.push({...g,eventObject:w}),w=w.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())d.has(pg(g.intersection))||p.push(g.intersection);return p}function r(l,c,u,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const x=hf(y.object)||p,{raycaster:A,pointer:g,camera:w,internal:_}=x,M=new D(g.x,g.y,0).unproject(w),b=B=>{var G,Q;return(G=(Q=_.capturedMap.get(B))==null?void 0:Q.has(y.eventObject))!=null?G:!1},C=B=>{const G={intersection:y,target:c.target};_.capturedMap.has(B)?_.capturedMap.get(B).set(y.eventObject,G):_.capturedMap.set(B,new Map([[y.eventObject,G]])),c.target.setPointerCapture(B)},P=B=>{const G=_.capturedMap.get(B);G&&gF(_.capturedMap,y.eventObject,G,B)};let I={};for(let B in c){let G=c[B];typeof G!="function"&&(I[B]=G)}let T={...y,...I,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:M,ray:A.ray,camera:w,stopPropagation(){const B="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!B||B.has(y.eventObject))&&(T.stopped=m.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(G=>G.eventObject===y.eventObject))){const G=l.slice(0,l.indexOf(y));s([...G,y])}},target:{hasPointerCapture:b,setPointerCapture:C,releasePointerCapture:P},currentTarget:{hasPointerCapture:b,setPointerCapture:C,releasePointerCapture:P},nativeEvent:c};if(d(T),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(pg(u)),p!=null&&p.eventCount){const y={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",A=i(u,m?t:void 0),g=y?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=A.map(_=>_.eventObject)),y&&!A.length&&g<=2&&(o(u,p.interaction),d&&d(u)),m&&s(A);function w(_){const M=_.eventObject,b=M.__r3f,C=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const P=pg(_),I=p.hovered.get(P);I?I.stopped&&_.stopPropagation():(p.hovered.set(P,_),C.onPointerOver==null||C.onPointerOver(_),C.onPointerEnter==null||C.onPointerEnter(_))}C.onPointerMove==null||C.onPointerMove(_)}else{const P=C[l];P?(!y||p.initialHits.includes(M))&&(o(u,p.interaction.filter(I=>!p.initialHits.includes(I))),P(_)):y&&p.initialHits.includes(M)&&o(u,p.interaction.filter(I=>!p.initialHits.includes(I)))}}r(A,u,g,w)}}return{handlePointer:a}}const yF=n=>!!(n!=null&&n.render),vF=k.createContext(null),uX=(n,e)=>{const t=Wj((a,l)=>{const c=new D,u=new D,d=new D;function p(g=l().camera,w=u,_=l().size){const{width:M,height:b,top:C,left:P}=_,I=M/b;w.isVector3?d.copy(w):d.set(...w);const T=g.getWorldPosition(c).distanceTo(d);if(uF(g))return{width:M/g.zoom,height:b/g.zoom,top:C,left:P,factor:1,distance:T,aspect:I};{const B=g.fov*Math.PI/180,G=2*Math.tan(B/2)*T,Q=G*(M/b);return{width:Q,height:G,top:C,left:P,factor:M/Q,distance:T,aspect:I}}}let m;const y=g=>a(w=>({performance:{...w.performance,current:g}})),x=new pe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,w)=>e(g,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new UM,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&y(g.performance.min),m=setTimeout(()=>y(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(w=>({...w,events:{...w.events,...g}})),setSize:(g,w,_,M,b)=>{const C=l().camera,P={width:g,height:w,top:M||0,left:b||0,updateStyle:_};a(I=>({size:P,viewport:{...I.viewport,...p(C,u,P)}}))},setDpr:g=>a(w=>{const _=pF(g);return{viewport:{...w.viewport,dpr:_,initialDpr:w.viewport.initialDpr||_}}}),setFrameloop:(g="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,g!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:k.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,w,_)=>{const M=l().internal;return M.priority=M.priority+(w>0?1:0),M.subscribers.push({ref:g,priority:w,store:_}),M.subscribers=M.subscribers.sort((b,C)=>b.priority-C.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(w>0?1:0),b.subscribers=b.subscribers.filter(C=>C.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,oX(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let mg,hX=new Set,fX=new Set,dX=new Set;function UA(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function ff(n,e){switch(n){case"before":return UA(hX,e);case"after":return UA(fX,e);case"tail":return UA(dX,e)}}let zA,HA;function GA(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),zA=e.internal.subscribers,mg=0;mg<zA.length;mg++)HA=zA[mg],HA.ref.current(HA.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function pX(n){let e=!1,t=!1,i,r,s;function o(c){r=requestAnimationFrame(o),e=!0,i=0,ff("before",c),t=!0;for(const d of n.values()){var u;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(i+=GA(c,s))}if(t=!1,ff("after",c),i===0)return ff("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,u=1){var d;if(!c)return n.forEach(p=>a(p.store.getState(),u));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,u=!0,d,p){if(u&&ff("before",c),d)GA(c,d,p);else for(const m of n.values())GA(c,m.store.getState());u&&ff("after",c)}return{loop:o,invalidate:a,advance:l}}function xF(){const n=k.useContext(vF);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function dr(n=t=>t,e){return xF()(n,e)}function WM(n,e=0){const t=xF(),i=t.getState().internal.subscribe,r=hF(n);return tp(()=>i(r,e,t),[e,i,t]),null}const rP=new WeakMap;function AF(n,e){return function(t,...i){let r=rP.get(t);return r||(r=new t,rP.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,iX(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function tl(n,e,t,i){const r=Array.isArray(e)?e:[e],s=Xj(AF(t,i),[n,...r],{equal:Qt.equ});return Array.isArray(e)?s:s[0]}tl.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return Jj(AF(t),[n,...i])};tl.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Yj([n,...t])};const oh=new Map,{invalidate:sP,advance:oP}=pX(oh),{reconciler:O0,applyProps:zs}=$j(oh,aX),lu={objects:"shallow",strict:!1},mX=(n,e)=>{const t=typeof n=="function"?n(e):n;return yF(t)?t:new gM({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function gX(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function yX(n){const e=oh.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||uX(sP,oP),o=t||O0.createContainer(s,Ru.ConcurrentRoot,null,!1,null,"",r,null);e||oh.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:p,scene:m,events:y,onCreated:x,shadows:A=!1,linear:g=!1,flat:w=!1,legacy:_=!1,orthographic:M=!1,frameloop:b="always",dpr:C=[1,2],performance:P,raycaster:I,camera:T,onPointerMissed:B}=u,G=s.getState(),Q=G.gl;G.gl||G.set({gl:Q=mX(d,n)});let J=G.raycaster;J||G.set({raycaster:J=new tF});const{params:q,...ee}=I||{};if(Qt.equ(ee,J,lu)||zs(J,{...ee}),Qt.equ(q,J.params,lu)||zs(J,{params:{...J.params,...q}}),!G.camera||G.camera===c&&!Qt.equ(c,T,lu)){c=T;const j=T instanceof jd,z=j?T:M?new ms(0,0,0,0,.1,1e3):new cn(75,0,.1,1e3);j||(z.position.z=5,T&&(zs(z,T),("aspect"in T||"left"in T||"right"in T||"bottom"in T||"top"in T)&&(z.manual=!0,z.updateProjectionMatrix())),!G.camera&&!(T!=null&&T.rotation)&&z.lookAt(0,0,0)),G.set({camera:z}),J.camera=z}if(!G.scene){let j;m!=null&&m.isScene?j=m:(j=new yM,m&&zs(j,m)),G.set({scene:hu(j)})}if(!G.xr){var ie;const j=(fe,ye)=>{const we=s.getState();we.frameloop!=="never"&&oP(fe,!0,we,ye)},z=()=>{const fe=s.getState();fe.gl.xr.enabled=fe.gl.xr.isPresenting,fe.gl.xr.setAnimationLoop(fe.gl.xr.isPresenting?j:null),fe.gl.xr.isPresenting||sP(fe)},Y={connect(){const fe=s.getState().gl;fe.xr.addEventListener("sessionstart",z),fe.xr.addEventListener("sessionend",z)},disconnect(){const fe=s.getState().gl;fe.xr.removeEventListener("sessionstart",z),fe.xr.removeEventListener("sessionend",z)}};typeof((ie=Q.xr)==null?void 0:ie.addEventListener)=="function"&&Y.connect(),G.set({xr:Y})}if(Q.shadowMap){const j=Q.shadowMap.enabled,z=Q.shadowMap.type;if(Q.shadowMap.enabled=!!A,Qt.boo(A))Q.shadowMap.type=Of;else if(Qt.str(A)){var te;const Y={basic:lD,percentage:Sy,soft:Of,variance:as};Q.shadowMap.type=(te=Y[A])!=null?te:Of}else Qt.obj(A)&&Object.assign(Q.shadowMap,A);(j!==Q.shadowMap.enabled||z!==Q.shadowMap.type)&&(Q.shadowMap.needsUpdate=!0)}const F=cF();F&&("enabled"in F?F.enabled=!_:"legacyMode"in F&&(F.legacyMode=_)),l||zs(Q,{outputEncoding:g?3e3:3001,toneMapping:w?Ys:YS}),G.legacy!==_&&G.set(()=>({legacy:_})),G.linear!==g&&G.set(()=>({linear:g})),G.flat!==w&&G.set(()=>({flat:w})),d&&!Qt.fun(d)&&!yF(d)&&!Qt.equ(d,Q,lu)&&zs(Q,d),y&&!G.events.handlers&&G.set({events:y(s)});const X=gX(n,p);return Qt.equ(X,G.size,lu)||G.setSize(X.width,X.height,X.updateStyle,X.top,X.left),C&&G.viewport.dpr!==pF(C)&&G.setDpr(C),G.frameloop!==b&&G.setFrameloop(b),G.onPointerMissed||G.set({onPointerMissed:B}),P&&!Qt.equ(P,G.performance,lu)&&G.set(j=>({performance:{...j.performance,...P}})),a=x,l=!0,this},render(u){return l||this.configure(),O0.updateContainer($.jsx(vX,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){_F(n)}}}function vX({store:n,children:e,onCreated:t,rootElement:i}){return tp(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),$.jsx(vF.Provider,{value:n,children:e})}function _F(n,e){const t=oh.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),O0.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),rX(r),oh.delete(n),e&&e(n)}catch{}},500)})}}O0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:k.version});const VA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function xX(n){const{handlePointer:e}=cX(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(VA).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=VA[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=VA[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function aP(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function AX({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=k.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=k.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,u=k.useRef(!1);k.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[d,p,m]=k.useMemo(()=>{const g=()=>{if(!a.current.element)return;const{left:w,top:_,width:M,height:b,bottom:C,right:P,x:I,y:T}=a.current.element.getBoundingClientRect(),B={left:w,top:_,width:M,height:b,bottom:C,right:P,x:I,y:T};a.current.element instanceof HTMLElement&&i&&(B.height=a.current.element.offsetHeight,B.width=a.current.element.offsetWidth),Object.freeze(B),u.current&&!MX(a.current.lastBounds,B)&&o(a.current.lastBounds=B)};return[g,c?aP(g,c):g,l?aP(g,l):g]},[o,i,l,c]);function y(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function x(){a.current.element&&(a.current.resizeObserver=new r(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const A=g=>{!g||g===a.current.element||(y(),a.current.element=g,a.current.scrollContainers=wF(g),x())};return wX(m,!!e),_X(p),k.useEffect(()=>{y(),x()},[e,m,p]),k.useEffect(()=>y,[]),[A,s,d]}function _X(n){k.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function wX(n,e){k.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function wF(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...wF(n.parentElement)]}const SX=["x","y","top","bottom","left","right","width","height"],MX=(n,e)=>SX.every(t=>n[t]===e[t]);var EX=Object.defineProperty,bX=Object.defineProperties,CX=Object.getOwnPropertyDescriptors,lP=Object.getOwnPropertySymbols,TX=Object.prototype.hasOwnProperty,RX=Object.prototype.propertyIsEnumerable,cP=(n,e,t)=>e in n?EX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,uP=(n,e)=>{for(var t in e||(e={}))TX.call(e,t)&&cP(n,t,e[t]);if(lP)for(var t of lP(e))RX.call(e,t)&&cP(n,t,e[t]);return n},PX=(n,e)=>bX(n,CX(e)),hP,fP;typeof window<"u"&&((hP=window.document)!=null&&hP.createElement||((fP=window.navigator)==null?void 0:fP.product)==="ReactNative")?k.useLayoutEffect:k.useEffect;function SF(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=SF(i,e,t);if(r)return r;i=e?null:i.sibling}}function MF(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const dP=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=dP;return}return dP.apply(this,arguments)};const jM=MF(k.createContext(null));class EF extends k.Component{render(){return k.createElement(jM.Provider,{value:this._reactInternals},this.props.children)}}function BX(){const n=k.useContext(jM);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=k.useId();return k.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=SF(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function IX(){const n=BX(),[e]=k.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==jM&&!e.has(r)&&e.set(r,k.useContext(MF(r)))}t=t.return}return e}function LX(){const n=IX();return k.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>k.createElement(e,null,k.createElement(t.Provider,PX(uP({},i),{value:n.get(t)}))),e=>k.createElement(EF,uP({},e))),[n])}const DX=k.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=xX,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:y,dpr:x,performance:A,raycaster:g,camera:w,scene:_,onPointerMissed:M,onCreated:b,...C},P){k.useMemo(()=>Zj(Hj),[]);const I=LX(),[T,B]=AX({scroll:!0,debounce:{scroll:50,resize:0},...i}),G=k.useRef(null),Q=k.useRef(null);k.useImperativeHandle(P,()=>G.current);const J=hF(M),[q,ee]=k.useState(!1),[ie,te]=k.useState(!1);if(q)throw q;if(ie)throw ie;const F=k.useRef(null);tp(()=>{const j=G.current;B.width>0&&B.height>0&&j&&(F.current||(F.current=yX(j)),F.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:y,dpr:x,performance:A,raycaster:g,camera:w,scene:_,size:B,onPointerMissed:(...z)=>J.current==null?void 0:J.current(...z),onCreated:z=>{z.events.connect==null||z.events.connect(a?eX(a)?a.current:a:Q.current),l&&z.setEvents({compute:(Y,fe)=>{const ye=Y[l+"X"],we=Y[l+"Y"];fe.pointer.set(ye/fe.size.width*2-1,-(we/fe.size.height)*2+1),fe.raycaster.setFromCamera(fe.pointer,fe.camera)}}),b==null||b(z)}}),F.current.render($.jsx(I,{children:$.jsx(fF,{set:te,children:$.jsx(k.Suspense,{fallback:$.jsx(tX,{set:ee}),children:e??null})})})))}),k.useEffect(()=>{const j=G.current;if(j)return()=>_F(j)},[]);const X=a?"none":"auto";return $.jsx("div",{ref:Q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...r},...C,children:$.jsx("div",{ref:T,style:{width:"100%",height:"100%"},children:$.jsx("canvas",{ref:G,style:{display:"block"},children:t})})})}),bF=k.forwardRef(function(e,t){return $.jsx(EF,{children:$.jsx(DX,{...e,ref:t})})});function Td(){return Td=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Td.apply(null,arguments)}const np=new D,XM=new D,kX=new D,pP=new pe;function FX(n,e,t){const i=np.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function OX(n,e){const t=np.setFromMatrixPosition(n.matrixWorld),i=XM.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(kX);return r.angleTo(s)>Math.PI/2}function NX(n,e,t,i){const r=np.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),pP.set(s.x,s.y),t.setFromCamera(pP,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function UX(n,e){if(e instanceof ms)return e.zoom;if(e instanceof cn){const t=np.setFromMatrixPosition(n.matrixWorld),i=XM.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function zX(n,e,t){if(e instanceof cn||e instanceof ms){const i=np.setFromMatrixPosition(n.matrixWorld),r=XM.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const gw=n=>Math.abs(n)<1e-10?0:n;function CF(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=gw(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const HX=(n=>e=>CF(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),GX=(n=>(e,t)=>CF(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function VX(n){return n&&typeof n=="object"&&"current"in n}const WX=k.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:d,onOcclude:p,castShadow:m,receiveShadow:y,material:x,geometry:A,zIndexRange:g=[16777271,0],calculatePosition:w=FX,as:_="div",wrapperClass:M,pointerEvents:b="auto",...C},P)=>{const{gl:I,camera:T,scene:B,size:G,raycaster:Q,events:J,viewport:q}=dr(),[ee]=k.useState(()=>document.createElement(_)),ie=k.useRef(),te=k.useRef(null),F=k.useRef(0),X=k.useRef([0,0]),j=k.useRef(null),z=k.useRef(null),Y=(a==null?void 0:a.current)||J.connected||I.domElement.parentNode,fe=k.useRef(null),ye=k.useRef(!1),we=k.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&VX(d[0]),[d]);k.useLayoutEffect(()=>{const et=I.domElement;d&&d==="blending"?(et.style.zIndex=`${Math.floor(g[0]/2)}`,et.style.position="absolute",et.style.pointerEvents="none"):(et.style.zIndex=null,et.style.position=null,et.style.pointerEvents=null)},[d]),k.useLayoutEffect(()=>{if(te.current){const et=ie.current=GL(ee);if(B.updateMatrixWorld(),u)ee.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const _e=w(te.current,T,G);ee.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${_e[0]}px,${_e[1]}px,0);transform-origin:0 0;`}return Y&&(r?Y.prepend(ee):Y.appendChild(ee)),()=>{Y&&Y.removeChild(ee),et.unmount()}}},[Y,u]),k.useLayoutEffect(()=>{M&&(ee.className=M)},[M]);const Re=k.useMemo(()=>u?{position:"absolute",top:0,left:0,width:G.width,height:G.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-G.height/2,left:-G.width/2,width:G.width,height:G.height},...t},[t,s,o,G,u]),Le=k.useMemo(()=>({position:"absolute",pointerEvents:b}),[b]);k.useLayoutEffect(()=>{if(ye.current=!1,u){var et;(et=ie.current)==null||et.render(k.createElement("div",{ref:j,style:Re},k.createElement("div",{ref:z,style:Le},k.createElement("div",{ref:P,className:i,style:t,children:n}))))}else{var _e;(_e=ie.current)==null||_e.render(k.createElement("div",{ref:P,style:Re,className:i,children:n}))}});const ze=k.useRef(!0);WM(et=>{if(te.current){T.updateMatrixWorld(),te.current.updateWorldMatrix(!0,!1);const _e=u?X.current:w(te.current,T,G);if(u||Math.abs(F.current-T.zoom)>e||Math.abs(X.current[0]-_e[0])>e||Math.abs(X.current[1]-_e[1])>e){const H=OX(te.current,T);let ve=!1;we&&(Array.isArray(d)?ve=d.map(Ge=>Ge.current):d!=="blending"&&(ve=[B]));const me=ze.current;if(ve){const Ge=NX(te.current,T,Q,ve);ze.current=Ge&&!H}else ze.current=!H;me!==ze.current&&(p?p(!ze.current):ee.style.display=ze.current?"block":"none");const Se=Math.floor(g[0]/2),xe=d?we?[g[0],Se]:[Se-1,0]:g;if(ee.style.zIndex=`${zX(te.current,T,xe)}`,u){const[Ge,Ne]=[G.width/2,G.height/2],He=T.projectionMatrix.elements[5]*Ne,{isOrthographicCamera:tt,top:xt,left:Wt,bottom:U,right:L}=T,oe=HX(T.matrixWorldInverse),Ee=tt?`scale(${He})translate(${gw(-(L+Wt)/2)}px,${gw((xt+U)/2)}px)`:`translateZ(${He}px)`;let Ae=te.current.matrixWorld;c&&(Ae=T.matrixWorldInverse.clone().transpose().copyPosition(Ae).scale(te.current.scale),Ae.elements[3]=Ae.elements[7]=Ae.elements[11]=0,Ae.elements[15]=1),ee.style.width=G.width+"px",ee.style.height=G.height+"px",ee.style.perspective=tt?"":`${He}px`,j.current&&z.current&&(j.current.style.transform=`${Ee}${oe}translate(${Ge}px,${Ne}px)`,z.current.style.transform=GX(Ae,1/((l||10)/400)))}else{const Ge=l===void 0?1:UX(te.current,T)*l;ee.style.transform=`translate3d(${_e[0]}px,${_e[1]}px,0) scale(${Ge})`}X.current=_e,F.current=T.zoom}}if(!we&&fe.current&&!ye.current)if(u){if(j.current){const _e=j.current.children[0];if(_e!=null&&_e.clientWidth&&_e!=null&&_e.clientHeight){const{isOrthographicCamera:H}=T;if(H||A)C.scale&&(Array.isArray(C.scale)?C.scale instanceof D?fe.current.scale.copy(C.scale.clone().divideScalar(1)):fe.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):fe.current.scale.setScalar(1/C.scale));else{const ve=(l||10)/400,me=_e.clientWidth*ve,Se=_e.clientHeight*ve;fe.current.scale.set(me,Se,1)}ye.current=!0}}}else{const _e=ee.children[0];if(_e!=null&&_e.clientWidth&&_e!=null&&_e.clientHeight){const H=1/q.factor,ve=_e.clientWidth*H,me=_e.clientHeight*H;fe.current.scale.set(ve,me,1),ye.current=!0}fe.current.lookAt(et.camera.position)}});const nt=k.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return k.createElement("group",Td({},C,{ref:te}),d&&!we&&k.createElement("mesh",{castShadow:m,receiveShadow:y,ref:fe},A||k.createElement("planeGeometry",null),x||k.createElement("shaderMaterial",{side:Vr,vertexShader:nt.vertexShader,fragmentShader:nt.fragmentShader})))}),mP=n=>{let e;const t=new Set,i=(c,u)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const p=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},r=()=>e,a={setState:i,getState:r,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(i,r,a);return a},jX=n=>n?mP(n):mP,XX=n=>n;function JX(n,e=XX){const t=ui.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return ui.useDebugValue(t),t}const gP=n=>{const e=jX(n),t=i=>JX(e,i);return Object.assign(t,e),t},YX=n=>n?gP(n):gP;let df=0;const KX=YX(n=>(Tu.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-df)/(i-df)*100})},Tu.onLoad=()=>{n({active:!1})},Tu.onError=e=>n(t=>({errors:[...t.errors,e]})),Tu.onProgress=(e,t,i)=>{t===i&&(df=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-df)/(i-df)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),qX=(()=>parseInt(Vd.replace(/\D+/g,"")))();function yP(n,e){if(e===XD)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===D0||e===nM){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===D0)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var QX=Object.defineProperty,ZX=(n,e,t)=>e in n?QX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$X=(n,e,t)=>(ZX(n,typeof e!="symbol"?e+"":e,t),t);let eJ=class{constructor(){$X(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};var tJ=Object.defineProperty,nJ=(n,e,t)=>e in n?tJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,st=(n,e,t)=>(nJ(n,typeof e!="symbol"?e+"":e,t),t);const gg=new yc,vP=new _o,iJ=Math.cos(70*(Math.PI/180)),xP=(n,e)=>(n%e+e)%e;let rJ=class extends eJ{constructor(e,t){super(),st(this,"object"),st(this,"domElement"),st(this,"enabled",!0),st(this,"target",new D),st(this,"minDistance",0),st(this,"maxDistance",1/0),st(this,"minZoom",0),st(this,"maxZoom",1/0),st(this,"minPolarAngle",0),st(this,"maxPolarAngle",Math.PI),st(this,"minAzimuthAngle",-1/0),st(this,"maxAzimuthAngle",1/0),st(this,"enableDamping",!1),st(this,"dampingFactor",.05),st(this,"enableZoom",!0),st(this,"zoomSpeed",1),st(this,"enableRotate",!0),st(this,"rotateSpeed",1),st(this,"enablePan",!0),st(this,"panSpeed",1),st(this,"screenSpacePanning",!0),st(this,"keyPanSpeed",7),st(this,"zoomToCursor",!1),st(this,"autoRotate",!1),st(this,"autoRotateSpeed",2),st(this,"reverseOrbit",!1),st(this,"reverseHorizontalOrbit",!1),st(this,"reverseVerticalOrbit",!1),st(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),st(this,"mouseButtons",{LEFT:bl.ROTATE,MIDDLE:bl.DOLLY,RIGHT:bl.PAN}),st(this,"touches",{ONE:Cl.ROTATE,TWO:Cl.DOLLY_PAN}),st(this,"target0"),st(this,"position0"),st(this,"zoom0"),st(this,"_domElementKeyEvents",null),st(this,"getPolarAngle"),st(this,"getAzimuthalAngle"),st(this,"setPolarAngle"),st(this,"setAzimuthalAngle"),st(this,"getDistance"),st(this,"getZoomScale"),st(this,"listenToKeyEvents"),st(this,"stopListenToKeyEvents"),st(this,"saveState"),st(this,"reset"),st(this,"update"),st(this,"connect"),st(this,"dispose"),st(this,"dollyIn"),st(this,"dollyOut"),st(this,"getScale"),st(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=V=>{let ge=xP(V,2*Math.PI),De=u.phi;De<0&&(De+=2*Math.PI),ge<0&&(ge+=2*Math.PI);let W=Math.abs(ge-De);2*Math.PI-W<W&&(ge<De?ge+=2*Math.PI:De+=2*Math.PI),d.phi=ge-De,i.update()},this.setAzimuthalAngle=V=>{let ge=xP(V,2*Math.PI),De=u.theta;De<0&&(De+=2*Math.PI),ge<0&&(ge+=2*Math.PI);let W=Math.abs(ge-De);2*Math.PI-W<W&&(ge<De?ge+=2*Math.PI:De+=2*Math.PI),d.theta=ge-De,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=V=>{V.addEventListener("keydown",Ce),this._domElementKeyEvents=V},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ce),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const V=new D,ge=new D(0,1,0),De=new ni().setFromUnitVectors(e.up,ge),W=De.clone().invert(),Me=new D,ae=new ni,Te=2*Math.PI;return function(){const Tt=i.object.position;De.setFromUnitVectors(e.up,ge),W.copy(De).invert(),V.copy(Tt).sub(i.target),V.applyQuaternion(De),u.setFromVector3(V),i.autoRotate&&l===a.NONE&&q(Q()),i.enableDamping?(u.theta+=d.theta*i.dampingFactor,u.phi+=d.phi*i.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let Bt=i.minAzimuthAngle,Ft=i.maxAzimuthAngle;isFinite(Bt)&&isFinite(Ft)&&(Bt<-Math.PI?Bt+=Te:Bt>Math.PI&&(Bt-=Te),Ft<-Math.PI?Ft+=Te:Ft>Math.PI&&(Ft-=Te),Bt<=Ft?u.theta=Math.max(Bt,Math.min(Ft,u.theta)):u.theta=u.theta>(Bt+Ft)/2?Math.max(Bt,u.theta):Math.min(Ft,u.theta)),u.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,u.phi)),u.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&T||i.object.isOrthographicCamera?u.radius=fe(u.radius):u.radius=fe(u.radius*p),V.setFromSpherical(u),V.applyQuaternion(W),Tt.copy(i.target).add(V),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),m.set(0,0,0));let si=!1;if(i.zoomToCursor&&T){let Lt=null;if(i.object instanceof cn&&i.object.isPerspectiveCamera){const Un=V.length();Lt=fe(Un*p);const vn=Un-Lt;i.object.position.addScaledVector(P,vn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Un=new D(I.x,I.y,0);Un.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),si=!0;const vn=new D(I.x,I.y,0);vn.unproject(i.object),i.object.position.sub(vn).add(Un),i.object.updateMatrixWorld(),Lt=V.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Lt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Lt).add(i.object.position):(gg.origin.copy(i.object.position),gg.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(gg.direction))<iJ?e.lookAt(i.target):(vP.setFromNormalAndCoplanarPoint(i.object.up,i.target),gg.intersectPlane(vP,i.target))))}else i.object instanceof ms&&i.object.isOrthographicCamera&&(si=p!==1,si&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,T=!1,si||Me.distanceToSquared(i.object.position)>c||8*(1-ae.dot(i.object.quaternion))>c?(i.dispatchEvent(r),Me.copy(i.object.position),ae.copy(i.object.quaternion),si=!1,!0):!1}})(),this.connect=V=>{i.domElement=V,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",le),i.domElement.addEventListener("pointerdown",Wt),i.domElement.addEventListener("pointercancel",L),i.domElement.addEventListener("wheel",Ae)},this.dispose=()=>{var V,ge,De,W,Me,ae;i.domElement&&(i.domElement.style.touchAction="auto"),(V=i.domElement)==null||V.removeEventListener("contextmenu",le),(ge=i.domElement)==null||ge.removeEventListener("pointerdown",Wt),(De=i.domElement)==null||De.removeEventListener("pointercancel",L),(W=i.domElement)==null||W.removeEventListener("wheel",Ae),(Me=i.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",U),(ae=i.domElement)==null||ae.ownerDocument.removeEventListener("pointerup",L),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Ce)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new fw,d=new fw;let p=1;const m=new D,y=new pe,x=new pe,A=new pe,g=new pe,w=new pe,_=new pe,M=new pe,b=new pe,C=new pe,P=new D,I=new pe;let T=!1;const B=[],G={};function Q(){return 2*Math.PI/60/60*i.autoRotateSpeed}function J(){return Math.pow(.95,i.zoomSpeed)}function q(V){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=V:d.theta-=V}function ee(V){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=V:d.phi-=V}const ie=(()=>{const V=new D;return function(De,W){V.setFromMatrixColumn(W,0),V.multiplyScalar(-De),m.add(V)}})(),te=(()=>{const V=new D;return function(De,W){i.screenSpacePanning===!0?V.setFromMatrixColumn(W,1):(V.setFromMatrixColumn(W,0),V.crossVectors(i.object.up,V)),V.multiplyScalar(De),m.add(V)}})(),F=(()=>{const V=new D;return function(De,W){const Me=i.domElement;if(Me&&i.object instanceof cn&&i.object.isPerspectiveCamera){const ae=i.object.position;V.copy(ae).sub(i.target);let Te=V.length();Te*=Math.tan(i.object.fov/2*Math.PI/180),ie(2*De*Te/Me.clientHeight,i.object.matrix),te(2*W*Te/Me.clientHeight,i.object.matrix)}else Me&&i.object instanceof ms&&i.object.isOrthographicCamera?(ie(De*(i.object.right-i.object.left)/i.object.zoom/Me.clientWidth,i.object.matrix),te(W*(i.object.top-i.object.bottom)/i.object.zoom/Me.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function X(V){i.object instanceof cn&&i.object.isPerspectiveCamera||i.object instanceof ms&&i.object.isOrthographicCamera?p=V:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function j(V){X(p/V)}function z(V){X(p*V)}function Y(V){if(!i.zoomToCursor||!i.domElement)return;T=!0;const ge=i.domElement.getBoundingClientRect(),De=V.clientX-ge.left,W=V.clientY-ge.top,Me=ge.width,ae=ge.height;I.x=De/Me*2-1,I.y=-(W/ae)*2+1,P.set(I.x,I.y,1).unproject(i.object).sub(i.object.position).normalize()}function fe(V){return Math.max(i.minDistance,Math.min(i.maxDistance,V))}function ye(V){y.set(V.clientX,V.clientY)}function we(V){Y(V),M.set(V.clientX,V.clientY)}function Re(V){g.set(V.clientX,V.clientY)}function Le(V){x.set(V.clientX,V.clientY),A.subVectors(x,y).multiplyScalar(i.rotateSpeed);const ge=i.domElement;ge&&(q(2*Math.PI*A.x/ge.clientHeight),ee(2*Math.PI*A.y/ge.clientHeight)),y.copy(x),i.update()}function ze(V){b.set(V.clientX,V.clientY),C.subVectors(b,M),C.y>0?j(J()):C.y<0&&z(J()),M.copy(b),i.update()}function nt(V){w.set(V.clientX,V.clientY),_.subVectors(w,g).multiplyScalar(i.panSpeed),F(_.x,_.y),g.copy(w),i.update()}function et(V){Y(V),V.deltaY<0?z(J()):V.deltaY>0&&j(J()),i.update()}function _e(V){let ge=!1;switch(V.code){case i.keys.UP:F(0,i.keyPanSpeed),ge=!0;break;case i.keys.BOTTOM:F(0,-i.keyPanSpeed),ge=!0;break;case i.keys.LEFT:F(i.keyPanSpeed,0),ge=!0;break;case i.keys.RIGHT:F(-i.keyPanSpeed,0),ge=!0;break}ge&&(V.preventDefault(),i.update())}function H(){if(B.length==1)y.set(B[0].pageX,B[0].pageY);else{const V=.5*(B[0].pageX+B[1].pageX),ge=.5*(B[0].pageY+B[1].pageY);y.set(V,ge)}}function ve(){if(B.length==1)g.set(B[0].pageX,B[0].pageY);else{const V=.5*(B[0].pageX+B[1].pageX),ge=.5*(B[0].pageY+B[1].pageY);g.set(V,ge)}}function me(){const V=B[0].pageX-B[1].pageX,ge=B[0].pageY-B[1].pageY,De=Math.sqrt(V*V+ge*ge);M.set(0,De)}function Se(){i.enableZoom&&me(),i.enablePan&&ve()}function xe(){i.enableZoom&&me(),i.enableRotate&&H()}function Ge(V){if(B.length==1)x.set(V.pageX,V.pageY);else{const De=Ve(V),W=.5*(V.pageX+De.x),Me=.5*(V.pageY+De.y);x.set(W,Me)}A.subVectors(x,y).multiplyScalar(i.rotateSpeed);const ge=i.domElement;ge&&(q(2*Math.PI*A.x/ge.clientHeight),ee(2*Math.PI*A.y/ge.clientHeight)),y.copy(x)}function Ne(V){if(B.length==1)w.set(V.pageX,V.pageY);else{const ge=Ve(V),De=.5*(V.pageX+ge.x),W=.5*(V.pageY+ge.y);w.set(De,W)}_.subVectors(w,g).multiplyScalar(i.panSpeed),F(_.x,_.y),g.copy(w)}function He(V){const ge=Ve(V),De=V.pageX-ge.x,W=V.pageY-ge.y,Me=Math.sqrt(De*De+W*W);b.set(0,Me),C.set(0,Math.pow(b.y/M.y,i.zoomSpeed)),j(C.y),M.copy(b)}function tt(V){i.enableZoom&&He(V),i.enablePan&&Ne(V)}function xt(V){i.enableZoom&&He(V),i.enableRotate&&Ge(V)}function Wt(V){var ge,De;i.enabled!==!1&&(B.length===0&&((ge=i.domElement)==null||ge.ownerDocument.addEventListener("pointermove",U),(De=i.domElement)==null||De.ownerDocument.addEventListener("pointerup",L)),$e(V),V.pointerType==="touch"?Ye(V):oe(V))}function U(V){i.enabled!==!1&&(V.pointerType==="touch"?Pe(V):Ee(V))}function L(V){var ge,De,W;qe(V),B.length===0&&((ge=i.domElement)==null||ge.releasePointerCapture(V.pointerId),(De=i.domElement)==null||De.ownerDocument.removeEventListener("pointermove",U),(W=i.domElement)==null||W.ownerDocument.removeEventListener("pointerup",L)),i.dispatchEvent(o),l=a.NONE}function oe(V){let ge;switch(V.button){case 0:ge=i.mouseButtons.LEFT;break;case 1:ge=i.mouseButtons.MIDDLE;break;case 2:ge=i.mouseButtons.RIGHT;break;default:ge=-1}switch(ge){case bl.DOLLY:if(i.enableZoom===!1)return;we(V),l=a.DOLLY;break;case bl.ROTATE:if(V.ctrlKey||V.metaKey||V.shiftKey){if(i.enablePan===!1)return;Re(V),l=a.PAN}else{if(i.enableRotate===!1)return;ye(V),l=a.ROTATE}break;case bl.PAN:if(V.ctrlKey||V.metaKey||V.shiftKey){if(i.enableRotate===!1)return;ye(V),l=a.ROTATE}else{if(i.enablePan===!1)return;Re(V),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ee(V){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;Le(V);break;case a.DOLLY:if(i.enableZoom===!1)return;ze(V);break;case a.PAN:if(i.enablePan===!1)return;nt(V);break}}function Ae(V){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(V.preventDefault(),i.dispatchEvent(s),et(V),i.dispatchEvent(o))}function Ce(V){i.enabled===!1||i.enablePan===!1||_e(V)}function Ye(V){switch(Qe(V),B.length){case 1:switch(i.touches.ONE){case Cl.ROTATE:if(i.enableRotate===!1)return;H(),l=a.TOUCH_ROTATE;break;case Cl.PAN:if(i.enablePan===!1)return;ve(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Cl.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Se(),l=a.TOUCH_DOLLY_PAN;break;case Cl.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;xe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Pe(V){switch(Qe(V),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ge(V),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;Ne(V),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;tt(V),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;xt(V),i.update();break;default:l=a.NONE}}function le(V){i.enabled!==!1&&V.preventDefault()}function $e(V){B.push(V)}function qe(V){delete G[V.pointerId];for(let ge=0;ge<B.length;ge++)if(B[ge].pointerId==V.pointerId){B.splice(ge,1);return}}function Qe(V){let ge=G[V.pointerId];ge===void 0&&(ge=new pe,G[V.pointerId]=ge),ge.set(V.pageX,V.pageY)}function Ve(V){const ge=V.pointerId===B[0].pointerId?B[1]:B[0];return G[ge.pointerId]}this.dollyIn=(V=J())=>{z(V),i.update()},this.dollyOut=(V=J())=>{j(V),i.update()},this.getScale=()=>p,this.setScale=V=>{X(V),i.update()},this.getZoomScale=()=>J(),t!==void 0&&this.connect(t),this.update()}};function N0(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Vl="srgb",Io="srgb-linear",AP=3001,sJ=3e3;class JM extends Ri{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new uJ(t)}),this.register(function(t){return new hJ(t)}),this.register(function(t){return new AJ(t)}),this.register(function(t){return new _J(t)}),this.register(function(t){return new wJ(t)}),this.register(function(t){return new dJ(t)}),this.register(function(t){return new pJ(t)}),this.register(function(t){return new mJ(t)}),this.register(function(t){return new gJ(t)}),this.register(function(t){return new cJ(t)}),this.register(function(t){return new yJ(t)}),this.register(function(t){return new fJ(t)}),this.register(function(t){return new xJ(t)}),this.register(function(t){return new vJ(t)}),this.register(function(t){return new aJ(t)}),this.register(function(t){return new SJ(t)}),this.register(function(t){return new MJ(t)})}load(e,t,i,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=ka.extractUrlBase(e);o=ka.resolveURL(c,this.path)}else o=ka.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new _r(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(N0(new Uint8Array(e.slice(0,4)))===TF){try{o[Rt.KHR_BINARY_GLTF]=new EJ(e)}catch(u){r&&r(u);return}s=JSON.parse(o[Rt.KHR_BINARY_GLTF].content)}else s=JSON.parse(N0(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new NJ(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(u){case Rt.KHR_MATERIALS_UNLIT:o[u]=new lJ;break;case Rt.KHR_DRACO_MESH_COMPRESSION:o[u]=new bJ(s,this.dracoLoader);break;case Rt.KHR_TEXTURE_TRANSFORM:o[u]=new CJ;break;case Rt.KHR_MESH_QUANTIZATION:o[u]=new TJ;break;default:d.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function oJ(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Rt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class aJ{constructor(e){this.parser=e,this.name=Rt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new ke(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],Io);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new OM(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new FM(u),c.distance=d;break;case"spot":c=new kM(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,vo(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class lJ{constructor(){this.name=Rt.KHR_MATERIALS_UNLIT}getMaterialType(){return mr}extendParams(e,t,i){const r=[];e.color=new ke(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Io),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,Vl))}return Promise.all(r)}}class cJ{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class uJ{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Qr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new pe(a,a)}return Promise.all(s)}}class hJ{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Qr}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class fJ{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Qr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class dJ{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Qr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new ke(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Io)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Vl)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class pJ{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Qr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class mJ{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Qr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new ke().setRGB(a[0],a[1],a[2],Io),Promise.all(s)}}class gJ{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Qr}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class yJ{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Qr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new ke().setRGB(a[0],a[1],a[2],Io),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,Vl)),Promise.all(s)}}class vJ{constructor(e){this.parser=e,this.name=Rt.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Qr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class xJ{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Qr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class AJ{constructor(e){this.parser=e,this.name=Rt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class _J{constructor(e){this.parser=e,this.name=Rt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class wJ{constructor(e){this.parser=e,this.name=Rt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class SJ{constructor(e){this.name=Rt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,d=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(m),u,d,p,r.mode,r.filter),m})})}else return null}}class MJ{constructor(e){this.name=Rt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==Ur.TRIANGLES&&c.mode!==Ur.TRIANGLE_STRIP&&c.mode!==Ur.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],p=c[0].count,m=[];for(const y of d){const x=new ct,A=new D,g=new ni,w=new D(1,1,1),_=new AM(y.geometry,y.material,p);for(let M=0;M<p;M++)l.TRANSLATION&&A.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,M),l.SCALE&&w.fromBufferAttribute(l.SCALE,M),_.setMatrixAt(M,x.compose(A,g,w));for(const M in l)if(M==="_COLOR_0"){const b=l[M];_.instanceColor=new ac(b.array,b.itemSize,b.normalized)}else M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&y.geometry.setAttribute(M,l[M]);It.prototype.copy.call(_,y),this.parser.assignFinalMaterial(_),m.push(_)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const TF="glTF",pf=12,_P={JSON:1313821514,BIN:5130562};class EJ{constructor(e){this.name=Rt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,pf);if(this.header={magic:N0(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==TF)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-pf,r=new DataView(e,pf);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===_P.JSON){const l=new Uint8Array(e,pf+s,o);this.content=N0(l)}else if(a===_P.BIN){const l=pf+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class bJ{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Rt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=yw[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=yw[u]||u.toLowerCase();if(o[u]!==void 0){const p=i.accessors[e.attributes[u]],m=Xu[p.componentType];c[d]=m.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(d,p){r.decodeDracoFile(u,function(m){for(const y in m.attributes){const x=m.attributes[y],A=l[y];A!==void 0&&(x.normalized=A)}d(m)},a,c,Io,p)})})}}class CJ{constructor(){this.name=Rt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class TJ{constructor(){this.name=Rt.KHR_MESH_QUANTIZATION}}class RF extends Sh{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=r-t,d=(i-t)/u,p=d*d,m=p*d,y=e*c,x=y-c,A=-2*m+3*p,g=m-p,w=1-A,_=g-p+d;for(let M=0;M!==a;M++){const b=o[x+M+a],C=o[x+M+l]*u,P=o[y+M+a],I=o[y+M]*u;s[M]=w*b+_*C+A*P+g*I}return s}}const RJ=new ni;class PJ extends RF{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return RJ.fromArray(s).normalize().toArray(s),s}}const Ur={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Xu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},wP={9728:Mn,9729:dn,9984:vd,9985:Ey,9986:Vu,9987:$s},SP={33071:ci,33648:eh,10497:Ga},WA={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},yw={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...qX>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},la={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},BJ={CUBICSPLINE:void 0,LINEAR:oc,STEP:nh},jA={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function IJ(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new $d({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Zs})),n.DefaultMaterial}function wl(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function vo(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function LJ(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(i){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(r){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],p=c[2];return i&&(n.morphAttributes.position=u),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function DJ(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function kJ(n){let e;const t=n.extensions&&n.extensions[Rt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+XA(t.attributes):e=n.indices+":"+XA(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+XA(n.targets[i]);return e}function XA(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function vw(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function FJ(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const OJ=new ct;class NJ{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new oJ,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new ep(this.options.manager):this.textureLoader=new Qk(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new _r(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return wl(s,a,r),vo(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Rt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(ka.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=WA[r.type],a=Xu[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new zt(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=WA[r.type],c=Xu[r.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,y=r.normalized===!0;let x,A;if(m&&m!==d){const g=Math.floor(p/m),w="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let _=t.cache.get(w);_||(x=new c(a,g*m,r.count*m/u),_=new Yd(x,m/u),t.cache.add(w,_)),A=new Va(_,l,p%m/u,y)}else a===null?x=new c(r.count*l):x=new c(a,p,r.count*l),A=new zt(x,l,y);if(r.sparse!==void 0){const g=WA.SCALAR,w=Xu[r.sparse.indices.componentType],_=r.sparse.indices.byteOffset||0,M=r.sparse.values.byteOffset||0,b=new w(o[1],_,r.sparse.count*g),C=new c(o[2],M,r.sparse.count*l);a!==null&&(A=new zt(A.array.slice(),A.itemSize,A.normalized));for(let P=0,I=b.length;P<I;P++){const T=b[P];if(A.setX(T,C[P*l]),l>=2&&A.setY(T,C[P*l+1]),l>=3&&A.setZ(T,C[P*l+2]),l>=4&&A.setW(T,C[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=wP[p.magFilter]||dn,u.minFilter=wP[p.minFilter]||$s,u.wrapS=SP[p.wrapS]||Ga,u.wrapT=SP[p.wrapT]||Ga,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let y=p;t.isImageBitmapLoader===!0&&(y=function(x){const A=new sn(x);A.needsUpdate=!0,p(A)}),t.load(ka.resolveURL(d,s.path),y,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),vo(d,o),d.userData.mimeType=o.mimeType||FJ(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Rt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Rt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Rt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===AP?Vl:Io),"colorSpace"in o?o.colorSpace=r:o.encoding=r===Vl?AP:sJ),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Dy,Xn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Ti,Xn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return $d}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Rt.KHR_MATERIALS_UNLIT]){const d=r[Rt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new ke(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],Io),a.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,Vl)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Vr);const u=s.alphaMode||jA.OPAQUE;if(u===jA.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===jA.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==mr&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new pe(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}if(s.occlusionTexture!==void 0&&o!==mr&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==mr){const d=s.emissiveFactor;a.emissive=new ke().setRGB(d[0],d[1],d[2],Io)}return s.emissiveTexture!==void 0&&o!==mr&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Vl)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),vo(d,s),t.associations.set(d,{materials:e}),s.extensions&&wl(r,d,s),d})}createUniqueName(e){const t=Dt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Rt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return MP(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=kJ(c),d=r[u];if(d)o.push(d.promise);else{let p;c.extensions&&c.extensions[Rt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=MP(new vt,c,t),r[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?IJ(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let m=0,y=u.length;m<y;m++){const x=u[m],A=o[m];let g;const w=c[m];if(A.mode===Ur.TRIANGLES||A.mode===Ur.TRIANGLE_STRIP||A.mode===Ur.TRIANGLE_FAN||A.mode===void 0)g=s.isSkinnedMesh===!0?new xM(x,w):new jn(x,w),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),A.mode===Ur.TRIANGLE_STRIP?g.geometry=yP(g.geometry,nM):A.mode===Ur.TRIANGLE_FAN&&(g.geometry=yP(g.geometry,D0));else if(A.mode===Ur.LINES)g=new Cs(x,w);else if(A.mode===Ur.LINE_STRIP)g=new Vo(x,w);else if(A.mode===Ur.LINE_LOOP)g=new _M(x,w);else if(A.mode===Ur.POINTS)g=new wM(x,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(g.geometry.morphAttributes).length>0&&DJ(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),vo(g,s),A.extensions&&wl(r,g,A),t.assignFinalMaterial(g),d.push(g)}for(let m=0,y=d.length;m<y;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&wl(r,d[0],s),d[0];const p=new Co;s.extensions&&wl(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,y=d.length;m<y;m++)p.add(d[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new cn(oM.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new ms(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),vo(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d){a.push(d);const p=new ct;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Kd(a,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],c=[],u=[];for(let d=0,p=r.channels.length;d<p;d++){const m=r.channels[d],y=r.samplers[m.sampler],x=m.target,A=x.node,g=r.parameters!==void 0?r.parameters[y.input]:y.input,w=r.parameters!==void 0?r.parameters[y.output]:y.output;x.node!==void 0&&(o.push(this.getDependency("node",A)),a.push(this.getDependency("accessor",g)),l.push(this.getDependency("accessor",w)),c.push(y),u.push(x))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(d){const p=d[0],m=d[1],y=d[2],x=d[3],A=d[4],g=[];for(let w=0,_=p.length;w<_;w++){const M=p[w],b=m[w],C=y[w],P=x[w],I=A[w];if(M===void 0)continue;M.updateMatrix&&M.updateMatrix();const T=i._createAnimationTracks(M,b,C,P,I);if(T)for(let B=0;B<T.length;B++)g.push(T[B])}return new sh(s,void 0,g)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,u=a.length;c<u;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],d=c[1],p=c[2];p!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(p,OJ)});for(let m=0,y=d.length;m<y;m++)u.add(d[m]);return u})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new Ly:c.length>1?u=new Co:c.length===1?u=c[0]:u=new It,u!==c[0])for(let d=0,p=c.length;d<p;d++)u.add(c[d]);if(s.name&&(u.userData.name=s.name,u.name=o),vo(u,s),s.extensions&&wl(i,u,s),s.matrix!==void 0){const d=new ct;d.fromArray(s.matrix),u.applyMatrix4(d)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Co;i.name&&(s.name=r.createUniqueName(i.name)),vo(s,i),i.extensions&&wl(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)s.add(l[u]);const c=u=>{const d=new Map;for(const[p,m]of r.associations)(p instanceof Xn||p instanceof sn)&&d.set(p,m);return u.traverse(p=>{const m=r.associations.get(p);m!=null&&d.set(p,m)}),d};return r.associations=c(s),s})}_createAnimationTracks(e,t,i,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];la[s.path]===la.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let c;switch(la[s.path]){case la.weights:c=cc;break;case la.rotation:c=Wa;break;case la.position:case la.scale:c=uc;break;default:switch(i.itemSize){case 1:c=cc;break;case 2:case 3:default:c=uc;break}break}const u=r.interpolation!==void 0?BJ[r.interpolation]:oc,d=this._getArrayFromAccessor(i);for(let p=0,m=l.length;p<m;p++){const y=new c(l[p]+"."+la[s.path],t.array,d,u);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(y),o.push(y)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=vw(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof Wa?PJ:RF;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function UJ(n,e,t){const i=e.attributes,r=new bs;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new D(l[0],l[1],l[2]),new D(c[0],c[1],c[2])),a.normalized){const u=vw(Xu[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new D,l=new D;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const x=vw(Xu[p.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new qr;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function MP(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=yw[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return vo(n,e),UJ(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?LJ(n,e.targets,t):n})}class zJ extends vt{constructor(e,t,i,r){super();const s=[],o=[],a=[],l=new D,c=new ct;c.makeRotationFromEuler(i),c.setPosition(t);const u=new ct;u.copy(c).invert(),d(),this.setAttribute("position",new Je(s,3)),this.setAttribute("normal",new Je(o,3)),this.setAttribute("uv",new Je(a,2));function d(){let x,A=[];const g=new D,w=new D;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const _=e.geometry,M=_.attributes.position,b=_.attributes.normal;if(_.index!==null){const C=_.index;for(x=0;x<C.count;x++)g.fromBufferAttribute(M,C.getX(x)),w.fromBufferAttribute(b,C.getX(x)),p(A,g,w)}else for(x=0;x<M.count;x++)g.fromBufferAttribute(M,x),w.fromBufferAttribute(b,x),p(A,g,w);for(A=m(A,l.set(1,0,0)),A=m(A,l.set(-1,0,0)),A=m(A,l.set(0,1,0)),A=m(A,l.set(0,-1,0)),A=m(A,l.set(0,0,1)),A=m(A,l.set(0,0,-1)),x=0;x<A.length;x++){const C=A[x];a.push(.5+C.position.x/r.x,.5+C.position.y/r.y),C.position.applyMatrix4(c),s.push(C.position.x,C.position.y,C.position.z),o.push(C.normal.x,C.normal.y,C.normal.z)}}function p(x,A,g){A.applyMatrix4(e.matrixWorld),A.applyMatrix4(u),g.transformDirection(e.matrixWorld),x.push(new EP(A.clone(),g.clone()))}function m(x,A){const g=[],w=.5*Math.abs(r.dot(A));for(let _=0;_<x.length;_+=3){let M,b,C,P=0,I,T,B,G;const Q=x[_+0].position.dot(A)-w,J=x[_+1].position.dot(A)-w,q=x[_+2].position.dot(A)-w;switch(M=Q>0,b=J>0,C=q>0,P=(M?1:0)+(b?1:0)+(C?1:0),P){case 0:{g.push(x[_]),g.push(x[_+1]),g.push(x[_+2]);break}case 1:{if(M&&(I=x[_+1],T=x[_+2],B=y(x[_],I,A,w),G=y(x[_],T,A,w)),b){I=x[_],T=x[_+2],B=y(x[_+1],I,A,w),G=y(x[_+1],T,A,w),g.push(B),g.push(T.clone()),g.push(I.clone()),g.push(T.clone()),g.push(B.clone()),g.push(G);break}C&&(I=x[_],T=x[_+1],B=y(x[_+2],I,A,w),G=y(x[_+2],T,A,w)),g.push(I.clone()),g.push(T.clone()),g.push(B),g.push(G),g.push(B.clone()),g.push(T.clone());break}case 2:{M||(I=x[_].clone(),T=y(I,x[_+1],A,w),B=y(I,x[_+2],A,w),g.push(I),g.push(T),g.push(B)),b||(I=x[_+1].clone(),T=y(I,x[_+2],A,w),B=y(I,x[_],A,w),g.push(I),g.push(T),g.push(B)),C||(I=x[_+2].clone(),T=y(I,x[_],A,w),B=y(I,x[_+1],A,w),g.push(I),g.push(T),g.push(B));break}}}return g}function y(x,A,g,w){const _=x.position.dot(g)-w,M=A.position.dot(g)-w,b=_/(_-M);return new EP(new D(x.position.x+b*(A.position.x-x.position.x),x.position.y+b*(A.position.y-x.position.y),x.position.z+b*(A.position.z-x.position.z)),new D(x.normal.x+b*(A.normal.x-x.normal.x),x.normal.y+b*(A.normal.y-x.normal.y),x.normal.z+b*(A.normal.z-x.normal.z)))}}}class EP{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const JA=new WeakMap;class HJ extends Ri{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new _r(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(JA.has(e)){const l=JA.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[s]={resolve:c,reject:u},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),JA.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new vt;e.index&&t.setIndex(new zt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new zt(o,a))}return t}_loadLibrary(e,t){const i=new _r(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=GJ.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function GJ(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(d,p,m,c),x=y.attributes.map(A=>A.array.buffer);y.index&&x.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},x)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{d.destroy(m),d.destroy(p)}});break}};function t(o,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const x={index:null,attributes:[]};for(const A in u){const g=self[d[A]];let w,_;if(c.useUniqueIDs)_=u[A],w=a.GetAttributeByUniqueId(p,_);else{if(_=a.GetAttributeId(p,o[u[A]]),_===-1)continue;w=a.GetAttribute(p,_)}x.attributes.push(r(o,a,p,A,g,w))}return y===o.TRIANGULAR_MESH&&(x.index=i(o,a,p)),o.destroy(p),x}function i(o,a,l){const u=l.num_faces()*3,d=u*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,u,d){const p=d.num_components(),y=l.num_points()*p,x=y*u.BYTES_PER_ELEMENT,A=s(o,u),g=o._malloc(x);a.GetAttributeDataArrayForAllPoints(l,d,A,x,g);const w=new u(o.HEAPF32.buffer,g,y).slice();return o._free(g),{name:c,array:w,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let yg;const YA=()=>{if(yg)return yg;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let y=0;y<d.length;++y){const x=d.charCodeAt(y);p[y]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let m=0;for(let y=0;y<d.length;++y)p[m++]=p[y]<60?i[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(d,p,m,y,x,A){const g=s.exports.sbrk,w=m+3&-4,_=g(w*y),M=g(x.length),b=new Uint8Array(s.exports.memory.buffer);b.set(x,M);const C=d(_,m,y,M,x.length);if(C===0&&A&&A(_,w,y),p.set(b.subarray(_,_+m*y)),g(_-g(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return yg={ready:o,supported:!0,decodeVertexBuffer(d,p,m,y,x){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,y,s.exports[c[x]])},decodeIndexBuffer(d,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,y)},decodeIndexSequence(d,p,m,y){l(s.exports.meshopt_decodeIndexSequence,d,p,m,y)},decodeGltfBuffer(d,p,m,y,x,A){l(s.exports[u[x]],d,p,m,y,s.exports[c[A]])}},yg},KA=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function YM(n,e){const t=dr(s=>s.gl),i=tl(ep,KA(n)?Object.values(n):n);return k.useLayoutEffect(()=>{e==null||e(i)},[e]),k.useEffect(()=>{if("initTexture"in t){let s=[];Array.isArray(i)?s=i:i instanceof sn?s=[i]:KA(i)&&(s=Object.values(i)),s.forEach(o=>{o instanceof sn&&t.initTexture(o)})}},[t,i]),k.useMemo(()=>{if(KA(n)){const s={};let o=0;for(const a in n)s[a]=i[o++];return s}else return i},[n,i])}YM.preload=n=>tl.preload(ep,n);YM.clear=n=>tl.clear(ep,n);function VJ(n){return Array.isArray(n)}function qA(n=[0,0,0]){return VJ(n)?n:n instanceof D||n instanceof vc?[n.x,n.y,n.z]:[n,n,n]}const WJ=k.forwardRef(function({debug:e,depthTest:t=!1,polygonOffsetFactor:i=-10,map:r,mesh:s,children:o,position:a,rotation:l,scale:c,...u},d){const p=k.useRef(null);k.useImperativeHandle(d,()=>p.current);const m=k.useRef(null),y=k.useRef({position:new D,rotation:new vc,scale:new D(1,1,1)});return k.useLayoutEffect(()=>{const x=(s==null?void 0:s.current)||p.current.parent,A=p.current;if(!(x instanceof jn))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');if(x){zs(y.current,{position:a,scale:c});const g=x.matrixWorld.clone();if(x.matrixWorld.identity(),!l||typeof l=="number"){const w=new It;w.position.copy(y.current.position);const _=x.geometry.attributes.position.array;x.geometry.attributes.normal===void 0&&x.geometry.computeVertexNormals();const M=x.geometry.attributes.normal.array;let b=1/0;new D;let C=new D;const P=w.position.x,I=w.position.y,T=w.position.z,B=_.length;let G=-1;for(let Q=0;Q<B;Q+=3){const J=_[Q],q=_[Q+1],ee=_[Q+2],ie=J-P,te=q-I,F=ee-T,X=ie*ie+te*te+F*F;X<b&&(b=X,G=Q)}C.fromArray(M,G),w.lookAt(w.position.clone().add(C)),w.rotateZ(Math.PI),w.rotateY(Math.PI),typeof l=="number"&&w.rotateZ(l),zs(y.current,{rotation:w.rotation})}else zs(y.current,{rotation:l});return A.geometry=new zJ(x,y.current.position,y.current.rotation,y.current.scale),x.matrixWorld=g,()=>{A.geometry.dispose()}}},[s,...qA(a),...qA(c),...qA(l)]),k.useLayoutEffect(()=>{m.current&&(zs(m.current,y.current),m.current.traverse(x=>x.raycast=()=>null))},[e]),k.createElement("mesh",Td({ref:p,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":i,"material-depthTest":t,"material-map":r},u),o,e&&k.createElement("mesh",{ref:m},k.createElement("boxGeometry",null),k.createElement("meshNormalMaterial",{wireframe:!0}),k.createElement("axesHelper",null)))});let vg=null,PF="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function BF(n=!0,e=!0,t){return i=>{t&&t(i),n&&(vg||(vg=new HJ),vg.setDecoderPath(typeof n=="string"?n:PF),i.setDRACOLoader(vg)),e&&i.setMeshoptDecoder(typeof YA=="function"?YA():YA)}}const $y=(n,e,t,i)=>tl(JM,n,BF(e,t,i));$y.preload=(n,e,t,i)=>tl.preload(JM,n,BF(e,t,i));$y.clear=n=>tl.clear(JM,n);$y.setDecoderPath=n=>{PF=n};const IF=k.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const d=dr(C=>C.invalidate),p=dr(C=>C.camera),m=dr(C=>C.gl),y=dr(C=>C.events),x=dr(C=>C.setEvents),A=dr(C=>C.set),g=dr(C=>C.get),w=dr(C=>C.performance),_=e||p,M=i||y.connected||m.domElement,b=k.useMemo(()=>new rJ(_),[_]);return WM(()=>{b.enabled&&b.update()},-1),k.useEffect(()=>(s&&b.connect(s===!0?M:s),b.connect(M),()=>void b.dispose()),[s,M,t,b,d]),k.useEffect(()=>{const C=T=>{d(),t&&w.regress(),o&&o(T)},P=T=>{a&&a(T)},I=T=>{l&&l(T)};return b.addEventListener("change",C),b.addEventListener("start",P),b.addEventListener("end",I),()=>{b.removeEventListener("start",P),b.removeEventListener("end",I),b.removeEventListener("change",C)}},[o,a,l,b,d,x]),k.useEffect(()=>{if(n){const C=g().controls;return A({controls:b}),()=>A({controls:C})}},[n,b]),k.createElement("primitive",Td({ref:u,object:b,enableDamping:r},c))});var LF={exports:{}},jJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",XJ=jJ,JJ=XJ;function DF(){}function kF(){}kF.resetWarningCache=DF;var YJ=function(){function n(i,r,s,o,a,l){if(l!==JJ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kF,resetWarningCache:DF};return t.PropTypes=t,t};LF.exports=YJ();var KM=LF.exports;const Fn=Yw(KM),KJ=k.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:s=[-.1,.1],autoInvalidate:o=!1,...a},l)=>{const c=k.useRef(null);k.useImperativeHandle(l,()=>c.current,[]);const u=k.useRef(Math.random()*1e4);return WM(d=>{var p,m;if(!e||t===0)return;o&&d.invalidate();const y=u.current+d.clock.elapsedTime;c.current.rotation.x=Math.cos(y/4*t)/8*i,c.current.rotation.y=Math.sin(y/4*t)/8*i,c.current.rotation.z=Math.sin(y/4*t)/20*i;let x=Math.sin(y/4*t)/10;x=oM.mapLinear(x,-.1,.1,(p=s==null?void 0:s[0])!==null&&p!==void 0?p:-.1,(m=s==null?void 0:s[1])!==null&&m!==void 0?m:.1),c.current.position.y=x*r,c.current.updateMatrix()}),k.createElement("group",a,k.createElement("group",{ref:c,matrixAutoUpdate:!1},n))});function FF({all:n,scene:e,camera:t}){const i=dr(({gl:o})=>o),r=dr(({camera:o})=>o),s=dr(({scene:o})=>o);return k.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),i.compile(e||s,t||r);const a=new fM(128);new hM(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}var Qi=function(){return Qi=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Qi.apply(this,arguments)};function U0(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}var tn="-ms-",Gf="-moz-",Vt="-webkit-",OF="comm",ev="rule",qM="decl",qJ="@import",NF="@keyframes",QJ="@layer",UF=Math.abs,QM=String.fromCharCode,xw=Object.assign;function ZJ(n,e){return ei(n,0)^45?(((e<<2^ei(n,0))<<2^ei(n,1))<<2^ei(n,2))<<2^ei(n,3):0}function zF(n){return n.trim()}function xo(n,e){return(n=e.exec(n))?n[0]:n}function St(n,e,t){return n.replace(e,t)}function Kg(n,e,t){return n.indexOf(e,t)}function ei(n,e){return n.charCodeAt(e)|0}function ah(n,e,t){return n.slice(e,t)}function Hs(n){return n.length}function HF(n){return n.length}function bf(n,e){return e.push(n),n}function $J(n,e){return n.map(e).join("")}function bP(n,e){return n.filter(function(t){return!xo(t,e)})}var tv=1,lh=1,GF=0,Yr=0,On=0,Mh="";function nv(n,e,t,i,r,s,o,a){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:tv,column:lh,length:o,return:"",siblings:a}}function ha(n,e){return xw(nv("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function cu(n){for(;n.root;)n=ha(n.root,{children:[n]});bf(n,n.siblings)}function e7(){return On}function t7(){return On=Yr>0?ei(Mh,--Yr):0,lh--,On===10&&(lh=1,tv--),On}function gs(){return On=Yr<GF?ei(Mh,Yr++):0,lh++,On===10&&(lh=1,tv++),On}function Zl(){return ei(Mh,Yr)}function qg(){return Yr}function iv(n,e){return ah(Mh,n,e)}function Aw(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function n7(n){return tv=lh=1,GF=Hs(Mh=n),Yr=0,[]}function i7(n){return Mh="",n}function QA(n){return zF(iv(Yr-1,_w(n===91?n+2:n===40?n+1:n)))}function r7(n){for(;(On=Zl())&&On<33;)gs();return Aw(n)>2||Aw(On)>3?"":" "}function s7(n,e){for(;--e&&gs()&&!(On<48||On>102||On>57&&On<65||On>70&&On<97););return iv(n,qg()+(e<6&&Zl()==32&&gs()==32))}function _w(n){for(;gs();)switch(On){case n:return Yr;case 34:case 39:n!==34&&n!==39&&_w(On);break;case 40:n===41&&_w(n);break;case 92:gs();break}return Yr}function o7(n,e){for(;gs()&&n+On!==47+10;)if(n+On===42+42&&Zl()===47)break;return"/*"+iv(e,Yr-1)+"*"+QM(n===47?n:gs())}function a7(n){for(;!Aw(Zl());)gs();return iv(n,Yr)}function l7(n){return i7(Qg("",null,null,null,[""],n=n7(n),0,[0],n))}function Qg(n,e,t,i,r,s,o,a,l){for(var c=0,u=0,d=o,p=0,m=0,y=0,x=1,A=1,g=1,w=0,_="",M=r,b=s,C=i,P=_;A;)switch(y=w,w=gs()){case 40:if(y!=108&&ei(P,d-1)==58){Kg(P+=St(QA(w),"&","&\f"),"&\f",UF(c?a[c-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:P+=QA(w);break;case 9:case 10:case 13:case 32:P+=r7(y);break;case 92:P+=s7(qg()-1,7);continue;case 47:switch(Zl()){case 42:case 47:bf(c7(o7(gs(),qg()),e,t,l),l);break;default:P+="/"}break;case 123*x:a[c++]=Hs(P)*g;case 125*x:case 59:case 0:switch(w){case 0:case 125:A=0;case 59+u:g==-1&&(P=St(P,/\f/g,"")),m>0&&Hs(P)-d&&bf(m>32?TP(P+";",i,t,d-1,l):TP(St(P," ","")+";",i,t,d-2,l),l);break;case 59:P+=";";default:if(bf(C=CP(P,e,t,c,u,r,a,_,M=[],b=[],d,s),s),w===123)if(u===0)Qg(P,e,C,C,M,s,d,a,b);else switch(p===99&&ei(P,3)===110?100:p){case 100:case 108:case 109:case 115:Qg(n,C,C,i&&bf(CP(n,C,C,0,0,r,a,_,r,M=[],d,b),b),r,b,d,a,i?M:b);break;default:Qg(P,C,C,C,[""],b,0,a,b)}}c=u=m=0,x=g=1,_=P="",d=o;break;case 58:d=1+Hs(P),m=y;default:if(x<1){if(w==123)--x;else if(w==125&&x++==0&&t7()==125)continue}switch(P+=QM(w),w*x){case 38:g=u>0?1:(P+="\f",-1);break;case 44:a[c++]=(Hs(P)-1)*g,g=1;break;case 64:Zl()===45&&(P+=QA(gs())),p=Zl(),u=d=Hs(_=P+=a7(qg())),w++;break;case 45:y===45&&Hs(P)==2&&(x=0)}}return s}function CP(n,e,t,i,r,s,o,a,l,c,u,d){for(var p=r-1,m=r===0?s:[""],y=HF(m),x=0,A=0,g=0;x<i;++x)for(var w=0,_=ah(n,p+1,p=UF(A=o[x])),M=n;w<y;++w)(M=zF(A>0?m[w]+" "+_:St(_,/&\f/g,m[w])))&&(l[g++]=M);return nv(n,e,t,r===0?ev:a,l,c,u,d)}function c7(n,e,t,i){return nv(n,e,t,OF,QM(e7()),ah(n,2,-2),0,i)}function TP(n,e,t,i,r){return nv(n,e,t,qM,ah(n,0,i),ah(n,i+1,-1),i,r)}function VF(n,e,t){switch(ZJ(n,e)){case 5103:return Vt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Vt+n+n;case 4789:return Gf+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Vt+n+Gf+n+tn+n+n;case 5936:switch(ei(n,e+11)){case 114:return Vt+n+tn+St(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Vt+n+tn+St(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Vt+n+tn+St(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Vt+n+tn+n+n;case 6165:return Vt+n+tn+"flex-"+n+n;case 5187:return Vt+n+St(n,/(\w+).+(:[^]+)/,Vt+"box-$1$2"+tn+"flex-$1$2")+n;case 5443:return Vt+n+tn+"flex-item-"+St(n,/flex-|-self/g,"")+(xo(n,/flex-|baseline/)?"":tn+"grid-row-"+St(n,/flex-|-self/g,""))+n;case 4675:return Vt+n+tn+"flex-line-pack"+St(n,/align-content|flex-|-self/g,"")+n;case 5548:return Vt+n+tn+St(n,"shrink","negative")+n;case 5292:return Vt+n+tn+St(n,"basis","preferred-size")+n;case 6060:return Vt+"box-"+St(n,"-grow","")+Vt+n+tn+St(n,"grow","positive")+n;case 4554:return Vt+St(n,/([^-])(transform)/g,"$1"+Vt+"$2")+n;case 6187:return St(St(St(n,/(zoom-|grab)/,Vt+"$1"),/(image-set)/,Vt+"$1"),n,"")+n;case 5495:case 3959:return St(n,/(image-set\([^]*)/,Vt+"$1$`$1");case 4968:return St(St(n,/(.+:)(flex-)?(.*)/,Vt+"box-pack:$3"+tn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Vt+n+n;case 4200:if(!xo(n,/flex-|baseline/))return tn+"grid-column-align"+ah(n,e)+n;break;case 2592:case 3360:return tn+St(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(i,r){return e=r,xo(i.props,/grid-\w+-end/)})?~Kg(n+(t=t[e].value),"span",0)?n:tn+St(n,"-start","")+n+tn+"grid-row-span:"+(~Kg(t,"span",0)?xo(t,/\d+/):+xo(t,/\d+/)-+xo(n,/\d+/))+";":tn+St(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(i){return xo(i.props,/grid-\w+-start/)})?n:tn+St(St(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return St(n,/(.+)-inline(.+)/,Vt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hs(n)-1-e>6)switch(ei(n,e+1)){case 109:if(ei(n,e+4)!==45)break;case 102:return St(n,/(.+:)(.+)-([^]+)/,"$1"+Vt+"$2-$3$1"+Gf+(ei(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Kg(n,"stretch",0)?VF(St(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return St(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,r,s,o,a,l,c){return tn+r+":"+s+c+(o?tn+r+"-span:"+(a?l:+l-+s)+c:"")+n});case 4949:if(ei(n,e+6)===121)return St(n,":",":"+Vt)+n;break;case 6444:switch(ei(n,ei(n,14)===45?18:11)){case 120:return St(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Vt+(ei(n,14)===45?"inline-":"")+"box$3$1"+Vt+"$2$3$1"+tn+"$2box$3")+n;case 100:return St(n,":",":"+tn)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return St(n,"scroll-","scroll-snap-")+n}return n}function z0(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function u7(n,e,t,i){switch(n.type){case QJ:if(n.children.length)break;case qJ:case qM:return n.return=n.return||n.value;case OF:return"";case NF:return n.return=n.value+"{"+z0(n.children,i)+"}";case ev:if(!Hs(n.value=n.props.join(",")))return""}return Hs(t=z0(n.children,i))?n.return=n.value+"{"+t+"}":""}function h7(n){var e=HF(n);return function(t,i,r,s){for(var o="",a=0;a<e;a++)o+=n[a](t,i,r,s)||"";return o}}function f7(n){return function(e){e.root||(e=e.return)&&n(e)}}function d7(n,e,t,i){if(n.length>-1&&!n.return)switch(n.type){case qM:n.return=VF(n.value,n.length,t);return;case NF:return z0([ha(n,{value:St(n.value,"@","@"+Vt)})],i);case ev:if(n.length)return $J(t=n.props,function(r){switch(xo(r,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":cu(ha(n,{props:[St(r,/:(read-\w+)/,":"+Gf+"$1")]})),cu(ha(n,{props:[r]})),xw(n,{props:bP(t,i)});break;case"::placeholder":cu(ha(n,{props:[St(r,/:(plac\w+)/,":"+Vt+"input-$1")]})),cu(ha(n,{props:[St(r,/:(plac\w+)/,":"+Gf+"$1")]})),cu(ha(n,{props:[St(r,/:(plac\w+)/,tn+"input-$1")]})),cu(ha(n,{props:[r]})),xw(n,{props:bP(t,i)});break}return""})}}var p7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ch=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",WF="active",jF="data-styled-version",rv="6.1.16",ZM=`/*!sc*/
`,H0=typeof window<"u"&&"HTMLElement"in window,m7=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),sv=Object.freeze([]),uh=Object.freeze({});function g7(n,e,t){return t===void 0&&(t=uh),n.theme!==t.theme&&n.theme||e||t.theme}var XF=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),y7=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,v7=/(^-|-$)/g;function RP(n){return n.replace(y7,"-").replace(v7,"")}var x7=/(a)(d)/gi,xg=52,PP=function(n){return String.fromCharCode(n+(n>25?39:97))};function ww(n){var e,t="";for(e=Math.abs(n);e>xg;e=e/xg|0)t=PP(e%xg)+t;return(PP(e%xg)+t).replace(x7,"$1-$2")}var ZA,JF=5381,Pu=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},YF=function(n){return Pu(JF,n)};function A7(n){return ww(YF(n)>>>0)}function _7(n){return n.displayName||n.name||"Component"}function $A(n){return typeof n=="string"&&!0}var KF=typeof Symbol=="function"&&Symbol.for,qF=KF?Symbol.for("react.memo"):60115,w7=KF?Symbol.for("react.forward_ref"):60112,S7={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},M7={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},QF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},E7=((ZA={})[w7]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ZA[qF]=QF,ZA);function BP(n){return("type"in(e=n)&&e.type.$$typeof)===qF?QF:"$$typeof"in n?E7[n.$$typeof]:S7;var e}var b7=Object.defineProperty,C7=Object.getOwnPropertyNames,IP=Object.getOwnPropertySymbols,T7=Object.getOwnPropertyDescriptor,R7=Object.getPrototypeOf,LP=Object.prototype;function ZF(n,e,t){if(typeof e!="string"){if(LP){var i=R7(e);i&&i!==LP&&ZF(n,i,t)}var r=C7(e);IP&&(r=r.concat(IP(e)));for(var s=BP(n),o=BP(e),a=0;a<r.length;++a){var l=r[a];if(!(l in M7||t&&t[l]||o&&l in o||s&&l in s)){var c=T7(e,l);try{b7(n,l,c)}catch{}}}}return n}function hh(n){return typeof n=="function"}function $M(n){return typeof n=="object"&&"styledComponentId"in n}function Wl(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function DP(n,e){if(n.length===0)return"";for(var t=n[0],i=1;i<n.length;i++)t+=e?e+n[i]:n[i];return t}function Rd(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function Sw(n,e,t){if(t===void 0&&(t=!1),!t&&!Rd(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)n[i]=Sw(n[i],e[i]);else if(Rd(e))for(var i in e)n[i]=Sw(n[i],e[i]);return n}function eE(n,e){Object.defineProperty(n,"toString",{value:e})}function ip(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var P7=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,r=i.length,s=r;e>=s;)if((s<<=1)<0)throw ip(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var o=r;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,t.length);o<l;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),r=i+t;this.groupSizes[e]=0;for(var s=i;s<r;s++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var i=this.groupSizes[e],r=this.indexOfGroup(e),s=r+i,o=r;o<s;o++)t+="".concat(this.tag.getRule(o)).concat(ZM);return t},n}(),Zg=new Map,G0=new Map,$g=1,Ag=function(n){if(Zg.has(n))return Zg.get(n);for(;G0.has($g);)$g++;var e=$g++;return Zg.set(n,e),G0.set(e,n),e},B7=function(n,e){$g=e+1,Zg.set(n,e),G0.set(e,n)},I7="style[".concat(ch,"][").concat(jF,'="').concat(rv,'"]'),L7=new RegExp("^".concat(ch,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),D7=function(n,e,t){for(var i,r=t.split(","),s=0,o=r.length;s<o;s++)(i=r[s])&&n.registerName(e,i)},k7=function(n,e){for(var t,i=((t=e.textContent)!==null&&t!==void 0?t:"").split(ZM),r=[],s=0,o=i.length;s<o;s++){var a=i[s].trim();if(a){var l=a.match(L7);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(B7(u,c),D7(n,u,l[3]),n.getTag().insertRules(c,r)),r.length=0}else r.push(a)}}},kP=function(n){for(var e=document.querySelectorAll(I7),t=0,i=e.length;t<i;t++){var r=e[t];r&&r.getAttribute(ch)!==WF&&(k7(n,r),r.parentNode&&r.parentNode.removeChild(r))}};function F7(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var $F=function(n){var e=document.head,t=n||e,i=document.createElement("style"),r=function(a){var l=Array.from(a.querySelectorAll("style[".concat(ch,"]")));return l[l.length-1]}(t),s=r!==void 0?r.nextSibling:null;i.setAttribute(ch,WF),i.setAttribute(jF,rv);var o=F7();return o&&i.setAttribute("nonce",o),t.insertBefore(i,s),i},O7=function(){function n(e){this.element=$F(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var i=document.styleSheets,r=0,s=i.length;r<s;r++){var o=i[r];if(o.ownerNode===t)return o}throw ip(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),N7=function(){function n(e){this.element=$F(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),U7=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),FP=H0,z7={isServer:!H0,useCSSOMInjection:!m7},eO=function(){function n(e,t,i){e===void 0&&(e=uh),t===void 0&&(t={});var r=this;this.options=Qi(Qi({},z7),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&H0&&FP&&(FP=!1,kP(this)),eE(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var p=function(g){return G0.get(g)}(d);if(p===void 0)return"continue";var m=s.names.get(p),y=o.getGroup(d);if(m===void 0||!m.size||y.length===0)return"continue";var x="".concat(ch,".g").concat(d,'[id="').concat(p,'"]'),A="";m!==void 0&&m.forEach(function(g){g.length>0&&(A+="".concat(g,","))}),l+="".concat(y).concat(x,'{content:"').concat(A,'"}').concat(ZM)},u=0;u<a;u++)c(u);return l}(r)})}return n.registerId=function(e){return Ag(e)},n.prototype.rehydrate=function(){!this.server&&H0&&kP(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Qi(Qi({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var i=t.useCSSOMInjection,r=t.target;return t.isServer?new U7(r):i?new O7(r):new N7(r)}(this.options),new P7(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(Ag(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},n.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(Ag(e),i)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(Ag(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),H7=/&/g,G7=/^\s*\/\/.*$/gm;function tO(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=tO(t.children,e)),t})}function V7(n){var e,t,i,r=n===void 0?uh:n,s=r.options,o=s===void 0?uh:s,a=r.plugins,l=a===void 0?sv:a,c=function(p,m,y){return y.startsWith(t)&&y.endsWith(t)&&y.replaceAll(t,"").length>0?".".concat(e):p},u=l.slice();u.push(function(p){p.type===ev&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(H7,t).replace(i,c))}),o.prefix&&u.push(d7),u.push(u7);var d=function(p,m,y,x){m===void 0&&(m=""),y===void 0&&(y=""),x===void 0&&(x="&"),e=x,t=m,i=new RegExp("\\".concat(t,"\\b"),"g");var A=p.replace(G7,""),g=l7(y||m?"".concat(y," ").concat(m," { ").concat(A," }"):A);o.namespace&&(g=tO(g,o.namespace));var w=[];return z0(g,h7(u.concat(f7(function(_){return w.push(_)})))),w};return d.hash=l.length?l.reduce(function(p,m){return m.name||ip(15),Pu(p,m.name)},JF).toString():"",d}var W7=new eO,Mw=V7(),nO=ui.createContext({shouldForwardProp:void 0,styleSheet:W7,stylis:Mw});nO.Consumer;ui.createContext(void 0);function OP(){return k.useContext(nO)}var j7=function(){function n(e,t){var i=this;this.inject=function(r,s){s===void 0&&(s=Mw);var o=i.name+s.hash;r.hasNameForId(i.id,o)||r.insertRules(i.id,o,s(i.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,eE(this,function(){throw ip(12,String(i.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=Mw),this.name+e.hash},n}(),X7=function(n){return n>="A"&&n<="Z"};function NP(n){for(var e="",t=0;t<n.length;t++){var i=n[t];if(t===1&&i==="-"&&n[0]==="-")return n;X7(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var iO=function(n){return n==null||n===!1||n===""},rO=function(n){var e,t,i=[];for(var r in n){var s=n[r];n.hasOwnProperty(r)&&!iO(s)&&(Array.isArray(s)&&s.isCss||hh(s)?i.push("".concat(NP(r),":"),s,";"):Rd(s)?i.push.apply(i,U0(U0(["".concat(r," {")],rO(s),!1),["}"],!1)):i.push("".concat(NP(r),": ").concat((e=r,(t=s)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in p7||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return i};function $l(n,e,t,i){if(iO(n))return[];if($M(n))return[".".concat(n.styledComponentId)];if(hh(n)){if(!hh(s=n)||s.prototype&&s.prototype.isReactComponent||!e)return[n];var r=n(e);return $l(r,e,t,i)}var s;return n instanceof j7?t?(n.inject(t,i),[n.getName(i)]):[n]:Rd(n)?rO(n):Array.isArray(n)?Array.prototype.concat.apply(sv,n.map(function(o){return $l(o,e,t,i)})):[n.toString()]}function J7(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(hh(t)&&!$M(t))return!1}return!0}var Y7=YF(rv),K7=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&J7(e),this.componentId=t,this.baseHash=Pu(Y7,t),this.baseStyle=i,eO.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Wl(r,this.staticRulesId);else{var s=DP($l(this.rules,e,t,i)),o=ww(Pu(this.baseHash,s)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=i(s,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}r=Wl(r,o),this.staticRulesId=o}else{for(var l=Pu(this.baseHash,i.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var p=DP($l(d,e,t,i));l=Pu(l,p+u),c+=p}}if(c){var m=ww(l>>>0);t.hasNameForId(this.componentId,m)||t.insertRules(this.componentId,m,i(c,".".concat(m),void 0,this.componentId)),r=Wl(r,m)}}return r},n}(),sO=ui.createContext(void 0);sO.Consumer;var e_={};function q7(n,e,t){var i=$M(n),r=n,s=!$A(n),o=e.attrs,a=o===void 0?sv:o,l=e.componentId,c=l===void 0?function(M,b){var C=typeof M!="string"?"sc":RP(M);e_[C]=(e_[C]||0)+1;var P="".concat(C,"-").concat(A7(rv+C+e_[C]));return b?"".concat(b,"-").concat(P):P}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(M){return $A(M)?"styled.".concat(M):"Styled(".concat(_7(M),")")}(n):u,p=e.displayName&&e.componentId?"".concat(RP(e.displayName),"-").concat(e.componentId):e.componentId||c,m=i&&r.attrs?r.attrs.concat(a).filter(Boolean):a,y=e.shouldForwardProp;if(i&&r.shouldForwardProp){var x=r.shouldForwardProp;if(e.shouldForwardProp){var A=e.shouldForwardProp;y=function(M,b){return x(M,b)&&A(M,b)}}else y=x}var g=new K7(t,p,i?r.componentStyle:void 0);function w(M,b){return function(C,P,I){var T=C.attrs,B=C.componentStyle,G=C.defaultProps,Q=C.foldedComponentIds,J=C.styledComponentId,q=C.target,ee=ui.useContext(sO),ie=OP(),te=C.shouldForwardProp||ie.shouldForwardProp,F=g7(P,ee,G)||uh,X=function(we,Re,Le){for(var ze,nt=Qi(Qi({},Re),{className:void 0,theme:Le}),et=0;et<we.length;et+=1){var _e=hh(ze=we[et])?ze(nt):ze;for(var H in _e)nt[H]=H==="className"?Wl(nt[H],_e[H]):H==="style"?Qi(Qi({},nt[H]),_e[H]):_e[H]}return Re.className&&(nt.className=Wl(nt.className,Re.className)),nt}(T,P,F),j=X.as||q,z={};for(var Y in X)X[Y]===void 0||Y[0]==="$"||Y==="as"||Y==="theme"&&X.theme===F||(Y==="forwardedAs"?z.as=X.forwardedAs:te&&!te(Y,j)||(z[Y]=X[Y]));var fe=function(we,Re){var Le=OP(),ze=we.generateAndInjectStyles(Re,Le.styleSheet,Le.stylis);return ze}(B,X),ye=Wl(Q,J);return fe&&(ye+=" "+fe),X.className&&(ye+=" "+X.className),z[$A(j)&&!XF.has(j)?"class":"className"]=ye,I&&(z.ref=I),k.createElement(j,z)}(_,M,b)}w.displayName=d;var _=ui.forwardRef(w);return _.attrs=m,_.componentStyle=g,_.displayName=d,_.shouldForwardProp=y,_.foldedComponentIds=i?Wl(r.foldedComponentIds,r.styledComponentId):"",_.styledComponentId=p,_.target=i?r.target:n,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(M){this._foldedDefaultProps=i?function(b){for(var C=[],P=1;P<arguments.length;P++)C[P-1]=arguments[P];for(var I=0,T=C;I<T.length;I++)Sw(b,T[I],!0);return b}({},r.defaultProps,M):M}}),eE(_,function(){return".".concat(_.styledComponentId)}),s&&ZF(_,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function UP(n,e){for(var t=[n[0]],i=0,r=e.length;i<r;i+=1)t.push(e[i],n[i+1]);return t}var zP=function(n){return Object.assign(n,{isCss:!0})};function Q7(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(hh(n)||Rd(n))return zP($l(UP(sv,U0([n],e,!0))));var i=n;return e.length===0&&i.length===1&&typeof i[0]=="string"?$l(i):zP($l(UP(i,e)))}function Ew(n,e,t){if(t===void 0&&(t=uh),!e)throw ip(1,e);var i=function(r){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return n(e,t,Q7.apply(void 0,U0([r],s,!1)))};return i.attrs=function(r){return Ew(n,e,Qi(Qi({},t),{attrs:Array.prototype.concat(t.attrs,r).filter(Boolean)}))},i.withConfig=function(r){return Ew(n,e,Qi(Qi({},t),r))},i}var oO=function(n){return Ew(q7,n)},aO=oO;XF.forEach(function(n){aO[n]=oO(n)});const Z7=aO.div`
    progress {
      margin-right: 10px;
      -webkit-appearance: none;
      appearance: none;
      border-radius: 20px;
    }

    progress[value] {
      width: ${n=>n.width};
      -webkit-appearance: none;
      appearance: none;
    }

    progress[value]::-webkit-progress-bar {
      height: 20px;
      border-radius: 20px;
      background-color: #ffffff;
    }

    progress[value]::-webkit-progress-value {
      height: 20px;
      border-radius: 20px;
      background-color: #915eff;
    }
`,lO=()=>{const{progress:n}=KX();return console.log(n.toFixed(2)),$.jsxs(WX,{children:[$.jsx("span",{className:"canvas-load"}),$.jsx(Z7,{color:"white",width:"200px",children:$.jsx("progress",{max:100,value:n.toFixed(2),style:{fontSize:14,color:"lightBlue",backgroundColor:"#ffffff",fontWeight:800,marginTop:40,width:"200px",height:"20px"}})})]})},$7=()=>{const n=$y("./planet/scene.gltf");return $.jsx("primitive",{object:n.scene,scale:2.5,"position-y":0,"rotation-y":0})},eY=()=>$.jsx(bF,{shadows:!0,frameloop:"demand",gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:$.jsxs(k.Suspense,{fallback:$.jsx(lO,{}),children:[$.jsx(FF,{all:!0}),$.jsx(IF,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),$.jsx($7,{})]})}),tE=k.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),ov=k.createContext({}),av=k.createContext(null),lv=typeof document<"u",rp=lv?k.useLayoutEffect:k.useEffect,cO=k.createContext({strict:!1}),nE=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),tY="framerAppearId",uO="data-"+nE(tY);function nY(n,e,t,i){const{visualElement:r}=k.useContext(ov),s=k.useContext(cO),o=k.useContext(av),a=k.useContext(tE).reducedMotion,l=k.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;k.useInsertionEffect(()=>{c&&c.update(t,o)});const u=k.useRef(!!(t[uO]&&!window.HandoffComplete));return rp(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),k.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function Bu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function iY(n,e,t){return k.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Bu(t)&&(t.current=i))},[e])}function Pd(n){return typeof n=="string"||Array.isArray(n)}function cv(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const iE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rE=["initial",...iE];function uv(n){return cv(n.animate)||rE.some(e=>Pd(n[e]))}function hO(n){return!!(uv(n)||n.variants)}function rY(n,e){if(uv(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Pd(t)?t:void 0,animate:Pd(i)?i:void 0}}return n.inherit!==!1?e:{}}function sY(n){const{initial:e,animate:t}=rY(n,k.useContext(ov));return k.useMemo(()=>({initial:e,animate:t}),[HP(e),HP(t)])}function HP(n){return Array.isArray(n)?n.join(" "):n}const GP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bd={};for(const n in GP)Bd[n]={isEnabled:e=>GP[n].some(t=>!!e[t])};function oY(n){for(const e in n)Bd[e]={...Bd[e],...n[e]}}const sE=k.createContext({}),fO=k.createContext({}),aY=Symbol.for("motionComponentSymbol");function lY({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&oY(n);function s(a,l){let c;const u={...k.useContext(tE),...a,layoutId:cY(a)},{isStatic:d}=u,p=sY(a),m=i(a,d);if(!d&&lv){p.visualElement=nY(r,m,u,e);const y=k.useContext(fO),x=k.useContext(cO).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,x,n,y))}return k.createElement(ov.Provider,{value:p},c&&p.visualElement?k.createElement(c,{visualElement:p.visualElement,...u}):null,t(r,a,iY(m,p.visualElement,l),m,d,p.visualElement))}const o=k.forwardRef(s);return o[aY]=r,o}function cY({layoutId:n}){const e=k.useContext(sE).id;return e&&n!==void 0?e+"-"+n:n}function uY(n){function e(i,r={}){return lY(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const hY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oE(n){return typeof n!="string"||n.includes("-")?!1:!!(hY.indexOf(n)>-1||/[A-Z]/.test(n))}const V0={};function fY(n){Object.assign(V0,n)}const sp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sc=new Set(sp);function dO(n,{layout:e,layoutId:t}){return Sc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!V0[n]||n==="opacity")}const nr=n=>!!(n&&n.getVelocity),dY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pY=sp.length;function mY(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<pY;o++){const a=sp[o];if(n[a]!==void 0){const l=dY[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const pO=n=>e=>typeof e=="string"&&e.startsWith(n),mO=pO("--"),bw=pO("var(--"),gY=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,yY=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ja=(n,e,t)=>Math.min(Math.max(t,n),e),Mc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Vf={...Mc,transform:n=>ja(0,1,n)},_g={...Mc,default:1},Wf=n=>Math.round(n*1e5)/1e5,hv=/(-)?([\d]*\.?[\d])+/g,gO=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,vY=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function op(n){return typeof n=="string"}const ap=n=>({test:e=>op(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),fa=ap("deg"),Qs=ap("%"),lt=ap("px"),xY=ap("vh"),AY=ap("vw"),VP={...Qs,parse:n=>Qs.parse(n)/100,transform:n=>Qs.transform(n*100)},WP={...Mc,transform:Math.round},yO={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,size:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,rotate:fa,rotateX:fa,rotateY:fa,rotateZ:fa,scale:_g,scaleX:_g,scaleY:_g,scaleZ:_g,skew:fa,skewX:fa,skewY:fa,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:Vf,originX:VP,originY:VP,originZ:lt,zIndex:WP,fillOpacity:Vf,strokeOpacity:Vf,numOctaves:WP};function aE(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,u=!0;for(const d in e){const p=e[d];if(mO(d)){s[d]=p;continue}const m=yO[d],y=yY(p,m);if(Sc.has(d)){if(l=!0,o[d]=y,!u)continue;p!==(m.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=y):r[d]=y}if(e.transform||(l||i?r.transform=mY(n.transform,t,u,i):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const lE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vO(n,e,t){for(const i in e)!nr(e[i])&&!dO(i,t)&&(n[i]=e[i])}function _Y({transformTemplate:n},e,t){return k.useMemo(()=>{const i=lE();return aE(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function wY(n,e,t){const i=n.style||{},r={};return vO(r,i,n),Object.assign(r,_Y(n,e,t)),n.transformValues?n.transformValues(r):r}function SY(n,e,t){const i={},r=wY(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const MY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function W0(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||MY.has(n)}let xO=n=>!W0(n);function EY(n){n&&(xO=e=>e.startsWith("on")?!W0(e):n(e))}try{EY(require("@emotion/is-prop-valid").default)}catch{}function bY(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(xO(r)||t===!0&&W0(r)||!e&&!W0(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function jP(n,e,t){return typeof n=="string"?n:lt.transform(e+t*n)}function CY(n,e,t){const i=jP(e,n.x,n.width),r=jP(t,n.y,n.height);return`${i} ${r}`}const TY={offset:"stroke-dashoffset",array:"stroke-dasharray"},RY={offset:"strokeDashoffset",array:"strokeDasharray"};function PY(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?TY:RY;n[s.offset]=lt.transform(-i);const o=lt.transform(e),a=lt.transform(t);n[s.array]=`${o} ${a}`}function cE(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d,p){if(aE(n,c,u,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:y,dimensions:x}=n;m.transform&&(x&&(y.transform=m.transform),delete m.transform),x&&(r!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=CY(x,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&PY(m,o,a,l,!1)}const AO=()=>({...lE(),attrs:{}}),uE=n=>typeof n=="string"&&n.toLowerCase()==="svg";function BY(n,e,t,i){const r=k.useMemo(()=>{const s=AO();return cE(s,e,{enableHardwareAcceleration:!1},uE(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};vO(s,n.style,n),r.style={...s,...r.style}}return r}function IY(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(oE(t)?BY:SY)(i,s,o,t),u={...bY(i,typeof t=="string",n),...l,ref:r},{children:d}=i,p=k.useMemo(()=>nr(d)?d.get():d,[d]);return k.createElement(t,{...u,children:p})}}function _O(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const wO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SO(n,e,t,i){_O(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(wO.has(r)?r:nE(r),e.attrs[r])}function hE(n,e){const{style:t}=n,i={};for(const r in t)(nr(t[r])||e.style&&nr(e.style[r])||dO(r,n))&&(i[r]=t[r]);return i}function MO(n,e){const t=hE(n,e);for(const i in n)if(nr(n[i])||nr(e[i])){const r=sp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[r]=n[i]}return t}function fE(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}function lp(n){const e=k.useRef(null);return e.current===null&&(e.current=n()),e.current}const j0=n=>Array.isArray(n),LY=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),DY=n=>j0(n)?n[n.length-1]||0:n;function e0(n){const e=nr(n)?n.get():n;return LY(e)?e.toValue():e}function kY({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:FY(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const EO=n=>(e,t)=>{const i=k.useContext(ov),r=k.useContext(av),s=()=>kY(n,e,i,r);return t?s():lp(s)};function FY(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=e0(s[p]);let{initial:o,animate:a}=n;const l=uv(n),c=hO(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!cv(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const y=fE(n,m);if(!y)return;const{transitionEnd:x,transition:A,...g}=y;for(const w in g){let _=g[w];if(Array.isArray(_)){const M=u?_.length-1:0;_=_[M]}_!==null&&(r[w]=_)}for(const w in x)r[w]=x[w]}),r}const bn=n=>n;class XP{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function OY(n){let e=new XP,t=new XP,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&r,p=d?e:t;return c&&o.add(l),p.add(l)&&d&&r&&(i=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let c=0;c<i;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const wg=["prepare","read","update","preRender","render","postRender"],NY=40;function UY(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=wg.reduce((d,p)=>(d[p]=OY(()=>t=!0),d),{}),o=d=>s[d].process(r),a=()=>{const d=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(d-r.timestamp,NY),1),r.timestamp=d,r.isProcessing=!0,wg.forEach(o),r.isProcessing=!1,t&&e&&(i=!1,n(a))},l=()=>{t=!0,i=!0,r.isProcessing||n(a)};return{schedule:wg.reduce((d,p)=>{const m=s[p];return d[p]=(y,x=!1,A=!1)=>(t||l(),m.schedule(y,x,A)),d},{}),cancel:d=>wg.forEach(p=>s[p].cancel(d)),state:r,steps:s}}const{schedule:Gt,cancel:Ss,state:li,steps:t_}=UY(typeof requestAnimationFrame<"u"?requestAnimationFrame:bn,!0),zY={useVisualState:EO({scrapeMotionValuesFromProps:MO,createRenderState:AO,onMount:(n,e,{renderState:t,latestValues:i})=>{Gt.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Gt.render(()=>{cE(t,i,{enableHardwareAcceleration:!1},uE(e.tagName),n.transformTemplate),SO(e,t)})}})},HY={useVisualState:EO({scrapeMotionValuesFromProps:hE,createRenderState:lE})};function GY(n,{forwardMotionProps:e=!1},t,i){return{...oE(n)?zY:HY,preloadedFeatures:t,useRender:IY(e),createVisualElement:i,Component:n}}function To(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const bO=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function fv(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const VY=n=>e=>bO(e)&&n(e,fv(e));function Lo(n,e,t,i){return To(n,e,VY(t),i)}const WY=(n,e)=>t=>e(n(t)),Fa=(...n)=>n.reduce(WY);function CO(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const JP=CO("dragHorizontal"),YP=CO("dragVertical");function TO(n){let e=!1;if(n==="y")e=YP();else if(n==="x")e=JP();else{const t=JP(),i=YP();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function RO(){const n=TO(!0);return n?(n(),!1):!0}class nl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function KP(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.pointerType==="touch"||RO())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&Gt.update(()=>a[i](s,o))};return Lo(n.current,t,r,{passive:!n.getProps()[i]})}class jY extends nl{mount(){this.unmount=Fa(KP(this.node,!0),KP(this.node,!1))}unmount(){}}class XY extends nl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fa(To(this.node.current,"focus",()=>this.onFocus()),To(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const PO=(n,e)=>e?n===e?!0:PO(n,e.parentElement):!1;function n_(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,fv(t))}class JY extends nl{constructor(){super(...arguments),this.removeStartListeners=bn,this.removeEndListeners=bn,this.removeAccessibleListeners=bn,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=Lo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();Gt.update(()=>{!d&&!PO(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=Lo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Fa(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||n_("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Gt.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=To(this.node.current,"keyup",o),n_("down",(a,l)=>{this.startPress(a,l)})},t=To(this.node.current,"keydown",e),i=()=>{this.isPressing&&n_("cancel",(s,o)=>this.cancelPress(s,o))},r=To(this.node.current,"blur",i);this.removeAccessibleListeners=Fa(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Gt.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!RO()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Gt.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=Lo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=To(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fa(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Cw=new WeakMap,i_=new WeakMap,YY=n=>{const e=Cw.get(n.target);e&&e(n)},KY=n=>{n.forEach(YY)};function qY({root:n,...e}){const t=n||document;i_.has(t)||i_.set(t,{});const i=i_.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(KY,{root:n,...e})),i[r]}function QY(n,e,t){const i=qY(e);return Cw.set(n,t),i.observe(n),()=>{Cw.delete(n),i.unobserve(n)}}const ZY={some:0,all:1};class $Y extends nl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:ZY[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return QY(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(eK(e,t))&&this.startObserver()}unmount(){}}function eK({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const tK={inView:{Feature:$Y},tap:{Feature:JY},focus:{Feature:XY},hover:{Feature:jY}};function BO(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function nK(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function iK(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function dv(n,e,t){const i=n.getProps();return fE(i,e,t!==void 0?t:i.custom,nK(n),iK(n))}let IO=bn,pv=bn;const Oa=n=>n*1e3,Do=n=>n/1e3,rK={current:!1},LO=n=>Array.isArray(n)&&typeof n[0]=="number";function DO(n){return!!(!n||typeof n=="string"&&kO[n]||LO(n)||Array.isArray(n)&&n.every(DO))}const Cf=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,kO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cf([0,.65,.55,1]),circOut:Cf([.55,0,1,.45]),backIn:Cf([.31,.01,.66,-.59]),backOut:Cf([.33,1.53,.69,.99])};function FO(n){if(n)return LO(n)?Cf(n):Array.isArray(n)?n.map(FO):kO[n]}function sK(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=FO(a);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:i,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function oK(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const OO=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,aK=1e-7,lK=12;function cK(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=OO(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>aK&&++a<lK);return o}function cp(n,e,t,i){if(n===e&&t===i)return bn;const r=s=>cK(s,0,1,n,t);return s=>s===0||s===1?s:OO(r(s),e,i)}const uK=cp(.42,0,1,1),hK=cp(0,0,.58,1),NO=cp(.42,0,.58,1),fK=n=>Array.isArray(n)&&typeof n[0]!="number",UO=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,zO=n=>e=>1-n(1-e),dE=n=>1-Math.sin(Math.acos(n)),HO=zO(dE),dK=UO(dE),GO=cp(.33,1.53,.69,.99),pE=zO(GO),pK=UO(pE),mK=n=>(n*=2)<1?.5*pE(n):.5*(2-Math.pow(2,-10*(n-1))),gK={linear:bn,easeIn:uK,easeInOut:NO,easeOut:hK,circIn:dE,circInOut:dK,circOut:HO,backIn:pE,backInOut:pK,backOut:GO,anticipate:mK},qP=n=>{if(Array.isArray(n)){pv(n.length===4);const[e,t,i,r]=n;return cp(e,t,i,r)}else if(typeof n=="string")return gK[n];return n},mE=(n,e)=>t=>!!(op(t)&&vY.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),VO=(n,e,t)=>i=>{if(!op(i))return i;const[r,s,o,a]=i.match(hv);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},yK=n=>ja(0,255,n),r_={...Mc,transform:n=>Math.round(yK(n))},jl={test:mE("rgb","red"),parse:VO("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+r_.transform(n)+", "+r_.transform(e)+", "+r_.transform(t)+", "+Wf(Vf.transform(i))+")"};function vK(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Tw={test:mE("#"),parse:vK,transform:jl.transform},Iu={test:mE("hsl","hue"),parse:VO("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Qs.transform(Wf(e))+", "+Qs.transform(Wf(t))+", "+Wf(Vf.transform(i))+")"},Di={test:n=>jl.test(n)||Tw.test(n)||Iu.test(n),parse:n=>jl.test(n)?jl.parse(n):Iu.test(n)?Iu.parse(n):Tw.parse(n),transform:n=>op(n)?n:n.hasOwnProperty("red")?jl.transform(n):Iu.transform(n)},mn=(n,e,t)=>-t*n+t*e+n;function s_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function xK({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=s_(l,a,n+1/3),s=s_(l,a,n),o=s_(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const o_=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},AK=[Tw,jl,Iu],_K=n=>AK.find(e=>e.test(n));function QP(n){const e=_K(n);let t=e.parse(n);return e===Iu&&(t=xK(t)),t}const WO=(n,e)=>{const t=QP(n),i=QP(e),r={...t};return s=>(r.red=o_(t.red,i.red,s),r.green=o_(t.green,i.green,s),r.blue=o_(t.blue,i.blue,s),r.alpha=mn(t.alpha,i.alpha,s),jl.transform(r))};function wK(n){var e,t;return isNaN(n)&&op(n)&&(((e=n.match(hv))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(gO))===null||t===void 0?void 0:t.length)||0)>0}const jO={regex:gY,countKey:"Vars",token:"${v}",parse:bn},XO={regex:gO,countKey:"Colors",token:"${c}",parse:Di.parse},JO={regex:hv,countKey:"Numbers",token:"${n}",parse:Mc.parse};function a_(n,{regex:e,countKey:t,token:i,parse:r}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...s.map(r)))}function X0(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&a_(t,jO),a_(t,XO),a_(t,JO),t}function YO(n){return X0(n).values}function KO(n){const{values:e,numColors:t,numVars:i,tokenised:r}=X0(n),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(jO.token,o[l]):l<i+t?a=a.replace(XO.token,Di.transform(o[l])):a=a.replace(JO.token,Wf(o[l]));return a}}const SK=n=>typeof n=="number"?0:n;function MK(n){const e=YO(n);return KO(n)(e.map(SK))}const Xa={test:wK,parse:YO,createTransformer:KO,getAnimatableNone:MK},qO=(n,e)=>t=>`${t>0?e:n}`;function QO(n,e){return typeof n=="number"?t=>mn(n,e,t):Di.test(n)?WO(n,e):n.startsWith("var(")?qO(n,e):$O(n,e)}const ZO=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>QO(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},EK=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=QO(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},$O=(n,e)=>{const t=Xa.createTransformer(e),i=X0(n),r=X0(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Fa(ZO(i.values,r.values),t):qO(n,e)},fh=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},ZP=(n,e)=>t=>mn(n,e,t);function bK(n){return typeof n=="number"?ZP:typeof n=="string"?Di.test(n)?WO:$O:Array.isArray(n)?ZO:typeof n=="object"?EK:ZP}function CK(n,e,t){const i=[],r=t||bK(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||bn:e;a=Fa(l,a)}i.push(a)}return i}function mv(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(pv(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=CK(e,i,r),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const d=fh(n[u],n[u+1],c);return o[u](d)};return t?c=>l(ja(n[0],n[s-1],c)):l}function TK(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=fh(0,e,i);n.push(mn(t,1,r))}}function e3(n){const e=[0];return TK(e,n.length-1),e}function RK(n,e){return n.map(t=>t*e)}function PK(n,e){return n.map(()=>e||NO).splice(0,n.length-1)}function J0({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=fK(i)?i.map(qP):qP(i),s={done:!1,value:e[0]},o=RK(t&&t.length===e.length?t:e3(e),n),a=mv(o,e,{ease:Array.isArray(r)?r:PK(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function gE(n,e){return e?n*(1e3/e):0}const BK=5;function t3(n,e,t){const i=Math.max(e-BK,0);return gE(t-n(i),e-i)}const l_=.001,IK=.01,$P=10,LK=.05,DK=1;function kK({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;IO(n<=Oa($P));let o=1-e;o=ja(LK,DK,o),n=ja(IK,$P,Do(n)),o<1?(r=c=>{const u=c*o,d=u*n,p=u-t,m=Rw(c,o),y=Math.exp(-d);return l_-p/m*y},s=c=>{const d=c*o*n,p=d*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,y=Math.exp(-d),x=Rw(Math.pow(c,2),o);return(-r(c)+l_>0?-1:1)*((p-m)*y)/x}):(r=c=>{const u=Math.exp(-c*n),d=(c-t)*n+1;return-l_+u*d},s=c=>{const u=Math.exp(-c*n),d=(t-c)*(n*n);return u*d});const a=5/n,l=OK(r,s,a);if(n=Oa(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const FK=12;function OK(n,e,t){let i=t;for(let r=1;r<FK;r++)i=i-n(i)/e(i);return i}function Rw(n,e){return n*Math.sqrt(1-e*e)}const NK=["duration","bounce"],UK=["stiffness","damping","mass"];function e2(n,e){return e.some(t=>n[t]!==void 0)}function zK(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!e2(n,UK)&&e2(n,NK)){const t=kK(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function n3({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:p}=zK({...i,velocity:-Do(i.velocity||0)}),m=d||0,y=l/(2*Math.sqrt(a*c)),x=s-r,A=Do(Math.sqrt(a/c)),g=Math.abs(x)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let w;if(y<1){const _=Rw(A,y);w=M=>{const b=Math.exp(-y*A*M);return s-b*((m+y*A*x)/_*Math.sin(_*M)+x*Math.cos(_*M))}}else if(y===1)w=_=>s-Math.exp(-A*_)*(x+(m+A*x)*_);else{const _=A*Math.sqrt(y*y-1);w=M=>{const b=Math.exp(-y*A*M),C=Math.min(_*M,300);return s-b*((m+y*A*x)*Math.sinh(C)+_*x*Math.cosh(C))/_}}return{calculatedDuration:p&&u||null,next:_=>{const M=w(_);if(p)o.done=_>=u;else{let b=m;_!==0&&(y<1?b=t3(w,_,M):b=0);const C=Math.abs(b)<=t,P=Math.abs(s-M)<=e;o.done=C&&P}return o.value=o.done?s:M,o}}}function t2({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=n[0],p={done:!1,value:d},m=I=>a!==void 0&&I<a||l!==void 0&&I>l,y=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let x=t*e;const A=d+x,g=o===void 0?A:o(A);g!==A&&(x=g-d);const w=I=>-x*Math.exp(-I/i),_=I=>g+w(I),M=I=>{const T=w(I),B=_(I);p.done=Math.abs(T)<=c,p.value=p.done?g:B};let b,C;const P=I=>{m(p.value)&&(b=I,C=n3({keyframes:[p.value,y(p.value)],velocity:t3(_,I,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:I=>{let T=!1;return!C&&b===void 0&&(T=!0,M(I),P(I)),b!==void 0&&I>b?C.next(I-b):(!T&&M(I),p)}}}const HK=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Gt.update(e,!0),stop:()=>Ss(e),now:()=>li.isProcessing?li.timestamp:performance.now()}},n2=2e4;function i2(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<n2;)e+=t,i=n.next(e);return e>=n2?1/0:e}const GK={decay:t2,inertia:t2,tween:J0,keyframes:J0,spring:n3};function Y0({autoplay:n=!0,delay:e=0,driver:t=HK,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...p}){let m=1,y=!1,x,A;const g=()=>{A=new Promise(z=>{x=z})};g();let w;const _=GK[r]||J0;let M;_!==J0&&typeof i[0]!="number"&&(M=mv([0,100],i,{clamp:!1}),i=[0,100]);const b=_({...p,keyframes:i});let C;a==="mirror"&&(C=_({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let P="idle",I=null,T=null,B=null;b.calculatedDuration===null&&s&&(b.calculatedDuration=i2(b));const{calculatedDuration:G}=b;let Q=1/0,J=1/0;G!==null&&(Q=G+o,J=Q*(s+1)-o);let q=0;const ee=z=>{if(T===null)return;m>0&&(T=Math.min(T,z)),m<0&&(T=Math.min(z-J/m,T)),I!==null?q=I:q=Math.round(z-T)*m;const Y=q-e*(m>=0?1:-1),fe=m>=0?Y<0:Y>J;q=Math.max(Y,0),P==="finished"&&I===null&&(q=J);let ye=q,we=b;if(s){const nt=Math.min(q,J)/Q;let et=Math.floor(nt),_e=nt%1;!_e&&nt>=1&&(_e=1),_e===1&&et--,et=Math.min(et,s+1),!!(et%2)&&(a==="reverse"?(_e=1-_e,o&&(_e-=o/Q)):a==="mirror"&&(we=C)),ye=ja(0,1,_e)*Q}const Re=fe?{done:!1,value:i[0]}:we.next(ye);M&&(Re.value=M(Re.value));let{done:Le}=Re;!fe&&G!==null&&(Le=m>=0?q>=J:q<=0);const ze=I===null&&(P==="finished"||P==="running"&&Le);return d&&d(Re.value),ze&&F(),Re},ie=()=>{w&&w.stop(),w=void 0},te=()=>{P="idle",ie(),x(),g(),T=B=null},F=()=>{P="finished",u&&u(),ie(),x()},X=()=>{if(y)return;w||(w=t(ee));const z=w.now();l&&l(),I!==null?T=z-I:(!T||P==="finished")&&(T=z),P==="finished"&&g(),B=T,I=null,P="running",w.start()};n&&X();const j={then(z,Y){return A.then(z,Y)},get time(){return Do(q)},set time(z){z=Oa(z),q=z,I!==null||!w||m===0?I=z:T=w.now()-z/m},get duration(){const z=b.calculatedDuration===null?i2(b):b.calculatedDuration;return Do(z)},get speed(){return m},set speed(z){z===m||!w||(m=z,j.time=Do(q))},get state(){return P},play:X,pause:()=>{P="paused",I=q},stop:()=>{y=!0,P!=="idle"&&(P="idle",c&&c(),te())},cancel:()=>{B!==null&&ee(B),te()},complete:()=>{P="finished"},sample:z=>(T=0,ee(z))};return j}function VK(n){let e;return()=>(e===void 0&&(e=n()),e)}const WK=VK(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jK=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Sg=10,XK=2e4,JK=(n,e)=>e.type==="spring"||n==="backgroundColor"||!DO(e.ease);function YK(n,e,{onUpdate:t,onComplete:i,...r}){if(!(WK()&&jK.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(_=>{a=_})};u();let{keyframes:d,duration:p=300,ease:m,times:y}=r;if(JK(e,r)){const _=Y0({...r,repeat:0,delay:0});let M={done:!1,value:d[0]};const b=[];let C=0;for(;!M.done&&C<XK;)M=_.sample(C),b.push(M.value),C+=Sg;y=void 0,d=b,p=C-Sg,m="linear"}const x=sK(n.owner.current,e,d,{...r,duration:p,ease:m,times:y}),A=()=>{c=!1,x.cancel()},g=()=>{c=!0,Gt.update(A),a(),u()};return x.onfinish=()=>{c||(n.set(oK(d,r)),i&&i(),g())},{then(_,M){return l.then(_,M)},attachTimeline(_){return x.timeline=_,x.onfinish=null,bn},get time(){return Do(x.currentTime||0)},set time(_){x.currentTime=Oa(_)},get speed(){return x.playbackRate},set speed(_){x.playbackRate=_},get duration(){return Do(p)},play:()=>{o||(x.play(),Ss(A))},pause:()=>x.pause(),stop:()=>{if(o=!0,x.playState==="idle")return;const{currentTime:_}=x;if(_){const M=Y0({...r,autoplay:!1});n.setWithVelocity(M.sample(_-Sg).value,M.sample(_).value,Sg)}g()},complete:()=>{c||x.finish()},cancel:g}}function KK({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:bn,pause:bn,stop:bn,then:s=>(s(),Promise.resolve()),cancel:bn,complete:bn});return e?Y0({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const qK={type:"spring",stiffness:500,damping:25,restSpeed:10},QK=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),ZK={type:"keyframes",duration:.8},$K={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eq=(n,{keyframes:e})=>e.length>2?ZK:Sc.has(n)?n.startsWith("scale")?QK(e[1]):qK:$K,Pw=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xa.test(e)||e==="0")&&!e.startsWith("url(")),tq=new Set(["brightness","contrast","saturate","opacity"]);function nq(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(hv)||[];if(!i)return n;const r=t.replace(i,"");let s=tq.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const iq=/([a-z-]*)\(.*?\)/g,Bw={...Xa,getAnimatableNone:n=>{const e=n.match(iq);return e?e.map(nq).join(" "):n}},rq={...yO,color:Di,backgroundColor:Di,outlineColor:Di,fill:Di,stroke:Di,borderColor:Di,borderTopColor:Di,borderRightColor:Di,borderBottomColor:Di,borderLeftColor:Di,filter:Bw,WebkitFilter:Bw},yE=n=>rq[n];function i3(n,e){let t=yE(n);return t!==Bw&&(t=Xa),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const r3=n=>/^0[^.\s]+$/.test(n);function sq(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||r3(n)}function oq(n,e,t,i){const r=Pw(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=i.from!==void 0?i.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),sq(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(r&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=i3(e,a)}return s}function aq({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function vE(n,e){return n[e]||n.default||n}const lq={skipAnimations:!1},xE=(n,e,t,i={})=>r=>{const s=vE(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-Oa(o);const l=oq(e,n,t,s),c=l[0],u=l[l.length-1],d=Pw(n,c),p=Pw(n,u);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(aq(s)||(m={...m,...eq(n,m)}),m.duration&&(m.duration=Oa(m.duration)),m.repeatDelay&&(m.repeatDelay=Oa(m.repeatDelay)),!d||!p||rK.current||s.type===!1||lq.skipAnimations)return KK(m);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=YK(e,n,m);if(y)return y}return Y0(m)};function K0(n){return!!(nr(n)&&n.add)}const s3=n=>/^\-?\d*\.?\d+$/.test(n);function AE(n,e){n.indexOf(e)===-1&&n.push(e)}function _E(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class wE{constructor(){this.subscriptions=[]}add(e){return AE(this.subscriptions,e),()=>_E(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cq=n=>!isNaN(parseFloat(n)),jf={current:void 0};class uq{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=li;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Gt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Gt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=cq(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new wE);const i=this.events[e].add(t);return e==="change"?()=>{i(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return jf.current&&jf.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?gE(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hs(n,e){return new uq(n,e)}const o3=n=>e=>e.test(n),hq={test:n=>n==="auto",parse:n=>n},a3=[Mc,lt,Qs,fa,AY,xY,hq],mf=n=>a3.find(o3(n)),fq=[...a3,Di,Xa],dq=n=>fq.find(o3(n));function pq(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,hs(t))}function mq(n,e){const t=dv(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=DY(s[o]);pq(n,o,a)}}function gq(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),u!=null&&(typeof u=="string"&&(s3(u)||r3(u))?u=parseFloat(u):!dq(u)&&Xa.test(c)&&(u=i3(l,c)),n.addValue(l,hs(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function yq(n,e){return e?(e[n]||e.default||e).from:void 0}function vq(n,e,t){const i={};for(const r in n){const s=yq(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function xq({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function Aq(n,e){const t=n.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}else return t!==e}function l3(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const c=[],u=r&&n.animationState&&n.animationState.getState()[r];for(const d in a){const p=n.getValue(d),m=a[d];if(!p||m===void 0||u&&xq(u,d))continue;const y={delay:t,elapsed:0,...vE(s||{},d)};if(window.HandoffAppearAnimations){const g=n.getProps()[uO];if(g){const w=window.HandoffAppearAnimations(g,d,p,Gt);w!==null&&(y.elapsed=w,y.isHandoff=!0)}}let x=!y.isHandoff&&!Aq(p,m);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(x=!1),p.animation&&(x=!1),x)continue;p.start(xE(d,p,m,n.shouldReduceMotion&&Sc.has(d)?{type:!1}:y));const A=p.animation;K0(l)&&(l.add(d),A.then(()=>l.remove(d))),c.push(A)}return o&&Promise.all(c).then(()=>{o&&mq(n,o)}),c}function Iw(n,e,t={}){const i=dv(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(l3(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=r;return _q(n,e,c+l,u,d,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function _q(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort(wq).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Iw(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function wq(n,e){return n.sortNodePosition(e)}function Sq(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>Iw(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=Iw(n,e,t);else{const r=typeof e=="function"?dv(n,e,t.custom):e;i=Promise.all(l3(n,r,t))}return i.then(()=>n.notify("AnimationComplete",e))}const Mq=[...iE].reverse(),Eq=iE.length;function bq(n){return e=>Promise.all(e.map(({animation:t,options:i})=>Sq(n,t,i)))}function Cq(n){let e=bq(n);const t=Rq();let i=!0;const r=(l,c)=>{const u=dv(n,c);if(u){const{transition:d,transitionEnd:p,...m}=u;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),d=n.getVariantContext(!0)||{},p=[],m=new Set;let y={},x=1/0;for(let g=0;g<Eq;g++){const w=Mq[g],_=t[w],M=u[w]!==void 0?u[w]:d[w],b=Pd(M),C=w===c?_.isActive:null;C===!1&&(x=g);let P=M===d[w]&&M!==u[w]&&b;if(P&&i&&n.manuallyAnimateOnMount&&(P=!1),_.protectedKeys={...y},!_.isActive&&C===null||!M&&!_.prevProp||cv(M)||typeof M=="boolean")continue;let T=Tq(_.prevProp,M)||w===c&&_.isActive&&!P&&b||g>x&&b,B=!1;const G=Array.isArray(M)?M:[M];let Q=G.reduce(r,{});C===!1&&(Q={});const{prevResolvedValues:J={}}=_,q={...J,...Q},ee=ie=>{T=!0,m.has(ie)&&(B=!0,m.delete(ie)),_.needsAnimating[ie]=!0};for(const ie in q){const te=Q[ie],F=J[ie];if(y.hasOwnProperty(ie))continue;let X=!1;j0(te)&&j0(F)?X=!BO(te,F):X=te!==F,X?te!==void 0?ee(ie):m.add(ie):te!==void 0&&m.has(ie)?ee(ie):_.protectedKeys[ie]=!0}_.prevProp=M,_.prevResolvedValues=Q,_.isActive&&(y={...y,...Q}),i&&n.blockInitialAnimation&&(T=!1),T&&(!P||B)&&p.push(...G.map(ie=>({animation:ie,options:{type:w,...l}})))}if(m.size){const g={};m.forEach(w=>{const _=n.getBaseTarget(w);_!==void 0&&(g[w]=_)}),p.push({animation:g})}let A=!!p.length;return i&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(p):Promise.resolve()}function a(l,c,u){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),t[l].isActive=c;const p=o(u,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function Tq(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!BO(e,n):!1}function Sl(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rq(){return{animate:Sl(!0),whileInView:Sl(),whileHover:Sl(),whileTap:Sl(),whileDrag:Sl(),whileFocus:Sl(),exit:Sl()}}class Pq extends nl{constructor(e){super(e),e.animationState||(e.animationState=Cq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),cv(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let Bq=0;class Iq extends nl{constructor(){super(...arguments),this.id=Bq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Lq={animation:{Feature:Pq},exit:{Feature:Iq}},r2=(n,e)=>Math.abs(n-e);function Dq(n,e){const t=r2(n.x,e.x),i=r2(n.y,e.y);return Math.sqrt(t**2+i**2)}class c3{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=u_(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Dq(d.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=d,{timestamp:x}=li;this.history.push({...y,timestamp:x});const{onStart:A,onMove:g}=this.handlers;p||(A&&A(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=c_(p,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=u_(d.type==="pointercancel"?this.lastMoveEventInfo:c_(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,A),y&&y(d,A)},!bO(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=fv(e),a=c_(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=li;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,u_(a,this.history)),this.removeListeners=Fa(Lo(this.contextWindow,"pointermove",this.handlePointerMove),Lo(this.contextWindow,"pointerup",this.handlePointerUp),Lo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ss(this.updatePoint)}}function c_(n,e){return e?{point:e(n.point)}:n}function s2(n,e){return{x:n.x-e.x,y:n.y-e.y}}function u_({point:n},e){return{point:n,delta:s2(n,u3(e)),offset:s2(n,kq(e)),velocity:Fq(e,.1)}}function kq(n){return n[0]}function u3(n){return n[n.length-1]}function Fq(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=u3(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Oa(e)));)t--;if(!i)return{x:0,y:0};const s=Do(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wr(n){return n.max-n.min}function Lw(n,e=0,t=.01){return Math.abs(n-e)<=t}function o2(n,e,t,i=.5){n.origin=i,n.originPoint=mn(e.min,e.max,n.origin),n.scale=wr(t)/wr(e),(Lw(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=mn(t.min,t.max,n.origin)-n.originPoint,(Lw(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Xf(n,e,t,i){o2(n.x,e.x,t.x,i?i.originX:void 0),o2(n.y,e.y,t.y,i?i.originY:void 0)}function a2(n,e,t){n.min=t.min+e.min,n.max=n.min+wr(e)}function Oq(n,e,t){a2(n.x,e.x,t.x),a2(n.y,e.y,t.y)}function l2(n,e,t){n.min=e.min-t.min,n.max=n.min+wr(e)}function Jf(n,e,t){l2(n.x,e.x,t.x),l2(n.y,e.y,t.y)}function Nq(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?mn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?mn(t,n,i.max):Math.min(n,t)),n}function c2(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Uq(n,{top:e,left:t,bottom:i,right:r}){return{x:c2(n.x,t,r),y:c2(n.y,e,i)}}function u2(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function zq(n,e){return{x:u2(n.x,e.x),y:u2(n.y,e.y)}}function Hq(n,e){let t=.5;const i=wr(n),r=wr(e);return r>i?t=fh(e.min,e.max-i,n.min):i>r&&(t=fh(n.min,n.max-r,e.min)),ja(0,1,t)}function Gq(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Dw=.35;function Vq(n=Dw){return n===!1?n=0:n===!0&&(n=Dw),{x:h2(n,"left","right"),y:h2(n,"top","bottom")}}function h2(n,e,t){return{min:f2(n,e),max:f2(n,t)}}function f2(n,e){return typeof n=="number"?n:n[e]||0}const d2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lu=()=>({x:d2(),y:d2()}),p2=()=>({min:0,max:0}),kn=()=>({x:p2(),y:p2()});function Nr(n){return[n("x"),n("y")]}function h3({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Wq({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function jq(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function h_(n){return n===void 0||n===1}function kw({scale:n,scaleX:e,scaleY:t}){return!h_(n)||!h_(e)||!h_(t)}function Rl(n){return kw(n)||f3(n)||n.z||n.rotate||n.rotateX||n.rotateY}function f3(n){return m2(n.x)||m2(n.y)}function m2(n){return n&&n!=="0%"}function q0(n,e,t){const i=n-t,r=e*i;return t+r}function g2(n,e,t,i,r){return r!==void 0&&(n=q0(n,r,i)),q0(n,t,i)+e}function Fw(n,e=0,t=1,i,r){n.min=g2(n.min,e,t,i,r),n.max=g2(n.max,e,t,i,r)}function d3(n,{x:e,y:t}){Fw(n.x,e.translate,e.scale,e.originPoint),Fw(n.y,t.translate,t.scale,t.originPoint)}function Xq(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Du(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,d3(n,o)),i&&Rl(s.latestValues)&&Du(n,s.latestValues))}e.x=y2(e.x),e.y=y2(e.y)}function y2(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function ga(n,e){n.min=n.min+e,n.max=n.max+e}function v2(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=mn(n.min,n.max,s);Fw(n,e[t],e[i],o,e.scale)}const Jq=["x","scaleX","originX"],Yq=["y","scaleY","originY"];function Du(n,e){v2(n.x,e,Jq),v2(n.y,e,Yq)}function p3(n,e){return h3(jq(n.getBoundingClientRect(),e))}function Kq(n,e,t){const i=p3(n,t),{scroll:r}=e;return r&&(ga(i.x,r.offset.x),ga(i.y,r.offset.y)),i}const m3=({current:n})=>n?n.ownerDocument.defaultView:null,qq=new WeakMap;class Qq{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(fv(u,"page").point)},s=(u,d)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=TO(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nr(A=>{let g=this.getAxisMotionValue(A).get()||0;if(Qs.test(g)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[A];_&&(g=wr(_)*(parseFloat(g)/100))}}this.originPoint[A]=g}),y&&Gt.update(()=>y(u,d),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:x}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:A}=d;if(m&&this.currentDirection===null){this.currentDirection=Zq(A),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,A),this.updateAxis("y",d.point,A),this.visualElement.render(),x&&x(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Nr(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new c3(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:m3(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Gt.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Mg(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Nq(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Bu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Uq(r.layoutBox,t):this.constraints=!1,this.elastic=Vq(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Nr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Gq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Bu(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Kq(i,r.root,this.visualElement.getTransformPagePoint());let o=zq(r.layout.layoutBox,s);if(t){const a=t(Wq(o));this.hasMutatedConstraints=!!a,a&&(o=h3(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Nr(u=>{if(!Mg(u,t,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:i?e[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(xE(e,i,0,t))}stopAnimation(){Nr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Nr(t=>{const{drag:i}=this.getProps();if(!Mg(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-mn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Bu(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Nr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=Hq({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Nr(o=>{if(!Mg(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(mn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;qq.set(this.visualElement,this);const e=this.visualElement.current,t=Lo(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Bu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=To(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Nr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=Dw,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Mg(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Zq(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class $q extends nl{constructor(e){super(e),this.removeGroupControls=bn,this.removeListeners=bn,this.controls=new Qq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const x2=n=>(e,t)=>{n&&Gt.update(()=>n(e,t))};class eQ extends nl{constructor(){super(...arguments),this.removePointerDownListener=bn}onPointerDown(e){this.session=new c3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:m3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:x2(e),onStart:x2(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Gt.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=Lo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function tQ(){const n=k.useContext(av);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=k.useId();return k.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const t0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function A2(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const gf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(lt.test(n))n=parseFloat(n);else return n;const t=A2(n,e.target.x),i=A2(n,e.target.y);return`${t}% ${i}%`}},nQ={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Xa.parse(n);if(r.length>5)return i;const s=Xa.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=mn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class iQ extends ui.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;fY(rQ),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),t0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Gt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function g3(n){const[e,t]=tQ(),i=k.useContext(sE);return ui.createElement(iQ,{...n,layoutGroup:i,switchLayoutGroup:k.useContext(fO),isPresent:e,safeToRemove:t})}const rQ={borderRadius:{...gf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gf,borderTopRightRadius:gf,borderBottomLeftRadius:gf,borderBottomRightRadius:gf,boxShadow:nQ},y3=["TopLeft","TopRight","BottomLeft","BottomRight"],sQ=y3.length,_2=n=>typeof n=="string"?parseFloat(n):n,w2=n=>typeof n=="number"||lt.test(n);function oQ(n,e,t,i,r,s){r?(n.opacity=mn(0,t.opacity!==void 0?t.opacity:1,aQ(i)),n.opacityExit=mn(e.opacity!==void 0?e.opacity:1,0,lQ(i))):s&&(n.opacity=mn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<sQ;o++){const a=`border${y3[o]}Radius`;let l=S2(e,a),c=S2(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||w2(l)===w2(c)?(n[a]=Math.max(mn(_2(l),_2(c),i),0),(Qs.test(c)||Qs.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=mn(e.rotate||0,t.rotate||0,i))}function S2(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const aQ=v3(0,.5,HO),lQ=v3(.5,.95,bn);function v3(n,e,t){return i=>i<n?0:i>e?1:t(fh(n,e,i))}function M2(n,e){n.min=e.min,n.max=e.max}function Dr(n,e){M2(n.x,e.x),M2(n.y,e.y)}function E2(n,e,t,i,r){return n-=e,n=q0(n,1/t,i),r!==void 0&&(n=q0(n,1/r,i)),n}function cQ(n,e=0,t=1,i=.5,r,s=n,o=n){if(Qs.test(e)&&(e=parseFloat(e),e=mn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=mn(s.min,s.max,i);n===s&&(a-=e),n.min=E2(n.min,e,t,a,r),n.max=E2(n.max,e,t,a,r)}function b2(n,e,[t,i,r],s,o){cQ(n,e[t],e[i],e[r],e.scale,s,o)}const uQ=["x","scaleX","originX"],hQ=["y","scaleY","originY"];function C2(n,e,t,i){b2(n.x,e,uQ,t?t.x:void 0,i?i.x:void 0),b2(n.y,e,hQ,t?t.y:void 0,i?i.y:void 0)}function T2(n){return n.translate===0&&n.scale===1}function x3(n){return T2(n.x)&&T2(n.y)}function fQ(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function A3(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function R2(n){return wr(n.x)/wr(n.y)}class dQ{constructor(){this.members=[]}add(e){AE(this.members,e),e.scheduleRender()}remove(e){if(_E(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function P2(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),u&&(i+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const pQ=(n,e)=>n.depth-e.depth;class mQ{constructor(){this.children=[],this.isDirty=!1}add(e){AE(this.children,e),this.isDirty=!0}remove(e){_E(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pQ),this.isDirty=!1,this.children.forEach(e)}}function gQ(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Ss(i),n(s-e))};return Gt.read(i,!0),()=>Ss(i)}function yQ(n){window.MotionDebug&&window.MotionDebug.record(n)}function vQ(n){return n instanceof SVGElement&&n.tagName!=="svg"}function xQ(n,e,t){const i=nr(n)?n:hs(n);return i.start(xE("",i,e,t)),i.animation}const B2=["","X","Y","Z"],AQ={visibility:"hidden"},I2=1e3;let _Q=0;const Pl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _3({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=_Q++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Pl.totalNodes=Pl.resolvedTargetDeltas=Pl.recalculatedProjection=0,this.nodes.forEach(MQ),this.nodes.forEach(RQ),this.nodes.forEach(PQ),this.nodes.forEach(EQ),yQ(Pl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new mQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new wE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vQ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=gQ(p,250),t0.hasAnimatedSinceResize&&(t0.hasAnimatedSinceResize=!1,this.nodes.forEach(D2))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||kQ,{onLayoutAnimationStart:A,onLayoutAnimationComplete:g}=u.getProps(),w=!this.targetLayout||!A3(this.targetLayout,y)||m,_=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const M={...vE(x,"layout"),onPlay:A,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else p||D2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BQ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(L2);return}this.isUpdating||this.nodes.forEach(CQ),this.isUpdating=!1,this.nodes.forEach(TQ),this.nodes.forEach(wQ),this.nodes.forEach(SQ),this.clearAllSnapshots();const a=performance.now();li.delta=ja(0,1e3/60,a-li.timestamp),li.timestamp=a,li.isProcessing=!0,t_.update.process(li),t_.preRender.process(li),t_.render.process(li),li.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(bQ),this.sharedNodes.forEach(IQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!x3(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Rl(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),FQ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return kn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(ga(a.x,l.offset.x),ga(a.y,l.offset.y)),a}removeElementScroll(o){const a=kn();Dr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){Dr(a,o);const{scroll:p}=this.root;p&&(ga(a.x,-p.offset.x),ga(a.y,-p.offset.y))}ga(a.x,u.offset.x),ga(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=kn();Dr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Du(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Rl(u.latestValues)&&Du(l,u.latestValues)}return Rl(this.latestValues)&&Du(l,this.latestValues),l}removeTransform(o){const a=kn();Dr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Rl(c.latestValues))continue;kw(c.latestValues)&&c.updateSnapshot();const u=kn(),d=c.measurePageBox();Dr(u,d),C2(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Rl(this.latestValues)&&C2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==li.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=li.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),Jf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=kn(),this.targetWithTransforms=kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Oq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dr(this.target,this.layout.layoutBox),d3(this.target,this.targetDelta)):Dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),Jf(this.relativeTargetOrigin,this.target,m.target),Dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Pl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||kw(this.parent.latestValues)||f3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===li.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Dr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Xq(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=Lu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Lu(),this.projectionDeltaWithTransform=Lu());const x=this.projectionTransform;Xf(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=P2(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Pl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Lu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=kn(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,A=this.getStack(),g=!A||A.members.length<=1,w=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(DQ));this.animationProgress=0;let _;this.mixTargetDelta=M=>{const b=M/1e3;k2(d.x,o.x,b),k2(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jf(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LQ(this.relativeTarget,this.relativeTargetOrigin,p,b),_&&fQ(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=kn()),Dr(_,this.relativeTarget)),x&&(this.animationValues=u,oQ(u,c,this.latestValues,b,w,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{t0.hasAnimatedSinceResize=!0,this.currentAnimation=xQ(0,I2,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&w3(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||kn();const d=wr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=wr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Dr(a,l),Du(a,u),Xf(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new dQ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<B2.length;u++){const d="rotate"+B2[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return AQ;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=e0(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=e0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Rl(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=P2(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in V0){if(p[x]===void 0)continue;const{correct:A,applyTo:g}=V0[x],w=c.transform==="none"?p[x]:A(p[x],d);if(g){const _=g.length;for(let M=0;M<_;M++)c[g[M]]=w}else c[x]=w}return this.options.layoutId&&(c.pointerEvents=d===this?e0(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(L2),this.root.sharedNodes.clear()}}}function wQ(n){n.updateLayout()}function SQ(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Nr(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=wr(p);p.min=i[d].min,p.max=p.min+m}):w3(s,t.layoutBox,i)&&Nr(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=wr(i[d]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+m)});const a=Lu();Xf(a,i,t.layoutBox);const l=Lu();o?Xf(l,n.applyTransform(r,!0),t.measuredBox):Xf(l,i,t.layoutBox);const c=!x3(a);let u=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const y=kn();Jf(y,t.layoutBox,p.layoutBox);const x=kn();Jf(x,i,m.layoutBox),A3(y,x)||(u=!0),d.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=y,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function MQ(n){Pl.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function EQ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function bQ(n){n.clearSnapshot()}function L2(n){n.clearMeasurements()}function CQ(n){n.isLayoutDirty=!1}function TQ(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function D2(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function RQ(n){n.resolveTargetDelta()}function PQ(n){n.calcProjection()}function BQ(n){n.resetRotation()}function IQ(n){n.removeLeadSnapshot()}function k2(n,e,t){n.translate=mn(e.translate,0,t),n.scale=mn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function F2(n,e,t,i){n.min=mn(e.min,t.min,i),n.max=mn(e.max,t.max,i)}function LQ(n,e,t,i){F2(n.x,e.x,t.x,i),F2(n.y,e.y,t.y,i)}function DQ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const kQ={duration:.45,ease:[.4,0,.1,1]},O2=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),N2=O2("applewebkit/")&&!O2("chrome/")?Math.round:bn;function U2(n){n.min=N2(n.min),n.max=N2(n.max)}function FQ(n){U2(n.x),U2(n.y)}function w3(n,e,t){return n==="position"||n==="preserve-aspect"&&!Lw(R2(e),R2(t),.2)}const OQ=_3({attachResizeListener:(n,e)=>To(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),f_={current:void 0},S3=_3({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!f_.current){const n=new OQ({});n.mount(window),n.setOptions({layoutScroll:!0}),f_.current=n}return f_.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),NQ={pan:{Feature:eQ},drag:{Feature:$q,ProjectionNode:S3,MeasureLayout:g3}},UQ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function zQ(n){const e=UQ.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function Ow(n,e,t=1){const[i,r]=zQ(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return s3(o)?parseFloat(o):o}else return bw(r)?Ow(r,e,t+1):r}function HQ(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!bw(s))return;const o=Ow(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!bw(s))continue;const o=Ow(s,i);o&&(e[r]=o,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const GQ=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),M3=n=>GQ.has(n),VQ=n=>Object.keys(n).some(M3),z2=n=>n===Mc||n===lt,H2=(n,e)=>parseFloat(n.split(", ")[e]),G2=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return H2(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?H2(s[1],n):0}},WQ=new Set(["x","y","z"]),jQ=sp.filter(n=>!WQ.has(n));function XQ(n){const e=[];return jQ.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const dh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:G2(4,13),y:G2(5,14)};dh.translateX=dh.x;dh.translateY=dh.y;const JQ=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=dh[c](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=dh[c](l,s)}),n},YQ=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(M3);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],d=mf(u);const p=e[l];let m;if(j0(p)){const y=p.length,x=p[0]===null?1:0;u=p[x],d=mf(u);for(let A=x;A<y&&p[A]!==null;A++)m?pv(mf(p[A])===m):m=mf(p[A])}else m=mf(p);if(d!==m)if(z2(d)&&z2(m)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===lt&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(u===0||p===0)?u===0?c.set(m.transform(u)):e[l]=d.transform(p):(o||(s=XQ(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=JQ(e,n,a);return s.length&&s.forEach(([u,d])=>{n.getValue(u).set(d)}),n.render(),lv&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function KQ(n,e,t,i){return VQ(e)?YQ(n,e,t,i):{target:e,transitionEnd:i}}const qQ=(n,e,t,i)=>{const r=HQ(n,e,i);return e=r.target,i=r.transitionEnd,KQ(n,e,t,i)},Nw={current:null},E3={current:!1};function QQ(){if(E3.current=!0,!!lv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Nw.current=n.matches;n.addListener(e),e()}else Nw.current=!1}function ZQ(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(nr(s))n.addValue(r,s),K0(i)&&i.add(r);else if(nr(o))n.addValue(r,hs(s,{owner:n})),K0(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,hs(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const V2=new WeakMap,b3=Object.keys(Bd),$Q=b3.length,W2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],eZ=rE.length;class tZ{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Gt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=uv(t),this.isVariantNode=hO(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{});for(const d in u){const p=u[d];a[d]!==void 0&&nr(p)&&(p.set(a[d],!1),K0(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,V2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),E3.current||QQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){V2.delete(this.current),this.projection&&this.projection.unmount(),Ss(this.notifyUpdate),Ss(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=Sc.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Gt.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<$Q;l++){const c=b3[l],{isEnabled:u,Feature:d,ProjectionNode:p,MeasureLayout:m}=Bd[c];p&&(o=p),u(t)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&Bu(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<W2.length;i++){const r=W2[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=ZQ(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<eZ;i++){const r=rE[i],s=this.props[r];(Pd(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=hs(t,{owner:this}),this.addValue(e,i)),i}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=fE(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!nr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new wE),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class C3 extends tZ{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=vq(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){gq(this,i,o);const a=qQ(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function nZ(n){return window.getComputedStyle(n)}class iZ extends C3{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Sc.has(t)){const i=yE(t);return i&&i.default||0}else{const i=nZ(e),r=(mO(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return p3(e,t)}build(e,t,i,r){aE(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return hE(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){_O(e,t,i,r)}}class rZ extends C3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Sc.has(t)){const i=yE(t);return i&&i.default||0}return t=wO.has(t)?t:nE(t),e.getAttribute(t)}measureInstanceViewportBox(){return kn()}scrapeMotionValuesFromProps(e,t){return MO(e,t)}build(e,t,i,r){cE(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){SO(e,t,i,r)}mount(e){this.isSVGTag=uE(e.tagName),super.mount(e)}}const sZ=(n,e)=>oE(n)?new rZ(e,{enableHardwareAcceleration:!1}):new iZ(e,{enableHardwareAcceleration:!0}),oZ={layout:{ProjectionNode:S3,MeasureLayout:g3}},aZ={...Lq,...tK,...NQ,...oZ},Ht=uY((n,e)=>GY(n,e,aZ,sZ));function T3(){const n=k.useRef(!1);return rp(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function lZ(){const n=T3(),[e,t]=k.useState(0),i=k.useCallback(()=>{n.current&&t(e+1)},[e]);return[k.useCallback(()=>Gt.postRender(i),[i]),e]}class cZ extends k.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function uZ({children:n,isPresent:e}){const t=k.useId(),i=k.useRef(null),r=k.useRef({width:0,height:0,top:0,left:0});return k.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=r.current;if(e||!i.current||!s||!o)return;i.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),k.createElement(cZ,{isPresent:e,childRef:i,sizeRef:r},k.cloneElement(n,{ref:i}))}const d_=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=lp(hZ),l=k.useId(),c=k.useMemo(()=>({id:l,initial:e,isPresent:t,custom:r,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;i&&i()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[t]);return k.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[t]),k.useEffect(()=>{!t&&!a.size&&i&&i()},[t]),o==="popLayout"&&(n=k.createElement(uZ,{isPresent:t},n)),k.createElement(av.Provider,{value:c},n)};function hZ(){return new Map}function fZ(n){return k.useEffect(()=>()=>n(),[])}const Bl=n=>n.key||"";function dZ(n,e){n.forEach(t=>{const i=Bl(t);e.set(i,t)})}function pZ(n){const e=[];return k.Children.forEach(n,t=>{k.isValidElement(t)&&e.push(t)}),e}const mZ=({children:n,custom:e,initial:t=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=k.useContext(sE).forceRender||lZ()[0],l=T3(),c=pZ(n);let u=c;const d=k.useRef(new Map).current,p=k.useRef(u),m=k.useRef(new Map).current,y=k.useRef(!0);if(rp(()=>{y.current=!1,dZ(c,m),p.current=u}),fZ(()=>{y.current=!0,m.clear(),d.clear()}),y.current)return k.createElement(k.Fragment,null,u.map(w=>k.createElement(d_,{key:Bl(w),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},w)));u=[...u];const x=p.current.map(Bl),A=c.map(Bl),g=x.length;for(let w=0;w<g;w++){const _=x[w];A.indexOf(_)===-1&&!d.has(_)&&d.set(_,void 0)}return o==="wait"&&d.size&&(u=[]),d.forEach((w,_)=>{if(A.indexOf(_)!==-1)return;const M=m.get(_);if(!M)return;const b=x.indexOf(_);let C=w;if(!C){const P=()=>{d.delete(_);const I=Array.from(m.keys()).filter(T=>!A.includes(T));if(I.forEach(T=>m.delete(T)),p.current=c.filter(T=>{const B=Bl(T);return B===_||I.includes(B)}),!d.size){if(l.current===!1)return;a(),i&&i()}};C=k.createElement(d_,{key:Bl(M),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:s,mode:o},M),d.set(_,C)}u.splice(b,0,C)}),u=u.map(w=>{const _=w.key;return d.has(_)?w:k.createElement(d_,{key:Bl(w),isPresent:!0,presenceAffectsLayout:s,mode:o},w)}),k.createElement(k.Fragment,null,d.size?u:u.map(w=>k.cloneElement(w)))};function gZ(n){const e=lp(()=>hs(n)),{isStatic:t}=k.useContext(tE);if(t){const[,i]=k.useState(n);k.useEffect(()=>e.on("change",i),[])}return e}const yZ=n=>n&&typeof n=="object"&&n.mix,vZ=n=>yZ(n)?n.mix:void 0;function xZ(...n){const e=!Array.isArray(n[0]),t=e?0:-1,i=n[0+t],r=n[1+t],s=n[2+t],o=n[3+t],a=mv(r,s,{mixer:vZ(s[0]),...o});return e?a(i):a}function R3(n,e){const t=gZ(e()),i=()=>t.set(e());return i(),rp(()=>{const r=()=>Gt.update(i,!1,!0),s=n.map(o=>o.on("change",r));return()=>{s.forEach(o=>o()),Ss(i)}}),t}function AZ(n){jf.current=[],n();const e=R3(jf.current,n);return jf.current=void 0,e}function Ja(n,e,t,i){if(typeof n=="function")return AZ(n);const r=typeof e=="function"?e:xZ(e,t,i);return Array.isArray(n)?j2(n,r):j2([n],([s])=>r(s))}function j2(n,e){const t=lp(()=>[]);return R3(n,()=>{t.length=0;const i=n.length;for(let r=0;r<i;r++)t[r]=n[r].get();return e(t)})}function _Z(n,e,t){var i;if(typeof n=="string"){let r=document;e&&(pv(!!e.current),r=e.current),t?((i=t[n])!==null&&i!==void 0||(t[n]=r.querySelectorAll(n)),n=t[n]):n=r.querySelectorAll(n)}else n instanceof Element&&(n=[n]);return Array.from(n||[])}const n0=new WeakMap;let da;function wZ(n,e){if(e){const{inlineSize:t,blockSize:i}=e[0];return{width:t,height:i}}else return n instanceof SVGElement&&"getBBox"in n?n.getBBox():{width:n.offsetWidth,height:n.offsetHeight}}function SZ({target:n,contentRect:e,borderBoxSize:t}){var i;(i=n0.get(n))===null||i===void 0||i.forEach(r=>{r({target:n,contentSize:e,get size(){return wZ(n,t)}})})}function MZ(n){n.forEach(SZ)}function EZ(){typeof ResizeObserver>"u"||(da=new ResizeObserver(MZ))}function bZ(n,e){da||EZ();const t=_Z(n);return t.forEach(i=>{let r=n0.get(i);r||(r=new Set,n0.set(i,r)),r.add(e),da==null||da.observe(i)}),()=>{t.forEach(i=>{const r=n0.get(i);r==null||r.delete(e),r!=null&&r.size||da==null||da.unobserve(i)})}}const i0=new Set;let Yf;function CZ(){Yf=()=>{const n={width:window.innerWidth,height:window.innerHeight},e={target:window,size:n,contentSize:n};i0.forEach(t=>t(e))},window.addEventListener("resize",Yf)}function TZ(n){return i0.add(n),Yf||CZ(),()=>{i0.delete(n),!i0.size&&Yf&&(Yf=void 0)}}function RZ(n,e){return typeof n=="function"?TZ(n):bZ(n,e)}const PZ=50,X2=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),BZ=()=>({time:0,x:X2(),y:X2()}),IZ={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function J2(n,e,t,i){const r=t[e],{length:s,position:o}=IZ[e],a=r.current,l=t.time;r.current=n["scroll"+o],r.scrollLength=n["scroll"+s]-n["client"+s],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=fh(0,r.scrollLength,r.current);const c=i-l;r.velocity=c>PZ?0:gE(r.current-a,c)}function LZ(n,e,t){J2(n,"x",e,t),J2(n,"y",e,t),e.time=t}function DZ(n,e){const t={x:0,y:0};let i=n;for(;i&&i!==e;)if(i instanceof HTMLElement)t.x+=i.offsetLeft,t.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const r=i.getBoundingClientRect();i=i.parentElement;const s=i.getBoundingClientRect();t.x+=r.left-s.left,t.y+=r.top-s.top}else if(i instanceof SVGGraphicsElement){const{x:r,y:s}=i.getBBox();t.x+=r,t.y+=s;let o=null,a=i.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=i.parentNode;i=o}else break;return t}const kZ={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Uw={start:0,center:.5,end:1};function Y2(n,e,t=0){let i=0;if(Uw[n]!==void 0&&(n=Uw[n]),typeof n=="string"){const r=parseFloat(n);n.endsWith("px")?i=r:n.endsWith("%")?n=r/100:n.endsWith("vw")?i=r/100*document.documentElement.clientWidth:n.endsWith("vh")?i=r/100*document.documentElement.clientHeight:n=r}return typeof n=="number"&&(i=e*n),t+i}const FZ=[0,0];function OZ(n,e,t,i){let r=Array.isArray(n)?n:FZ,s=0,o=0;return typeof n=="number"?r=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?r=n.split(" "):r=[n,Uw[n]?n:"0"]),s=Y2(r[0],t,i),o=Y2(r[1],e),s-o}const NZ={x:0,y:0};function UZ(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function zZ(n,e,t){let{offset:i=kZ.All}=t;const{target:r=n,axis:s="y"}=t,o=s==="y"?"height":"width",a=r!==n?DZ(r,n):NZ,l=r===n?{width:n.scrollWidth,height:n.scrollHeight}:UZ(r),c={width:n.clientWidth,height:n.clientHeight};e[s].offset.length=0;let u=!e[s].interpolate;const d=i.length;for(let p=0;p<d;p++){const m=OZ(i[p],c[o],l[o],a[s]);!u&&m!==e[s].interpolatorOffsets[p]&&(u=!0),e[s].offset[p]=m}u&&(e[s].interpolate=mv(e[s].offset,e3(i)),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=e[s].interpolate(e[s].current)}function HZ(n,e=n,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==n){let i=e;for(;i&&i!==n;)t.x.targetOffset+=i.offsetLeft,t.y.targetOffset+=i.offsetTop,i=i.offsetParent}t.x.targetLength=e===n?e.scrollWidth:e.clientWidth,t.y.targetLength=e===n?e.scrollHeight:e.clientHeight,t.x.containerLength=n.clientWidth,t.y.containerLength=n.clientHeight}function GZ(n,e,t,i={}){return{measure:()=>HZ(n,i.target,t),update:r=>{LZ(n,t,r),(i.offset||i.target)&&zZ(n,t,i)},notify:()=>e(t)}}const yf=new WeakMap,K2=new WeakMap,p_=new WeakMap,q2=n=>n===document.documentElement?window:n;function VZ(n,{container:e=document.documentElement,...t}={}){let i=p_.get(e);i||(i=new Set,p_.set(e,i));const r=BZ(),s=GZ(e,n,r,t);if(i.add(s),!yf.has(e)){const a=()=>{for(const p of i)p.measure()},l=()=>{for(const p of i)p.update(li.timestamp)},c=()=>{for(const p of i)p.notify()},u=()=>{Gt.read(a,!1,!0),Gt.read(l,!1,!0),Gt.update(c,!1,!0)};yf.set(e,u);const d=q2(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&K2.set(e,RZ(e,u)),d.addEventListener("scroll",u,{passive:!0})}const o=yf.get(e);return Gt.read(o,!1,!0),()=>{var a;Ss(o);const l=p_.get(e);if(!l||(l.delete(s),l.size))return;const c=yf.get(e);yf.delete(e),c&&(q2(e).removeEventListener("scroll",c),(a=K2.get(e))===null||a===void 0||a(),window.removeEventListener("resize",c))}}function Q2(n,e){IO(!!(!e||e.current))}const WZ=()=>({scrollX:hs(0),scrollY:hs(0),scrollXProgress:hs(0),scrollYProgress:hs(0)});function gv({container:n,target:e,layoutEffect:t=!0,...i}={}){const r=lp(WZ);return(t?rp:k.useEffect)(()=>(Q2("target",e),Q2("container",n),VZ(({x:o,y:a})=>{r.scrollX.set(o.current),r.scrollXProgress.set(o.progress),r.scrollY.set(a.current),r.scrollYProgress.set(a.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[n,e,JSON.stringify(i.offset)]),r}const P3=k.createContext(),jZ=({children:n})=>{const[e,t]=k.useState(localStorage.getItem("theme")||"light"),[i,r]=k.useState({x:0,y:0,show:!1,next:"light"});k.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const s=o=>{const a=(o==null?void 0:o.clientX)||window.innerWidth/2,l=(o==null?void 0:o.clientY)||window.innerHeight/2,c=e==="light"?"dark":"light";r({x:a,y:l,show:!0,next:c}),setTimeout(()=>{t(c)},300),setTimeout(()=>{r(u=>({...u,show:!1}))},1e3)};return $.jsx(P3.Provider,{value:{theme:e,toggleTheme:s},children:$.jsxs("div",{className:"relative overflow-hidden",children:[n,$.jsx(mZ,{children:i.show&&$.jsx(Ht.div,{initial:{scale:0,opacity:.6},animate:{scale:50,opacity:0},exit:{opacity:0},transition:{duration:1,ease:"easeOut"},style:{top:i.y,left:i.x,transform:"translate(-50%, -50%)"},className:`absolute z-50 w-10 h-10 rounded-full 
                ${i.next==="dark"?"bg-blue-900":"bg-yellow-400"}`},i.next+"-ripple")})]})})},ir=()=>k.useContext(P3),XZ=n=>{const{theme:e}=ir(),[t]=YM([n.imgUrl]);return $.jsxs(KJ,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[$.jsx("ambientLight",{intensity:e==="dark"?.5:.8}),$.jsx("directionalLight",{position:[3,3,5],intensity:.8,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024}),$.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[$.jsx("icosahedronGeometry",{args:[1,1]}),$.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),$.jsx(WJ,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],flatShading:!0,map:t})]})]})},JZ=({icon:n})=>$.jsxs(bF,{frameloop:"demand",gl:{preserveDrawingBuffer:!0},children:[$.jsxs(k.Suspense,{fallback:$.jsx(lO,{}),children:[$.jsx(IF,{enableZoom:!1}),$.jsx(XZ,{imgUrl:n})]}),$.jsx(FF,{all:!0})]});function Kf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function B3(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}new pe;new pe;var kr=function n(e,t,i){var r=this;B3(this,n),Kf(this,"dot2",function(s,o){return r.x*s+r.y*o}),Kf(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},YZ=[new kr(1,1,0),new kr(-1,1,0),new kr(1,-1,0),new kr(-1,-1,0),new kr(1,0,1),new kr(-1,0,1),new kr(1,0,-1),new kr(-1,0,-1),new kr(0,1,1),new kr(0,-1,1),new kr(0,1,-1),new kr(0,-1,-1)],Z2=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],$2=new Array(512),eB=new Array(512),KZ=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=Z2[t]^e&255:i=Z2[t]^e>>8&255,$2[t]=$2[t+256]=i,eB[t]=eB[t+256]=YZ[i%12]}};KZ(0);function qZ(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function tB(n){var e=qZ(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var QZ=function n(e){var t=this;B3(this,n),Kf(this,"seed",0),Kf(this,"init",function(i){t.seed=i,t.value=tB(i)}),Kf(this,"value",tB(this.seed)),this.init(e)};new QZ(Math.random());function zw(){return zw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zw.apply(this,arguments)}var ZZ={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(n){},onComplete:function(n){},preStringTyped:function(n,e){},onStringTyped:function(n,e){},onLastStringBackspaced:function(n){},onTypingPaused:function(n,e){},onTypingResumed:function(n,e){},onReset:function(n){},onStop:function(n,e){},onStart:function(n,e){},onDestroy:function(n){}},$Z=new(function(){function n(){}var e=n.prototype;return e.load=function(t,i,r){if(t.el=typeof r=="string"?document.querySelector(r):r,t.options=zw({},ZZ,i),t.isInput=t.el.tagName.toLowerCase()==="input",t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(c){return c.trim()}),t.stringsElement=typeof t.options.stringsElement=="string"?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var s=Array.prototype.slice.apply(t.stringsElement.children),o=s.length;if(o)for(var a=0;a<o;a+=1)t.strings.push(s[a].innerHTML.trim())}for(var l in t.strPos=0,t.currentElContent=this.getCurrentElContent(t),t.currentElContent&&t.currentElContent.length>0&&(t.strPos=t.currentElContent.length-1,t.strings.unshift(t.currentElContent)),t.sequence=[],t.strings)t.sequence[l]=l;t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.autoInsertCss=t.options.autoInsertCss,t.autoInsertCss&&(this.appendCursorAnimationCss(t),this.appendFadeOutAnimationCss(t))},e.getCurrentElContent=function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:t.contentType==="html"?t.el.innerHTML:t.el.textContent},e.appendCursorAnimationCss=function(t){var i="data-typed-js-cursor-css";if(t.showCursor&&!document.querySelector("["+i+"]")){var r=document.createElement("style");r.setAttribute(i,"true"),r.innerHTML=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `,document.body.appendChild(r)}},e.appendFadeOutAnimationCss=function(t){var i="data-typed-fadeout-js-css";if(t.fadeOut&&!document.querySelector("["+i+"]")){var r=document.createElement("style");r.setAttribute(i,"true"),r.innerHTML=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `,document.body.appendChild(r)}},n}()),nB=new(function(){function n(){}var e=n.prototype;return e.typeHtmlChars=function(t,i,r){if(r.contentType!=="html")return i;var s=t.substring(i).charAt(0);if(s==="<"||s==="&"){var o;for(o=s==="<"?">":";";t.substring(i+1).charAt(0)!==o&&!(1+ ++i>t.length););i++}return i},e.backSpaceHtmlChars=function(t,i,r){if(r.contentType!=="html")return i;var s=t.substring(i).charAt(0);if(s===">"||s===";"){var o;for(o=s===">"?"<":"&";t.substring(i-1).charAt(0)!==o&&!(--i<0););i--}return i},n}()),e$=function(){function n(t,i){$Z.load(this,i,t),this.begin()}var e=n.prototype;return e.toggle=function(){this.pause.status?this.start():this.stop()},e.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},e.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},e.destroy=function(){this.reset(!1),this.options.onDestroy(this)},e.reset=function(t){t===void 0&&(t=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())},e.begin=function(){var t=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){t.strPos===0?t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos):t.backspace(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)},e.typewrite=function(t,i){var r=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var s=this.humanizer(this.typeSpeed),o=1;this.pause.status!==!0?this.timeout=setTimeout(function(){i=nB.typeHtmlChars(t,i,r);var a=0,l=t.substring(i);if(l.charAt(0)==="^"&&/^\^\d+/.test(l)){var c=1;c+=(l=/\d+/.exec(l)[0]).length,a=parseInt(l),r.temporaryPause=!0,r.options.onTypingPaused(r.arrayPos,r),t=t.substring(0,i)+t.substring(i+c),r.toggleBlinking(!0)}if(l.charAt(0)==="`"){for(;t.substring(i+o).charAt(0)!=="`"&&(o++,!(i+o>t.length)););var u=t.substring(0,i),d=t.substring(u.length+1,i+o),p=t.substring(i+o+1);t=u+d+p,o--}r.timeout=setTimeout(function(){r.toggleBlinking(!1),i>=t.length?r.doneTyping(t,i):r.keepTyping(t,i,o),r.temporaryPause&&(r.temporaryPause=!1,r.options.onTypingResumed(r.arrayPos,r))},a)},s):this.setPauseStatus(t,i,!0)},e.keepTyping=function(t,i,r){i===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var s=t.substring(0,i+=r);this.replaceText(s),this.typewrite(t,i)},e.doneTyping=function(t,i){var r=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){r.backspace(t,i)},this.backDelay))},e.backspace=function(t,i){var r=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var s=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){i=nB.backSpaceHtmlChars(t,i,r);var o=t.substring(0,i);if(r.replaceText(o),r.smartBackspace){var a=r.strings[r.arrayPos+1];r.stopNum=a&&o===a.substring(0,i)?i:0}i>r.stopNum?(i--,r.backspace(t,i)):i<=r.stopNum&&(r.arrayPos++,r.arrayPos===r.strings.length?(r.arrayPos=0,r.options.onLastStringBackspaced(),r.shuffleStringsIfNeeded(),r.begin()):r.typewrite(r.strings[r.sequence[r.arrayPos]],i))},s)}else this.setPauseStatus(t,i,!1)},e.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},e.setPauseStatus=function(t,i,r){this.pause.typewrite=r,this.pause.curString=t,this.pause.curStrPos=i},e.toggleBlinking=function(t){this.cursor&&(this.pause.status||this.cursorBlinking!==t&&(this.cursorBlinking=t,t?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},e.humanizer=function(t){return Math.round(Math.random()*t/2)+t},e.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},e.initFadeOut=function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)},e.replaceText=function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:this.contentType==="html"?this.el.innerHTML=t:this.el.textContent=t},e.bindFocusEvents=function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(i){t.stop()}),this.el.addEventListener("blur",function(i){t.el.value&&t.el.value.length!==0||t.start()}))},e.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},n}();const t$=k.memo(({style:n,className:e,typedRef:t,parseRef:i,stopped:r,children:s,startWhenVisible:o,...a})=>{const l=k.useRef(null),c=k.useMemo(()=>{var d;return[...Object.values(a).filter(p=>typeof p=="boolean"||typeof p=="number"||typeof p=="string"),(d=a.strings)==null?void 0:d.join(",")]},[a]);k.useEffect(()=>{const d=i&&i(l)||l.current,p=new e$(d,{...a});if((r||o)&&(p==null||p.stop()),o){const m=new IntersectionObserver(([y])=>{y.isIntersecting&&(p==null||p.start(),m.disconnect())});m.observe(d)}return t&&p&&t(p),()=>{p.destroy()}},c);const u=s?ui.cloneElement(s,{ref:l}):ui.createElement("span",{style:n,ref:l});return ui.createElement("span",{style:n,className:e,"data-testid":"react-typed"},u)}),Ro={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},yv=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),Eh=(n,e,t,i)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),iB=(n,e,t,i)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),n$=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),qf="generated",i$="pointerdown",r$="pointerup",Hw="pointerleave",s$="pointerout",fc="pointermove",o$="touchstart",rB="touchend",a$="touchmove",l$="touchcancel",c$="resize",u$="visibilitychange",Kr="tsParticles - Error";class hr{constructor(e,t,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!vs(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${Kr} Vector3d not initialized correctly`)}static get origin(){return hr.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return hr.create(e.x,e.y,e.z)}static create(e,t,i){return new hr(e,t,i)}add(e){return hr.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return hr.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return hr.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return hr.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return hr.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return hr.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class ii extends hr{constructor(e,t){super(e,t,0)}static get origin(){return ii.create(0,0)}static clone(e){return ii.create(e.x,e.y)}static create(e,t){return new ii(e,t)}}let h$=Math.random;const Gw=new Map;function m_(n,e){Gw.get(n)||Gw.set(n,e)}function I3(n){return Gw.get(n)||(e=>e)}function rn(){return Ms(h$(),0,1-1e-16)}function Ms(n,e,t){return Math.min(Math.max(n,e),t)}function g_(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function Zi(n){const e=wa(n);let t=SE(n);return e===t&&(t=0),rn()*(e-t)+t}function ot(n){return vs(n)?n:Zi(n)}function SE(n){return vs(n)?n:n.min}function wa(n){return vs(n)?n:n.max}function Et(n,e){if(n===e||e===void 0&&vs(n))return n;const t=SE(n),i=wa(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Et(t,i)}function dc(n){const e=n.random,{enable:t,minimumValue:i}=Na(e)?{enable:e,minimumValue:0}:e;return ot(t?Et(n.value,i):n.value)}function Ni(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function vr(n,e){return Ni(n,e).distance}function f$(n,e,t){if(vs(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return rn()*Math.PI*2}}function d$(n){const e=ii.origin;return e.length=1,e.angle=n,e}function sB(n,e,t,i){return ii.create(n.x*(t-i)/(t+i)+e.x*2*i/(t+i),n.y)}function p$(n){var e,t;return{x:((e=n.position)==null?void 0:e.x)??rn()*n.size.width,y:((t=n.position)==null?void 0:t.y)??rn()*n.size.height}}function L3(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const m$={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function pc(){return m$}function oB(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=n;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(t.max>=r.min&&t.max<=(r.max+r.min)/2&&o>0||t.min<=r.max&&t.min>(r.max+r.min)/2&&o<0)&&(e.velocity=o*-a,e.bounced=!0),e}function g$(n,e){const t=ri(e,i=>n.matches(i));return xr(t)?t.some(i=>i):t}function ph(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function y$(){return!ph()&&typeof matchMedia<"u"}function D3(n){if(y$())return matchMedia(n)}function v$(n){if(!(ph()||typeof MutationObserver>"u"))return new MutationObserver(n)}function Pn(n,e){return n===e||xr(e)&&e.indexOf(n)>-1}async function x$(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function A$(n){return Math.floor(rn()*n.length)}function vv(n,e,t=!0){return n[e!==void 0&&t?e%n.length:A$(n)]}function ME(n,e,t,i,r){return _$(up(n,i??0),e,t,r)}function _$(n,e,t,i){let r=!0;return(!i||i==="bottom")&&(r=n.top<e.height+t.x),r&&(!i||i==="left")&&(r=n.right>t.x),r&&(!i||i==="right")&&(r=n.left<e.width+t.y),r&&(!i||i==="top")&&(r=n.bottom>t.y),r}function up(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function Ei(n,...e){for(const t of e){if(t==null)continue;if(!ku(t)){n=t;continue}const i=Array.isArray(t);i&&(ku(n)||!n||!Array.isArray(n))?n=[]:!i&&(ku(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const s=t,o=s[r],a=n;a[r]=ku(o)&&Array.isArray(o)?o.map(l=>Ei(a[r],l)):Ei(a[r],o)}}return n}function EE(n,e){return!!O3(e,t=>t.enable&&Pn(n,t.mode))}function bE(n,e,t){ri(e,i=>{const r=i.mode;i.enable&&Pn(n,r)&&w$(i,t)})}function w$(n,e){const t=n.selectors;ri(t,i=>{e(i,n)})}function k3(n,e){if(!(!e||!n))return O3(n,t=>g$(e,t.selectors))}function Vw(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:ii.create(dc(n.options.bounce.horizontal),dc(n.options.bounce.vertical))}}function F3(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,s]=[n.position,e.position],{dx:o,dy:a}=Ni(s,r);if(t*o+i*a<0)return;const l=-Math.atan2(a,o),c=n.mass,u=e.mass,d=n.velocity.rotate(l),p=e.velocity.rotate(l),m=sB(d,p,c,u),y=sB(p,d,c,u),x=m.rotate(-l),A=y.rotate(-l);n.velocity.x=x.x*n.factor.x,n.velocity.y=x.y*n.factor.y,e.velocity.x=A.x*e.factor.x,e.velocity.y=A.y*e.factor.y}function S$(n,e){const t=n.getPosition(),i=n.getRadius(),r=up(t,i),s=oB({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:dc(n.options.bounce.horizontal)});s.bounced&&(s.velocity!==void 0&&(n.velocity.x=s.velocity),s.position!==void 0&&(n.position.x=s.position));const o=oB({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:dc(n.options.bounce.vertical)});o.bounced&&(o.velocity!==void 0&&(n.velocity.y=o.velocity),o.position!==void 0&&(n.position.y=o.position))}function ri(n,e){return xr(n)?n.map((t,i)=>e(t,i)):e(n,0)}function ko(n,e,t){return xr(n)?vv(n,e,t):n}function O3(n,e){return xr(n)?n.find((t,i)=>e(t,i)):e(n,0)?n:void 0}function N3(n,e){const t=n.value,i=n.animation,r={delayTime:ot(i.delay)*1e3,enable:i.enable,value:ot(n.value)*e,max:wa(t)*e,min:SE(t)*e,loops:0,maxLoops:ot(i.count),time:0};if(i.enable){switch(r.decay=1-ot(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=rn()>=.5?"increasing":"decreasing";break}const s=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,s&&(r.status="increasing");break;case"max":r.value=r.max,s&&(r.status="decreasing");break;case"random":default:r.value=Zi(r),s&&(r.status=rn()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function M$(n,e){if(!(n.mode==="percent")){const{mode:r,...s}=n;return s}return"x"in n?{x:n.x/100*e.width,y:n.y/100*e.height}:{width:n.width/100*e.width,height:n.height/100*e.height}}function U3(n,e){return M$(n,e)}function Na(n){return typeof n=="boolean"}function ys(n){return typeof n=="string"}function vs(n){return typeof n=="number"}function z3(n){return typeof n=="function"}function ku(n){return typeof n=="object"&&n!==null}function xr(n){return Array.isArray(n)}const Q0="random",r0="mid",xv=new Map;function aB(n){xv.set(n.key,n)}function y_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function E$(n){for(const[,s]of xv)if(n.startsWith(s.stringPrefix))return s.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(s,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function xs(n,e,t=!0){if(!n)return;const i=ys(n)?{value:n}:n;if(ys(i.value))return H3(i.value,e,t);if(xr(i.value))return xs({value:vv(i.value,e,t)});for(const[,r]of xv){const s=r.handleRangeColor(i);if(s)return s}}function H3(n,e,t=!0){if(!n)return;const i=ys(n)?{value:n}:n;if(ys(i.value))return i.value===Q0?V3():b$(i.value);if(xr(i.value))return H3({value:vv(i.value,e,t)});for(const[,r]of xv){const s=r.handleColor(i);if(s)return s}}function Id(n,e,t=!0){const i=xs(n,e,t);return i?G3(i):void 0}function G3(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),s=Math.min(e,t,i),o={h:0,l:(r+s)/2,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(t-i)/(r-s):o.h=t===r?2+(i-e)/(r-s):4+(e-t)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function b$(n){return E$(n)}function mh(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=y_(r,i,t.h+1/3),e.g=y_(r,i,t.h),e.b=y_(r,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function C$(n){const e=mh(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function V3(n){const e=n??0;return{b:Math.floor(Zi(Et(e,256))),g:Math.floor(Zi(Et(e,256))),r:Math.floor(Zi(Et(e,256)))}}function Fo(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function Ld(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function CE(n,e,t,i){let r=n,s=e;return r.r===void 0&&(r=mh(n)),s.r===void 0&&(s=mh(e)),{b:g_(r.b,s.b,t,i),g:g_(r.g,s.g,t,i),r:g_(r.r,s.r,t,i)}}function Ww(n,e,t){if(t===Q0)return V3();if(t===r0){const i=n.getFillColor()??n.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return CE(i,r,n.getRadius(),e.getRadius());{const s=i??r;if(s)return mh(s)}}else return t}function W3(n,e,t){const i=ys(n)?n:n.value;return i===Q0?t?xs({value:i}):e?Q0:r0:i===r0?r0:xs({value:i})}function lB(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function j3(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(v_(i.h,e.h,t),v_(i.s,e.s,t),v_(i.l,e.l,t)),i}function v_(n,e,t){n.enable=e.enable,n.enable?(n.velocity=ot(e.speed)/100*t,n.decay=1-ot(e.decay),n.status="increasing",n.loops=0,n.maxLoops=ot(e.count),n.time=0,n.delayTime=ot(e.delay)*1e3,e.sync||(n.velocity*=rn(),n.value*=rn()),n.initialValue=n.value):n.velocity=0}function Qf(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function T$(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function R$(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function P$(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function x_(n,e){n.clearRect(0,0,e.width,e.height)}function B$(n){const{container:e,context:t,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:u,transform:d}=n,p=i.getPosition(),m=i.rotation+(i.pathRotation?i.velocity.angle:0),y={sin:Math.sin(m),cos:Math.cos(m)},x={a:y.cos*(d.a??1),b:y.sin*(d.b??1),c:-y.sin*(d.c??1),d:y.cos*(d.d??1)};t.setTransform(x.a,x.b,x.c,x.d,p.x,p.y),t.beginPath(),o&&(t.globalCompositeOperation=a);const A=i.shadowColor;u.enable&&A&&(t.shadowBlur=u.blur,t.shadowColor=Fo(A),t.shadowOffsetX=u.offset.x,t.shadowOffsetY=u.offset.y),s.fill&&(t.fillStyle=s.fill);const g=i.strokeWidth??0;t.lineWidth=g,s.stroke&&(t.strokeStyle=s.stroke),I$(e,t,i,l,c,r),g>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),L$(e,t,i,l,c,r),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function I$(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);o&&o.draw(e,t,i,r,s,n.retina.pixelRatio)}function L$(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);!o||!o.afterEffect||o.afterEffect(e,t,i,r,s,n.retina.pixelRatio)}function D$(n,e,t){e.draw&&e.draw(n,t)}function k$(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function F$(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}function O$(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??1)*i)}class N${constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,r,s,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:u}=l.getColorStyles(i,t,r,s);c&&(o.fill=c),u&&(o.stroke=u)}if(l.getTransformValues){const c=l.getTransformValues(i);for(const u in c)O$(a,c,u)}l.beforeDraw&&l.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=Id(s.particleFillColor(t))),!r&&s.particleStrokeColor&&(r=Id(s.particleStrokeColor(t))),i&&r)break;return[i,r]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,r=i.color,s=xs(r);if(s){const o={...s,a:i.opacity};this._coverColorStyle=Fo(o,o.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=Ei({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&t.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const s=xs(r.color);if(!s)return;const o=t.particles.move.trail;this._trailFill={color:{...s},opacity:1/o.length}}else await new Promise((s,o)=>{if(!r.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/i.length},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=r.image})},this._paintBase=t=>{this.draw(i=>R$(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(r=>P$(r,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const r=t.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",r=t.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(Fo(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{x_(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var _;const c=this.container,u=c.actualOptions,d=e.options.zIndex,p=(1-e.zIndexFactor)**d.opacityRate,m=e.bubble.opacity??((_=e.opacity)==null?void 0:_.value)??1,y=e.strokeOpacity??m,x=m*p,A=y*p,g={},w={fill:o?Ld(o,x):void 0};w.stroke=a?Ld(a,A):w.fill,this._applyPreDrawUpdaters(l,e,i,x,w,g),B$({container:c,context:l,particle:e,delta:t,colorStyles:w,backgroundMask:u.backgroundMask.enable,composite:u.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**d.sizeRate,opacity:x,shadow:e.options.shadow,transform:g}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>k$(r,e,t,i))}drawPlugin(e,t){this.draw(i=>D$(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=v$(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){pc().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const s=xs(t.color);r.backgroundColor=s?Fo(s,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&qf in e.dataset?e.dataset[qf]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Ei({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(x_(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>x_(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}function Fr(n,e,t,i,r){if(i){let s={passive:!0};Na(r)?s.capture=r:r!==void 0&&(s=r),n.addEventListener(e,t,s)}else{const s=r;n.removeEventListener(e,t,s)}}class U${constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;ri(a.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(Fr(a,fc,r.mouseMove,i),Fr(a,o$,r.touchStart,i),Fr(a,a$,r.touchMove,i),o.interactivity.events.onClick.enable?(Fr(a,rB,r.touchEndClick,i),Fr(a,r$,r.mouseUp,i),Fr(a,i$,r.mouseDown,i)):Fr(a,rB,r.touchEnd,i),Fr(a,t,r.mouseLeave,i),Fr(a,l$,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=Hw;o==="window"?(r.interactivity.element=window,l=s$):o==="parent"&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&Fr(document,u$,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=D3("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){Fr(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Fr(window,c$,i.resize,t);return}const o=r.canvas.element;this._resizeObserver&&!t?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of i.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(t),s.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=Hw,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!s||!s.element)return;s.mouse.inside=!0;let a;if(t.type.startsWith("pointer")){this._canPush=!0;const c=t;if(s.element===window){if(o){const u=o.getBoundingClientRect();a={x:c.clientX-u.left,y:c.clientY-u.top}}}else if(r.interactivity.detectsOn==="parent"){const u=c.target,d=c.currentTarget;if(u&&d&&o){const p=u.getBoundingClientRect(),m=d.getBoundingClientRect(),y=o.getBoundingClientRect();a={x:c.offsetX+2*p.left-(m.left+y.left),y:c.offsetY+2*p.top-(m.top+y.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=t.type!=="touchmove",o){const c=t,u=c.touches[c.touches.length-1],d=o.getBoundingClientRect();a={x:u.clientX-(d.left??0),y:u.clientY-(d.top??0)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=fc},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class di{constructor(){this.value=""}static create(e,t){const i=new di;return i.load(e),t!==void 0&&(ys(t)||xr(t)?i.load({value:t}):i.load(t)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class z${constructor(){this.color=new di,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=di.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class H${constructor(){this.color=new di,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=di.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class G${constructor(){this.composite="destination-out",this.cover=new H$,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=ys(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class V${constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class W${constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class cB{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return ri(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=ri(e,t=>`#${t}`)}load(e){if(!e)return;const t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class j${constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class X${constructor(){this.enable=!1,this.mode=[],this.parallax=new j$}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class J${constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class Y${constructor(){this.onClick=new W$,this.onDiv=new cB,this.onHover=new X$,this.resize=new J$}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=ri(t,i=>{const r=new cB;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),Na(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class K${constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class X3{constructor(e,t){this.detectsOn="window",this.events=new Y$,this.modes=new K$(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class q${load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=Ei({},e.options)))}}class Q${constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Ei({},e.options)))}}class Z${constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class $${constructor(){this.name="",this.default=new Z$}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Ei({},e.options)))}}class A_{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Et(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Et(e.offset)),e.speed!==void 0&&(this.speed=Et(e.speed)),e.decay!==void 0&&(this.decay=Et(e.decay)),e.delay!==void 0&&(this.delay=Et(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class eee{constructor(){this.h=new A_,this.s=new A_,this.l=new A_}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Dd extends di{constructor(){super(),this.animation=new eee}static create(e,t){const i=new Dd;return i.load(e),t!==void 0&&(ys(t)||xr(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class tee{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class nee{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class iee{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Et(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Et(e.speed)),e.decay!==void 0&&(this.decay=Et(e.decay)),e.delay!==void 0&&(this.delay=Et(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class J3 extends iee{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class ree{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class il{constructor(){this.random=new ree,this.value=0}load(e){e&&(Na(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Et(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class uB extends il{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class Y3{constructor(){this.horizontal=new uB,this.vertical=new uB}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class see{constructor(){this.absorb=new tee,this.bounce=new Y3,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new nee}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Et(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class oee{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Et(e.offset)),e.value!==void 0&&(this.value=Et(e.value)))}}class aee{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var r,s;if(!e)return;e.distance!==void 0&&(this.distance=Et(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const t=((r=e.rotate)==null?void 0:r.x)??e.rotateX;t!==void 0&&(this.rotate.x=t);const i=((s=e.rotate)==null?void 0:s.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class lee{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class cee{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Et(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Et(e.maxSpeed)))}}class uee{constructor(){this.clamp=!0,this.delay=new il,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Ei(this.options,e.options)))}}class hee{load(e){e&&(e.color!==void 0&&(this.color=di.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class fee{constructor(){this.enable=!1,this.length=10,this.fill=new hee}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class dee{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class pee{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Et(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Ei({},e.position)))}}class mee{constructor(){this.angle=new oee,this.attract=new aee,this.center=new lee,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new cee,this.path=new uee,this.outModes=new dee,this.random=!1,this.size=!1,this.speed=2,this.spin=new pee,this.straight=!1,this.trail=new fee,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(vs(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Et(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=vs(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Et(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(ku(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Et(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class gee extends J3{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class yee extends il{constructor(){super(),this.animation=new gee,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Et(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class vee{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class xee{constructor(){this.density=new vee,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}}class Aee{constructor(){this.blur=0,this.color=new di,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=di.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const __="character",w_="char",S_="image",M_="images",E_="polygon",b_="star";class _ee{constructor(){this.loadShape=(e,t,i,r)=>{if(!e)return;const s=xr(e),o=s?[]:{},a=s!==xr(this.options[t]),l=s!==xr(this.options[i]);a&&(this.options[t]=o),l&&r&&(this.options[i]=o),this.options[t]=Ei(this.options[t]??o,e),(!this.options[i]||r)&&(this.options[i]=Ei(this.options[i]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[__]??this.options[w_]}set character(e){this.options[w_]=this.options[__]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[S_]??this.options[M_]}set image(e){this.options[M_]=this.options[S_]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[E_]??this.options[b_]}set polygon(e){this.options[b_]=this.options[E_]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const t=e.options??e.custom;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=Ei(this.options[i]??{},r))}this.loadShape(e.character,__,w_,!0),this.loadShape(e.polygon,E_,b_,!1),this.loadShape(e.image??e.images,S_,M_,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class wee extends J3{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class See extends il{constructor(){super(),this.animation=new wee,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Et(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class hB{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Dd.create(this.color,e.color)),e.width!==void 0&&(this.width=Et(e.width)),e.opacity!==void 0&&(this.opacity=Et(e.opacity)))}}class Mee extends il{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class Eee{constructor(e,t){this._engine=e,this._container=t,this.bounce=new Y3,this.collisions=new see,this.color=new Dd,this.color.value="#fff",this.groups={},this.move=new mee,this.number=new xee,this.opacity=new yee,this.reduceDuplicates=!1,this.shadow=new Aee,this.shape=new _ee,this.size=new See,this.stroke=new hB,this.zIndex=new Mee}load(e){var r,s,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Dd.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=Ei(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const t=((r=e.move)==null?void 0:r.collisions)??((s=e.move)==null?void 0:s.bounce);t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Ei({},e.interactivity));const i=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(i&&(this.stroke=ri(i,a=>{const l=new hB;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const c of a)c.loadOptions&&c.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const c of l)c.loadParticlesOptions&&c.loadParticlesOptions(this,e)}}}function K3(n,...e){for(const t of e)n.load(t)}function q3(n,e,...t){const i=new Eee(n,e);return K3(i,...t),i}class bee{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new z$,this.backgroundMask=new G$,this.defaultThemes={},this.delay=0,this.fullScreen=new V$,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new X3(e,t),this.manualParticles=[],this.particles=q3(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&ri(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Et(e.delay));const t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=Et(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;Na(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new q$;return c.load(l),c})),this.particles.load(e.particles),this.style=Ei(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.plugins.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new Q$;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(u=>u.name===l.name);if(c)c.load(l);else{const u=new $$;u.load(l),this.themes.push(u)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*t>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=D3("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class Cee{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const fB=n=>{if(!Pn(n.outMode,n.checkModes))return;const e=n.radius*2;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)};class Tee{constructor(e,t,i,r,s,o){this.container=i,this._calcPosition=(a,l,c,u=0)=>{for(const[,w]of a.plugins){const _=w.particlePosition!==void 0?w.particlePosition(l,this):void 0;if(_)return hr.create(_.x,_.y,c)}const d=a.canvas.size,p=p$({size:d,position:l}),m=hr.create(p.x,p.y,c),y=this.getRadius(),x=this.options.move.outModes,A=w=>{fB({outMode:w,checkModes:["bounce","bounce-horizontal"],coord:m.x,maxCoord:a.canvas.size.width,setCb:_=>m.x+=_,radius:y})},g=w=>{fB({outMode:w,checkModes:["bounce","bounce-vertical"],coord:m.y,maxCoord:a.canvas.size.height,setCb:_=>m.y+=_,radius:y})};return A(x.left??x.default),A(x.right??x.default),g(x.top??x.default),g(x.bottom??x.default),this._checkOverlap(m,u)?this._calcPosition(a,void 0,c,u+1):m},this._calculateVelocity=()=>{const a=d$(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const u=Math.PI/180*ot(c.angle.value),d=Math.PI/180*ot(c.angle.offset),p={left:d-u/2,right:d+u/2};return c.straight||(l.angle+=Zi(Et(p.left,p.right))),c.random&&typeof c.speed=="number"&&(l.length*=rn()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,u=this.getRadius();if(!c.enable)return!1;const d=c.overlap;if(d.enable)return!1;const p=d.retries;if(p>=0&&l>p)throw new Error(`${Kr} particle is overlapping and can't be placed`);return!!this.container.particles.find(m=>vr(a,m.position)<u+m.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?F$(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=ot(this.options.zIndex.value);this.position=this._calcPosition(l,a,Ms(c,0,l.zLayers)),this.initialPosition=this.position.copy();const u=l.canvas.size;switch(this.moveCenter={...U3(this.options.move.center,u),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=f$(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=ii.origin},this._loadShapeData=(a,l)=>{const c=a.options[this.shape];if(c)return Ei({close:a.close,fill:a.fill},ko(c,this.id,l))},this._engine=e,this.init(t,r,s,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;for(const[,r]of t.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of t.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??lB(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??lB(this.strokeColor))}init(e,t,i,r){const s=this.container,o=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=q3(this._engine,s,l.particles),u=c.shape.type,{reduceDuplicates:d}=c;this.shape=ko(u,this.id,d);const p=c.shape;if(i&&i.shape&&i.shape.type){const _=i.shape.type,M=ko(_,this.id,d);M&&(this.shape=M,p.load(i.shape))}this.shapeData=this._loadShapeData(p,d),c.load(i);const m=this.shapeData;m&&c.load(m.particles);const y=new X3(o,s);y.load(s.actualOptions.interactivity),y.load(c.interactivity),this.interactivity=y,this.fill=(m==null?void 0:m.fill)??c.shape.fill,this.close=(m==null?void 0:m.close)??c.shape.close,this.options=c;const x=this.options.move.path;this.pathDelay=dc(x.delay)*1e3,x.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(x.generator),this.pathGenerator&&s.addPath(x.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=N3(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-ot(this.options.move.decay);const A=s.particles;A.needsSort=A.needsSort||A.lastZIndex<this.position.z,A.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let g=s.drawers.get(this.shape);g||(g=this._engine.plugins.getShapeDrawer(this.shape),g&&s.drawers.set(this.shape,g)),g&&g.loadShape&&g.loadShape(this);const w=g==null?void 0:g.getSidesCount;w&&(this.sides=w(this)),this.spawning=!1,this.shadowColor=xs(this.options.shadow.color);for(const _ of s.particles.updaters)_.init(this);for(const _ of s.particles.movers)_.init&&_.init(this);g&&g.particleInit&&g.particleInit(s,this);for(const[,_]of s.plugins)_.particleCreated&&_.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class Ree{constructor(e,t){this.position=e,this.particle=t}}class Q3{constructor(e,t){this.position={x:e,y:t}}}class Es extends Q3{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof bi&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Es?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+t&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class bi extends Q3{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return vr(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},s=this.radius;if(e instanceof bi){const o=s+e.radius,a=Math.sqrt(r.x**2+r.y**2);return o>a}else if(e instanceof Es){const{width:o,height:a}=e.size;return Math.pow(r.x-o,2)+Math.pow(r.y-a,2)<=s**2||r.x<=s+o&&r.y<=s+a||r.x<=o||r.y<=a}return!1}}class Z0{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new Z0(new Es(i+s/2*(l%2),r+o/2*(Math.round(l/2)-l%2),s/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&vr(e.position,s.position)>s.particle.getRadius()&&(!t||t(s.particle))||r.push(s.particle);if(this._divided)for(const s of this._subs)s.query(e,t,r);return r}queryCircle(e,t,i){return this.query(new bi(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Es(e.x,e.y,t.width,t.height),i)}}const dB=4,pB=n=>new Es(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let Pee=class{constructor(e,t){this._applyDensity=(r,s,o)=>{var m;if(!((m=r.number.density)!=null&&m.enable))return;const a=r.number,l=this._initDensityFactor(a.density),c=a.value,u=a.limit>0?a.limit:c,d=Math.min(c,u)*l+s,p=Math.min(this.count,this.filter(y=>y.group===o).length);this.limit=a.limit*l,p<d?this.push(Math.abs(d-p),void 0,r,o):p>d&&this.removeQuantity(p-d,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return 1;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.factor*a**2*r.area)},this._pushParticle=(r,s,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,r,s,o):l=new Tee(this._engine,this._nextId,this._container,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){pc().warning(`${Kr} adding particle: ${l}`);return}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(r,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new Cee(e,t);const i=t.canvas.size;this.quadTree=new Z0(pB(i),dB),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?U3(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,r){const s=this._container,o=s.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(i=s.particlesInitialization()),i)break;this._interactionManager.init();for(const[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!i){for(const s in t.particles.groups){const o=t.particles.groups[s];for(let a=this.count,l=0;l<((r=o.number)==null?void 0:r.value)&&a<t.particles.number.value;a++,l++)this.addParticle(void 0,o,s)}for(let s=this.count;s<t.particles.number.value;s++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(t==null?void 0:t.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let s=0;for(let o=e;s<t&&o<this.count;o++)this._removeParticle(o--,i,r)&&s++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,i=new Set;this.quadTree=new Z0(pB(t.canvas.size),dB);for(const[,r]of t.pathGenerators)r.update();for(const[,r]of t.plugins)r.update&&r.update(e);for(const r of this._array){const s=t.canvas.resizeFactor;s&&!r.ignoresResizeRatio&&(r.position.x*=s.width,r.position.y*=s.height,r.initialPosition.x*=s.width,r.initialPosition.y*=s.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,o]of this._container.plugins){if(r.destroyed)break;o.particleUpdate&&o.particleUpdate(r,e)}for(const o of this.movers)o.isEnabled(r)&&o.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new Ree(r.getPosition(),r))}if(i.size){const r=s=>!i.has(s);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const s of this.updaters)s.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete t.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class Bee{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||ph()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*i,e.canvas.size.height=o.offsetHeight*i}const r=t.particles,s=r.move;this.attractDistance=ot(s.attract.distance)*i,this.maxSpeed=ot(s.gravity.maxSpeed)*i,this.sizeAnimationSpeed=ot(r.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,s=r.distance,o=e.retina;o.attractDistance=ot(r.attract.distance)*i,o.moveDrift=ot(r.drift)*i,o.moveSpeed=ot(r.speed)*i,o.sizeAnimationSpeed=ot(t.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=ot(r.gravity.maxSpeed)*i}}function hn(n){return n&&!n.destroyed}function Iee(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}function uu(n,e,...t){const i=new bee(n,e);return K3(i,...t),i}const Lee="default",mB={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class Dee{constructor(e,t,i){this.id=t,this._intersectionManager=r=>{if(!(!hn(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=r);const s=Iee(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(s.value),this.lastFrameTime=r,s.value>1e3){this.draw(!1);return}if(await this.particles.draw(s),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(s){pc().error(`${Kr} in animation loop`,s)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new Bee(this),this.canvas=new N$(this),this.particles=new Pee(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=uu(this._engine,this),this.actualOptions=uu(this._engine,this),this._eventListeners=new U$(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!hn(this))return;const t=this.interactivity.element;if(!t)return;const i=(d,p,m)=>{if(!hn(this))return;const y=this.retina.pixelRatio,x={x:p.x*y,y:p.y*y},A=this.particles.quadTree.queryCircle(x,m*y);e(d,A)},r=d=>{if(!hn(this))return;const p=d,m={x:p.offsetX||p.clientX,y:p.offsetY||p.clientY};i(d,m,1)},s=()=>{hn(this)&&(c=!0,u=!1)},o=()=>{hn(this)&&(u=!0)},a=d=>{if(hn(this)){if(c&&!u){const p=d;let m=p.touches[p.touches.length-1];if(!m&&(m=p.changedTouches[p.changedTouches.length-1],!m))return;const y=this.canvas.element,x=y?y.getBoundingClientRect():void 0,A={x:m.clientX-(x?x.left:0),y:m.clientY-(x?x.top:0)};i(d,A,Math.max(m.radiusX,m.radiusY))}c=!1,u=!1}},l=()=>{hn(this)&&(c=!1,u=!1)};let c=!1,u=!1;t.addEventListener("click",r),t.addEventListener("touchstart",s),t.addEventListener("touchmove",o),t.addEventListener("touchend",a),t.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!hn(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??mB),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!hn(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!hn(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}pc().error(`${Kr} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&hn(this)}handleClickMode(e){if(hn(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!hn(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=uu(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=uu(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=ot(this.actualOptions.duration)*1e3,this._delay=ot(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){hn(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(hn(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!hn(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(hn(this))return this.stop(),this.start()}async reset(){if(hn(this))return this._initialSourceOptions=void 0,this._options=uu(this._engine,this),this.actualOptions=uu(this._engine,this,this._options),this.refresh()}setNoise(e,t,i){hn(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!hn(this))return;const r={...mB};if(z3(e))r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(Lee,r,!0)}async start(){!hn(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!hn(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class kee{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(t);s<0||(r===1?this._listeners.delete(e):i.splice(s,1))}}function C_(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(s=>s(n)),e.set(n,r)),r}class Fee{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){ri(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return C_(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return C_(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return C_(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(t,...i)}}async function Oee(n){const e=ko(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?t.json():(pc().error(`${Kr} ${t.status} while retrieving config file`),n.fallback)}function Nee(n){return!n.id&&!n.element&&!n.url&&!n.options}function Uee(n){return!Nee(n)}class zee{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new kee,this._initialized=!1,this.plugins=new Fee(this)}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"2.12.0"}addConfig(e,t){ys(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this.plugins.addInteractor(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this.plugins.addParticleMover(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this.plugins.addParticleUpdater(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.plugins.addPathGenerator(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){this.plugins.addPreset(e,t,i),await this.refresh(r)}async addShape(e,t,i,r,s,o=!0){let a,l=o,c,u,d;Na(i)?(l=i,c=void 0):c=i,Na(r)?(l=r,u=void 0):u=r,Na(s)?(l=s,d=void 0):d=s,z3(t)?a={afterEffect:u,destroy:d,draw:t,init:c}:a=t,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,i){let r;return Uee(e)?r=e:(r={},ys(e)?r.id=e:r.options=e,vs(t)?r.index=t:r.options=t??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,t,i){let r,s;return vs(t)||t===void 0?r=e:(s=e,r=t),this._loadParams({id:s,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i,r){const s={index:r};return ys(e)?s.id=e:s.element=e,t instanceof HTMLElement?s.element=t:s.options=t,vs(i)?s.index=i:s.options=i??s.options,this._loadParams(s)}async setJSON(e,t,i,r){const s={};return e instanceof HTMLElement?(s.element=e,s.url=t,s.index=i):(s.id=e,s.element=t,s.url=i,s.index=r),this._loadParams(s)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${Kr} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}async _loadParams(e){const t=e.id??`tsparticles${Math.floor(rn()*1e4)}`,{index:i,url:r}=e,s=r?await Oee({fallback:e.options,url:r,index:i}):e.options;let o=e.element??document.getElementById(t);o||(o=document.createElement("div"),o.id=t,document.body.append(o));const a=ko(s,i),l=this.dom(),c=l.findIndex(p=>p.id===t);if(c>=0){const p=this.domItem(c);p&&!p.destroyed&&(p.destroy(),l.splice(c,1))}let u;if(o.tagName.toLowerCase()==="canvas")u=o,u.dataset[qf]="false";else{const p=o.getElementsByTagName("canvas");p.length?(u=p[0],u.dataset[qf]="false"):(u=document.createElement("canvas"),u.dataset[qf]="true",o.appendChild(u))}u.style.width||(u.style.width="100%"),u.style.height||(u.style.height="100%");const d=new Dee(this,t,a);return c>=0?l.splice(c,0,d):l.push(d),d.canvas.loadCanvas(u),await d.start(),d}}class Hee{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return mh(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return mh({h:ot(i.h),l:ot(i.l),s:ot(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?C$({a:i.length>4?L3(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class Gee{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:ot(i.r),g:ot(i.g),b:ot(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?L3(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function Vee(){const n=new Gee,e=new Hee;aB(n),aB(e);const t=new zee;return t.init(),t}class to{constructor(e){this.container=e,this.type="external"}}class TE{constructor(e){this.container=e,this.type="particles"}}const $0=Vee();ph()||(window.tsParticles=$0);const Fu=n=>typeof n=="object"&&n!==null;function ey(n,e,t=()=>!1){if(!Fu(n)||!Fu(e))return n===e;const i=Object.keys(n).filter(s=>!t(s)),r=Object.keys(e).filter(s=>!t(s));if(i.length!==r.length)return!1;for(const s of i){const o=n[s],a=e[s];if(Fu(o)&&Fu(a)){if(o===e&&a===n)continue;if(!ey(o,a,t))return!1}else if(Array.isArray(o)&&Array.isArray(a)){if(!Z3(o,a,t))return!1}else if(o!==a)return!1}return!0}function Z3(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){const r=n[i],s=e[i];if(Array.isArray(r)&&Array.isArray(s)){if(!Z3(r,s,t))return!1}else if(Fu(r)&&Fu(s)){if(!ey(r,s,t))return!1}else if(r!==s)return!1}return!0}const $3="tsparticles";let eN=class tN extends k.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const t=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!ey(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!ey(t,i,r=>r.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init($0),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:r,id:s}=this.props;return ui.createElement("div",{className:i,id:s},ui.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:t}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??tN.defaultProps.id??$3,t=await $0.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=t),this.setState({library:t}),this.props.loaded&&await this.props.loaded(t)}};eN.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:$3};class ty{static init(e){var s;const t=new ty,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return $0.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:(s=e.responsive)==null?void 0:s.map(o=>{var a,l,c,u,d;return{maxWidth:o.breakpoint,options:{particles:{color:{value:(a=o.options)==null?void 0:a.color},links:{distance:(l=o.options)==null?void 0:l.minDistance,enable:(c=o.options)==null?void 0:c.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(u=o.options)==null?void 0:u.speed},size:{value:(d=o.options)==null?void 0:d.sizeVariations}}}}})}).then(o=>{t._container=o}),t}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const Wee=n=>{const e=(i,r)=>n.load(i,r);e.load=(i,r,s)=>{n.loadJSON(i,r).then(o=>{o&&s(o)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)};const t=n.dom();return{particlesJS:e,pJSDom:t}},jee=n=>{const{particlesJS:e,pJSDom:t}=Wee(n);return window.particlesJS=e,window.pJSDom=t,window.Particles=ty,{particlesJS:e,pJSDom:t,Particles:ty}};function Xee(n){const e=n.initialPosition,{dx:t,dy:i}=Ni(e,n.position),r=Math.abs(t),s=Math.abs(i),{maxDistance:o}=n.retina,a=o.horizontal,l=o.vertical;if(!(!a&&!l)){if((a&&r>=a||l&&s>=l)&&!n.misplaced)n.misplaced=!!a&&r>a||!!l&&s>l,a&&(n.velocity.x=n.velocity.y/2-n.velocity.x),l&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!a||r<a)&&(!l||s<l)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const c=n.position,u=n.velocity;a&&(c.x<e.x&&u.x<0||c.x>e.x&&u.x>0)&&(u.x*=-rn()),l&&(c.y<e.y&&u.y<0||c.y>e.y&&u.y>0)&&(u.y*=-rn())}}}function Jee(n,e,t,i,r,s){Kee(n,s);const o=n.gravity,a=o!=null&&o.enable&&o.inverse?-1:1;r&&t&&(n.velocity.x+=r*s.factor/(60*t)),o!=null&&o.enable&&t&&(n.velocity.y+=a*(o.acceleration*s.factor)/(60*t));const l=n.moveDecay;n.velocity.multTo(l);const c=n.velocity.mult(t);o!=null&&o.enable&&i>0&&(!o.inverse&&c.y>=0&&c.y>=i||o.inverse&&c.y<=0&&c.y<=-i)&&(c.y=a*i,t&&(n.velocity.y=c.y/t));const u=n.options.zIndex,d=(1-n.zIndexFactor)**u.velocityRate;c.multTo(d);const{position:p}=n;p.addTo(c),e.vibrate&&(p.x+=Math.sin(p.x*Math.cos(p.y)),p.y+=Math.cos(p.y*Math.sin(p.x)))}function Yee(n,e){const t=n.container;if(!n.spin)return;const i={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const r=Math.max(t.canvas.size.width,t.canvas.size.height);n.spin.radius>r/2?(n.spin.radius=r/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e/100*(1-n.spin.radius/r)}function Kee(n,e){var o;const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const s=(o=n.pathGenerator)==null?void 0:o.generate(n,e);s&&n.velocity.addTo(s),i.clamp&&(n.velocity.x=Ms(n.velocity.x,-1,1),n.velocity.y=Ms(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function qee(n){return n.slow.inRange?n.slow.factor:1}const Qee=2;class Zee{constructor(){this._initSpin=e=>{const t=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},o={x:s.x/100*t.canvas.size.width,y:s.y/100*t.canvas.size.height},a=e.getPosition(),l=vr(a,o),c=ot(r.acceleration);e.retina.spinAcceleration=c*t.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:l,acceleration:e.retina.spinAcceleration}}}init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:ot(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var y,x;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio,a=qee(e),l=((y=e.retina).moveSpeed??(y.moveSpeed=ot(r.speed)*o))*s.retina.reduceFactor,c=(x=e.retina).moveDrift??(x.moveDrift=ot(e.options.move.drift)*o),u=wa(i.size.value)*o,d=r.size?e.getRadius()/u:1,p=l*d*a*(t.factor||1)/Qee,m=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?Yee(e,p):Jee(e,r,p,m,c,t),Xee(e)}}async function $ee(n,e=!0){await n.addMover("base",()=>new Zee,e)}class ete{draw(e,t,i){t.circleRange||(t.circleRange={min:0,max:Math.PI*2});const r=t.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,t){const i=t.shapeData,r=(i==null?void 0:i.angle)??{max:360,min:0};t.circleRange=ku(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function tte(n,e=!0){await n.addShape("circle",new ete,e)}function T_(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=Zi(t.offset),o=(e.velocity??0)*n.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function nte(n,e){const{h:t,s:i,l:r}=n.options.color.animation,{color:s}=n;if(!s)return;const{h:o,s:a,l}=s;o&&T_(e,o,t,360,!1),a&&T_(e,a,i,100,!0),l&&T_(e,l,r,100,!0)}class ite{constructor(e){this.container=e}init(e){const t=Id(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=j3(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&t.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,t){nte(e,t)}}async function rte(n,e=!0){await n.addParticleUpdater("color",t=>new ite(t),e)}function ste(n,e,t,i){switch(n.options.opacity.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function ote(n,e){const t=n.opacity;if(n.destroyed||!(t!=null&&t.enable)||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=t.min,r=t.max,s=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=r?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=(t.velocity??0)*e.factor;break;case"decreasing":t.value<=i?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=(t.velocity??0)*e.factor;break}t.velocity&&t.decay!==1&&(t.velocity*=s),ste(n,t.value,i,r),n.destroyed||(t.value=Ms(t.value,i,r))}}class ate{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity=N3(t,1);const i=t.animation;i.enable&&(e.opacity.velocity=ot(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=rn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&ote(e,t)}}async function lte(n,e=!0){await n.addParticleUpdater("opacity",t=>new ate(t),e)}function cte(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split"||n.direction!=="left"&&n.direction!=="right")return;n.bounds.right<0&&n.direction==="left"?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction==="right"&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&e>0||n.direction==="left"&&n.bounds.left<=0&&e<0){const r=dc(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction==="right"?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=0&&n.direction==="left"&&(n.particle.position.x=i),n.outMode==="split"&&n.particle.destroy()}function ute(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split"||n.direction!=="bottom"&&n.direction!=="top")return;n.bounds.bottom<0&&n.direction==="top"?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction==="bottom"&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&e>0||n.direction==="top"&&n.bounds.top<=0&&e<0){const r=dc(n.particle.options.bounce.vertical);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction==="bottom"?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=0&&n.direction==="top"&&(n.particle.position.y=i),n.outMode==="split"&&n.particle.destroy()}class hte{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,p]of s.plugins)if(p.particleBounce!==void 0&&(o=p.particleBounce(e,i,t)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),u=up(a,c),d=s.canvas.size;cte({particle:e,outMode:r,direction:t,bounds:u,canvasSize:d,offset:l,size:c}),ute({particle:e,outMode:r,direction:t,bounds:u,canvasSize:d,offset:l,size:c})}}class fte{constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(ME(e.position,s.canvas.size,ii.origin,e.getRadius(),t))return;break;case"inside":{const{dx:o,dy:a}=Ni(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<0&&o>e.moveCenter.radius||c<0&&a>e.moveCenter.radius||l>=0&&o<-e.moveCenter.radius||c>=0&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class dte{constructor(e){this.container=e,this.modes=["none"]}update(e,t,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(t==="left"||t==="right")||e.options.move.distance.vertical&&(t==="top"||t==="bottom"))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&t==="bottom"||s.inverse&&c.y<-l&&t==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=a.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=a.width+l||e.velocity.x<0&&e.position.x>=-l)return;ME(e.position,o.canvas.size,ii.origin,l,t)||o.particles.remove(e)}}}class pte{constructor(e){this.container=e,this.modes=["out"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:o,y:a}=e.velocity,l=ii.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(ii.create(e.moveCenter));const{dx:c,dy:u}=Ni(e.position,l);if(o<=0&&c>=0||a<=0&&u>=0||o>=0&&c<=0||a>=0&&u<=0)return;e.position.x=Math.floor(Zi({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(Zi({min:0,max:s.canvas.size.height}));const{dx:d,dy:p}=Ni(e.position,e.moveCenter);e.direction=Math.atan2(-p,-d),e.velocity.angle=e.direction;break}default:{if(ME(e.position,s.canvas.size,ii.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(Zi({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Zi({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=Ni(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),u=up(e.position,c);t==="right"&&u.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=rn()*a.height,e.initialPosition.y=e.position.y)):t==="left"&&u.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=rn()*a.height,e.initialPosition.y=e.position.y)),t==="bottom"&&u.top>a.height+e.offset.y?(o||(e.position.x=rn()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):t==="top"&&u.bottom<-e.offset.y&&(o||(e.position.x=rn()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class mte{constructor(e){this.container=e,this._updateOutMode=(t,i,r,s)=>{for(const o of this.updaters)o.update(t,s,i,r)},this.updaters=[new hte(e),new fte(e),new pte(e),new dte(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,"bottom"),this._updateOutMode(e,t,i.left??i.default,"left"),this._updateOutMode(e,t,i.right??i.default,"right"),this._updateOutMode(e,t,i.top??i.default,"top")}}async function gte(n,e=!0){await n.addParticleUpdater("outModes",t=>new mte(t),e)}function yte(n,e,t,i){switch(n.options.size.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function vte(n,e){const t=n.size;if(n.destroyed||!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=(t.velocity??0)*e.factor,r=t.min,s=t.max,o=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=s?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=i;break;case"decreasing":t.value<=r?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=i}t.velocity&&o!==1&&(t.velocity*=o),yte(n,t.value,r,s),n.destroyed||(t.value=Ms(t.value,r,s))}}class xte{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/100*t.retina.reduceFactor,r.sync||(e.size.velocity*=rn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&vte(e,t)}}async function Ate(n,e=!0){await n.addParticleUpdater("size",()=>new xte,e)}async function _te(n,e=!0){await $ee(n,!1),await tte(n,!1),await rte(n,!1),await lte(n,!1),await gte(n,!1),await Ate(n,!1),await n.refresh(e)}async function wte(){m_("ease-in-quad",n=>n**2),m_("ease-out-quad",n=>1-(1-n)**2),m_("ease-in-out-quad",n=>n<.5?2*n**2:1-(-2*n+2)**2/2)}class Ste{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let Mte=class extends to{constructor(e,t){super(t),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const s=i.interactivity.mouse.clickPosition,o=i.retina.attractModeDistance;if(!o||o<0||!s)return;this._processAttract(s,o,new bi(s.x,s.y,o))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.attractModeDistance;!s||s<0||!r||this._processAttract(r,s,new bi(r.x,r.y,s))},this._processAttract=(i,r,s)=>{const o=this.container,a=o.actualOptions.interactivity.modes.attract;if(!a)return;const l=o.particles.quadTree.query(s,c=>this.isEnabled(c));for(const c of l){const{dx:u,dy:d,distance:p}=Ni(c.position,i),m=a.speed*a.factor,y=Ms(I3(a.easing)(1-p/r)*m,0,a.maxSpeed),x=ii.create(p===0?m:u/p*y,p===0?m:d/p*y);c.position.subFrom(x)}},this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!=="attract")){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const o of t.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},s.duration*1e3)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===fc,r=t.interactivity.events,s=r.onHover.enable,o=r.onHover.mode,a=r.onClick.enable,l=r.onClick.mode;i&&s&&Pn("attract",o)?this._hoverAttract():a&&Pn("attract",l)&&this._clickAttract()}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return Pn("attract",o)||Pn("attract",a)}loadModeOptions(e,...t){e.attract||(e.attract=new Ste);for(const i of t)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function Ete(n,e=!0){await n.addInteractor("externalAttract",t=>new Mte(n,t),e)}class bte{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class Cte extends to{constructor(e){super(e),this._processBounce=(t,i,r)=>{const s=this.container.particles.quadTree.query(r,o=>this.isEnabled(o));for(const o of s)r instanceof bi?F3(Vw(o),{position:t,radius:i,mass:i**2*Math.PI/2,velocity:ii.origin,factor:ii.origin}):r instanceof Es&&S$(o,up(t,i))},this._processMouseBounce=()=>{const t=this.container,i=t.retina.pixelRatio,r=10*i,s=t.interactivity.mouse.position,o=t.retina.bounceModeDistance;!o||o<0||!s||this._processBounce(s,o,new bi(s.x,s.y,o+r))},this._singleSelectorBounce=(t,i)=>{const r=this.container,s=document.querySelectorAll(t);s.length&&s.forEach(o=>{const a=o,l=r.retina.pixelRatio,c={x:(a.offsetLeft+a.offsetWidth/2)*l,y:(a.offsetTop+a.offsetHeight/2)*l},u=a.offsetWidth/2*l,d=10*l,p=i.type==="circle"?new bi(c.x,c.y,u+d):new Es(a.offsetLeft*l-d,a.offsetTop*l-d,a.offsetWidth*l+d*2,a.offsetHeight*l+d*2);this._processBounce(c,u,p)})}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===fc,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&Pn("bounce",o)?this._processMouseBounce():bE("bounce",a,(l,c)=>this._singleSelectorBounce(l,c))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return r.position&&s.onHover.enable&&Pn("bounce",s.onHover.mode)||EE("bounce",o)}loadModeOptions(e,...t){e.bounce||(e.bounce=new bte);for(const i of t)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function Tte(n,e=!0){await n.addInteractor("externalBounce",t=>new Cte(t),e)}class nN{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=xr(this.color)?void 0:this.color;this.color=ri(e.color,i=>di.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class Rte extends nN{constructor(){super(),this.selectors=[]}get ids(){return ri(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=ri(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class Pte extends nN{load(e){super.load(e),e&&(this.divs=ri(e.divs,t=>{const i=new Rte;return i.load(t),i}))}}function gB(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return Ms(r,n,e)}else if(e<t){const r=n-(t-e)*i;return Ms(r,e,n)}}class Bte extends to{constructor(e){super(e),this._clickBubble=()=>{var c;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!r)return;t.bubble||(t.bubble={});const o=t.retina.bubbleModeDistance;if(!o||o<0)return;const a=t.particles.quadTree.queryCircle(r,o,u=>this.isEnabled(u)),{bubble:l}=t;for(const u of a){if(!l.clicking)continue;u.bubble.inRange=!l.durationEnd;const d=u.getPosition(),p=vr(d,r),m=(new Date().getTime()-(t.interactivity.mouse.clickTime||0))/1e3;m>s.duration&&(l.durationEnd=!0),m>s.duration*2&&(l.clicking=!1,l.durationEnd=!1);const y={bubbleObj:{optValue:t.retina.bubbleModeSize,value:u.bubble.radius},particlesObj:{optValue:wa(u.options.size.value)*t.retina.pixelRatio,value:u.size.value},type:"size"};this._process(u,p,m,y);const x={bubbleObj:{optValue:s.opacity,value:u.bubble.opacity},particlesObj:{optValue:wa(u.options.opacity.value),value:((c=u.opacity)==null?void 0:c.value)??1},type:"opacity"};this._process(u,p,m,x),!l.durationEnd&&p<=o?this._hoverBubbleColor(u,p):delete u.bubble.color}},this._hoverBubble=()=>{const t=this.container,i=t.interactivity.mouse.position,r=t.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const s=t.particles.quadTree.queryCircle(i,r,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const a=o.getPosition(),l=vr(a,i),c=1-l/r;l<=r?c>=0&&t.interactivity.status===fc&&(this._hoverBubbleSize(o,c),this._hoverBubbleOpacity(o,c),this._hoverBubbleColor(o,c)):this.reset(o),t.interactivity.status===Hw&&this.reset(o)}},this._hoverBubbleColor=(t,i,r)=>{const s=this.container.actualOptions,o=r??s.interactivity.modes.bubble;if(o){if(!t.bubble.finalColor){const a=o.color;if(!a)return;const l=ko(a);t.bubble.finalColor=Id(l)}if(t.bubble.finalColor)if(o.mix){t.bubble.color=void 0;const a=t.getFillColor();t.bubble.color=a?G3(CE(a,t.bubble.finalColor,1-i,i)):t.bubble.finalColor}else t.bubble.color=t.bubble.finalColor}},this._hoverBubbleOpacity=(t,i,r)=>{var d,p;const s=this.container,o=s.actualOptions,a=(r==null?void 0:r.opacity)??((d=o.interactivity.modes.bubble)==null?void 0:d.opacity);if(!a)return;const l=t.options.opacity.value,c=((p=t.opacity)==null?void 0:p.value)??1,u=gB(c,a,wa(l),i);u!==void 0&&(t.bubble.opacity=u)},this._hoverBubbleSize=(t,i,r)=>{const s=this.container,o=r!=null&&r.size?r.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(o===void 0)return;const a=wa(t.options.size.value)*s.retina.pixelRatio,l=t.size.value,c=gB(l,o,a,i);c!==void 0&&(t.bubble.radius=c)},this._process=(t,i,r,s)=>{const o=this.container,a=s.bubbleObj.optValue,l=o.actualOptions,c=l.interactivity.modes.bubble;if(!c||a===void 0)return;const u=c.duration,d=o.retina.bubbleModeDistance,p=s.particlesObj.optValue,m=s.bubbleObj.value,y=s.particlesObj.value||0,x=s.type;if(!(!d||d<0||a===p))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)m&&(x==="size"&&delete t.bubble.radius,x==="opacity"&&delete t.bubble.opacity);else if(i<=d){if((m??y)!==a){const g=y-r*(y-a)/u;x==="size"&&(t.bubble.radius=g),x==="opacity"&&(t.bubble.opacity=g)}}else x==="size"&&delete t.bubble.radius,x==="opacity"&&delete t.bubble.opacity},this._singleSelectorHover=(t,i,r)=>{const s=this.container,o=document.querySelectorAll(i),a=s.actualOptions.interactivity.modes.bubble;!a||!o.length||o.forEach(l=>{const c=l,u=s.retina.pixelRatio,d={x:(c.offsetLeft+c.offsetWidth/2)*u,y:(c.offsetTop+c.offsetHeight/2)*u},p=c.offsetWidth/2*u,m=r.type==="circle"?new bi(d.x,d.y,p):new Es(c.offsetLeft*u,c.offsetTop*u,c.offsetWidth*u,c.offsetHeight*u),y=s.particles.quadTree.query(m,x=>this.isEnabled(x));for(const x of y){if(!m.contains(x.getPosition()))continue;x.bubble.inRange=!0;const A=a.divs,g=k3(A,c);(!x.bubble.div||x.bubble.div!==c)&&(this.clear(x,t,!0),x.bubble.div=c),this._hoverBubbleSize(x,1,g),this._hoverBubbleOpacity(x,1,g),this._hoverBubbleColor(x,1,g)}})},e.bubble||(e.bubble={}),this.handleClickMode=t=>{t==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}async interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,l=s.enable,c=s.mode,u=i.onDiv;o&&Pn("bubble",a)?this._hoverBubble():l&&Pn("bubble",c)?this._clickBubble():bE("bubble",u,(d,p)=>this._singleSelectorHover(e,d,p))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,c=EE("bubble",a);return c||l.enable&&r.position||o.enable&&r.clickPosition?Pn("bubble",l.mode)||Pn("bubble",o.mode)||c:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new Pte);for(const i of t)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function Ite(n,e=!0){await n.addInteractor("externalBubble",t=>new Bte(t),e)}class Lte{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class Dte{constructor(){this.distance=80,this.links=new Lte,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function kte(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),s=e.getFillColor(),o=t.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=t.getPosition(),c=CE(s,o,e.getRadius(),t.getRadius()),u=n.createLinearGradient(a.x,a.y,l.x,l.y);return u.addColorStop(0,Ld(s,i)),u.addColorStop(r>1?1:r,Fo(c,i)),u.addColorStop(1,Ld(o,i)),u}function Fte(n,e,t,i,r){Qf(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function Ote(n,e,t,i){const r=n.actualOptions,s=r.interactivity.modes.connect;if(s)return kte(e,t,i,s.links.opacity)}function Nte(n,e,t){n.canvas.draw(i=>{const r=Ote(n,i,e,t);if(!r)return;const s=e.getPosition(),o=t.getPosition();Fte(i,e.retina.linksWidth??0,r,s,o)})}class Ute extends to{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),s=e.particles.quadTree.queryCircle(i,r,a=>this.isEnabled(a));let o=0;for(const a of s){const l=a.getPosition();for(const c of s.slice(o+1)){const u=c.getPosition(),d=Math.abs(e.retina.connectModeDistance),p=Math.abs(l.x-u.x),m=Math.abs(l.y-u.y);p<d&&m<d&&Nte(e,a,c)}++o}}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Pn("connect",r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new Dte);for(const i of t)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function zte(n,e=!0){await n.addInteractor("externalConnect",t=>new Ute(t),e)}class Hte{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=di.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Gte{constructor(){this.distance=100,this.links=new Hte}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function Vte(n,e,t,i,r,s){Qf(n,t,i),n.strokeStyle=Fo(r,s),n.lineWidth=e,n.stroke()}function Wte(n,e,t,i,r){n.canvas.draw(s=>{const o=e.getPosition();Vte(s,e.retina.linksWidth??0,o,r,t,i)})}class jte extends to{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}async interact(){var a;const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==fc)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<0)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),u=vr(c,r);if(u>s)continue;const d=i.modes.grab.links,p=d.opacity,m=p-u*p/s;if(m<=0)continue;const y=d.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&y){const A=i.modes.grab.links;e.particles.grabLineColor=W3(y,A.blink,A.consent)}const x=Ww(l,void 0,e.particles.grabLineColor);x&&Wte(e,l,x,m,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Pn("grab",r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new Gte);for(const i of t)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function Xte(n,e=!0){await n.addInteractor("externalGrab",t=>new jte(t),e)}class Jte extends to{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function Yte(n,e=!0){await n.addInteractor("externalPause",t=>new Jte(t),e)}class Kte{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Et(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Et(t))}}class qte extends to{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="push")return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=ot(s.quantity);if(o<=0)return;const a=vv([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(o,i.interactivity.mouse,l,a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new Kte);for(const i of t)e.push.load(i==null?void 0:i.push)}reset(){}}async function Qte(n,e=!0){await n.addInteractor("externalPush",t=>new qte(t),e)}class Zte{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Et(e)}load(e){if(!e)return;const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Et(t))}}class $te extends to{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!=="remove")return;const s=ot(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new Zte);for(const i of t)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function ene(n,e=!0){await n.addInteractor("externalRemove",t=>new $te(t),e)}class iN{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class tne extends iN{constructor(){super(),this.selectors=[]}get ids(){return ri(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=ri(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class nne extends iN{load(e){super.load(e),e&&(this.divs=ri(e.divs,t=>{const i=new tne;return i.load(t),i}))}}class ine extends to{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse||{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<0)return;const a=Math.pow(o/6,3),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new bi(l.x,l.y,a),u=i.particles.quadTree.query(c,d=>this.isEnabled(d));for(const d of u){const{dx:p,dy:m,distance:y}=Ni(l,d.position),x=y**2,A=r.speed,g=-a*A/x;if(x<=a){s.particles.push(d);const w=ii.create(p,m);w.length=g,d.velocity.setTo(w)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<0||!r||this._processRepulse(r,s,new bi(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,u=>this.isEnabled(u)),c=a.actualOptions.interactivity.modes.repulse;if(c)for(const u of l){const{dx:d,dy:p,distance:m}=Ni(u.position,i),y=((o==null?void 0:o.speed)??c.speed)*c.factor,x=Ms(I3(c.easing)(1-m/r)*y,0,c.maxSpeed),A=ii.create(m===0?y:d/m*x,m===0?y:p/m*x);u.position.addTo(A)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const c=l,u=s.retina.pixelRatio,d={x:(c.offsetLeft+c.offsetWidth/2)*u,y:(c.offsetTop+c.offsetHeight/2)*u},p=c.offsetWidth/2*u,m=r.type==="circle"?new bi(d.x,d.y,p):new Es(c.offsetLeft*u,c.offsetTop*u,c.offsetWidth*u,c.offsetHeight*u),y=o.divs,x=k3(y,c);this._processRepulse(d,p,m,x)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!=="repulse")return;t.repulse||(t.repulse={particles:[]});const o=t.repulse;o.clicking=!0,o.count=0;for(const a of t.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{t.destroyed||(o.clicking=!1)},s.duration*1e3)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===fc,r=t.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,l=r.onClick,c=l.enable,u=l.mode,d=r.onDiv;i&&o&&Pn("repulse",a)?this._hoverRepulse():c&&Pn("repulse",u)?this._clickRepulse():bE("repulse",d,(p,m)=>this._singleSelectorRepulse(p,m))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,c=EE("repulse",o);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const u=a.mode,d=l.mode;return Pn("repulse",u)||Pn("repulse",d)||c}loadModeOptions(e,...t){e.repulse||(e.repulse=new nne);for(const i of t)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function rne(n,e=!0){await n.addInteractor("externalRepulse",t=>new ine(n,t),e)}class sne{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class one extends to{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Pn("slow",r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new sne);for(const i of t)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,s=t.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<0||!r)return;const a=e.getPosition(),l=vr(r,a),c=l/s,u=o.factor,{slow:d}=e;l>s||(d.inRange=!0,d.factor=c/u)}}async function ane(n,e=!0){await n.addInteractor("externalSlow",t=>new one(t),e)}const R_=[0,4,2,1],yB=[8,8,4,2];class lne{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;do{t=this.data[this.pos++];for(let i=t;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==0);return e}readSubBlocksBin(){let e=0,t=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)t+=e;const i=new Uint8Array(t);for(let r=0;(e=this.data[this.pos++])!==0;)for(let s=e;--s>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function rN(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}async function cne(n,e,t,i){switch(n.nextByte()){case 249:{const r=e.frames[t(!1)];n.pos++;const s=n.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=n.nextTwoBytes()*10;const a=n.nextByte();o&&i(a),n.pos++;break}case 255:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([t(!1),n.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function une(n,e,t,i,r,s){const o=e.frames[i(!0)];o.left=n.nextTwoBytes(),o.top=n.nextTwoBytes(),o.width=n.nextTwoBytes(),o.height=n.nextTwoBytes();const a=n.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const u=1<<(a&7)+1;l&&(o.localColorTable=rN(n,u));const d=g=>{const{r:w,g:_,b:M}=(l?o.localColorTable:e.globalColorTable)[g];return{r:w,g:_,b:M,a:g===r(null)?t?~~((w+_+M)/3):0:255}},p=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(g){if(g instanceof DOMException&&g.name==="IndexSizeError")return null;throw g}})();if(p==null)throw new EvalError("GIF frame size is to large");const m=n.nextByte(),y=n.readSubBlocksBin(),x=1<<m,A=(g,w)=>{const _=g>>>3,M=g&7;return(y[_]+(y[_+1]<<8)+(y[_+2]<<16)&(1<<w)-1<<M)>>>M};if(c){for(let g=0,w=m+1,_=0,M=[[0]],b=0;b<4;b++){if(R_[b]<o.height)for(let C=0,P=0;;){const I=g;if(g=A(_,w),_+=w+1,g===x){w=m+1,M.length=x+2;for(let T=0;T<M.length;T++)M[T]=T<x?[T]:[]}else{g>=M.length?M.push(M[I].concat(M[I][0])):I!==x&&M.push(M[I].concat(M[g][0]));for(let T=0;T<M[g].length;T++){const{r:B,g:G,b:Q,a:J}=d(M[g][T]);p.data.set([B,G,Q,J],R_[b]*o.width+yB[b]*P+C%(o.width*4)),C+=4}M.length===1<<w&&w<12&&w++}if(C===o.width*4*(P+1)&&(P++,R_[b]+yB[b]*P>=o.height))break}s==null||s(n.pos/(n.data.length-1),i(!1)+1,p,{x:o.left,y:o.top},{width:e.width,height:e.height})}o.image=p,o.bitmap=await createImageBitmap(p)}else{for(let g=0,w=m+1,_=0,M=[[0]],b=-4;;){const C=g;if(g=A(_,w),_+=w,g===x){w=m+1,M.length=x+2;for(let P=0;P<M.length;P++)M[P]=P<x?[P]:[]}else{if(g===x+1)break;g>=M.length?M.push(M[C].concat(M[C][0])):C!==x&&M.push(M[C].concat(M[g][0]));for(let P=0;P<M[g].length;P++){const{r:I,g:T,b:B,a:G}=d(M[g][P]);p.data.set([I,T,B,G],b+=4)}M.length>=1<<w&&w<12&&w++}}o.image=p,o.bitmap=await createImageBitmap(p),s==null||s((n.pos+1)/n.data.length,i(!1)+1,o.image,{x:o.left,y:o.top},{width:e.width,height:e.height})}}async function hne(n,e,t,i,r,s){switch(n.nextByte()){case 59:return!0;case 44:await une(n,e,t,i,r,s);break;case 33:await cne(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function fne(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function dne(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new lne(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,u=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=rN(o,c));const d=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(M){if(M instanceof DOMException&&M.name==="IndexSizeError")return null;throw M}})();if(d==null)throw new Error("GIF frame size is to large");const{r:p,g:m,b:y}=s.globalColorTable[u];d.data.set(l?[p,m,y,255]:[0,0,0,0]);for(let M=4;M<d.data.length;M*=2)d.data.copyWithin(M,0,M);s.backgroundImage=d;let x=-1,A=!0,g=-1;const w=M=>(M&&(A=!0),x),_=M=>(M!=null&&(g=M),g);try{do A&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),x++,g=-1,A=!1);while(!await hne(o,s,t,w,_,e));s.frames.length--;for(const M of s.frames){if(M.userInputDelayFlag&&M.delayTime===0){s.totalTime=1/0;break}s.totalTime+=M.delayTime}return s}catch(M){throw M instanceof EvalError?new Error(`error while parsing frame ${x} "${M.message}"`):M}}const pne=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function mne(n,e,t){const{svgData:i}=n;if(!i)return"";const r=Ld(e,t);if(i.includes("fill"))return i.replace(pne,()=>r);const s=i.indexOf(">");return`${i.substring(0,s)} fill="${r}"${i.substring(s)}`}async function Av(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,pc().error(`${Kr} loading image: ${n.source}`),e()}),t.src=n.source})}async function gne(n){if(n.type!=="gif"){await Av(n);return}n.loading=!0;try{n.gifData=await dne(n.source),n.gifLoopCount=fne(n.gifData)??0,n.gifLoopCount===0&&(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}async function yne(n){if(n.type!=="svg"){await Av(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(pc().error(`${Kr} Image not found`),n.error=!0),n.loading=!1}function vne(n,e,t,i){var o;const r=mne(n,t,((o=i.opacity)==null?void 0:o.value)??1),s={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,u=c.createObjectURL(l),d=new Image;d.addEventListener("load",()=>{s.loaded=!0,s.element=d,a(s),c.revokeObjectURL(u)}),d.addEventListener("error",async()=>{c.revokeObjectURL(u);const p={...n,error:!1,loading:!0};await Av(p),s.loaded=!0,s.element=p.element,a(s)}),d.src=u})}class xne{constructor(e){this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${Kr} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??t.replace_color??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,t,i,r,s){const o=t.image,a=o==null?void 0:o.element;if(o){if(e.globalAlpha=r,o.gif&&o.gifData){const l=new OffscreenCanvas(o.gifData.width,o.gifData.height),c=l.getContext("2d");if(!c)throw new Error("could not create offscreen canvas context");c.imageSmoothingQuality="low",c.imageSmoothingEnabled=!1,c.clearRect(0,0,l.width,l.height),t.gifLoopCount===void 0&&(t.gifLoopCount=o.gifLoopCount??0);let u=t.gifFrame??0;const d={x:-o.gifData.width*.5,y:-o.gifData.height*.5},p=o.gifData.frames[u];if(t.gifTime===void 0&&(t.gifTime=0),!p.bitmap)return;switch(e.scale(i/o.gifData.width,i/o.gifData.height),p.disposalMethod){case 4:case 5:case 6:case 7:case 0:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,d.x,d.y),c.clearRect(0,0,l.width,l.height);break;case 1:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,d.x,d.y);break;case 2:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,d.x,d.y),c.clearRect(0,0,l.width,l.height),o.gifData.globalColorTable.length===0?c.putImageData(o.gifData.frames[0].image,d.x+p.left,d.y+p.top):c.putImageData(o.gifData.backgroundImage,d.x,d.y);break;case 3:{const m=c.getImageData(0,0,l.width,l.height);c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,d.x,d.y),c.clearRect(0,0,l.width,l.height),c.putImageData(m,0,0)}break}if(t.gifTime+=s.value,t.gifTime>p.delayTime){if(t.gifTime-=p.delayTime,++u>=o.gifData.frames.length){if(--t.gifLoopCount<=0)return;u=0,c.clearRect(0,0,l.width,l.height)}t.gifFrame=u}e.scale(o.gifData.width/i,o.gifData.height/i)}else if(a){const l=o.ratio,c={x:-i,y:-i};e.drawImage(a,c.x,c.y,i*2,i*2/l)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData,s=t.getFillColor(),o=i.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??r.replace_color??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let l;o.svgData&&s?l=await vne(o,r,s,t):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??1,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??t.fill,u=r.close??t.close,d={image:l,fill:c,close:u};t.image=d.image,t.fill=d.fill,t.close=d.close})()}}class Ane{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class _ne{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,t){if(!t||!t.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new Ane;o.load(r),i.push(o)}}}needsPlugin(){return!0}}function wne(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${Kr} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t),await(e.gif?gne:e.replaceColor?yne:Av)(t)}catch{throw new Error(`${Kr} ${e.name??e.src} not found`)}})}async function Sne(n,e=!0){wne(n);const t=new _ne(n);await n.addPlugin(t,e),await n.addShape(["image","images"],new xne(n),e)}class Mne extends il{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Ene extends il{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class bne{constructor(){this.count=0,this.delay=new Mne,this.duration=new Ene}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class Cne{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?ot(r.delay.value)*(r.delay.sync?1:rn())/t.retina.reduceFactor*1e3:0,delayTime:0,duration:t.retina.reduceFactor?ot(r.duration.value)*(r.duration.sync?1:rn())/t.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new bne);for(const i of t)e.life.load(i==null?void 0:i.life)}update(e,t){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=t.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=t.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,o=Et(0,s.width),a=Et(0,s.width);e.position.x=Zi(o),e.position.y=Zi(a),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const l=e.options.life;l&&(i.delay=ot(l.delay.value)*1e3,i.duration=ot(l.duration.value)*1e3)}}async function Tne(n,e=!0){await n.addParticleUpdater("life",t=>new Cne(t),e)}class Rne{draw(e,t,i){const r=t.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=(r==null?void 0:r.cap)??"butt"}getSidesCount(){return 1}}async function Pne(n,e=!0){await n.addShape("line",new Rne,e)}class Bne{init(){}isEnabled(e){return!ph()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(ph()||!r.enable)return;const s=r.force,o=t.interactivity.mouse.position;if(!o)return;const a=t.canvas.size,l={x:a.width/2,y:a.height/2},c=r.smooth,u=e.getRadius()/s,d={x:(o.x-l.x)*u,y:(o.y-l.y)*u},{offset:p}=e;p.x+=(d.x-p.x)/c,p.y+=(d.y-p.y)/c}}async function Ine(n,e=!0){await n.addMover("parallax",()=>new Bne,e)}class Lne extends TE{constructor(e){super(e)}clear(){}init(){}async interact(e){const t=this.container,i=e.retina.attractDistance??t.retina.attractDistance,r=e.getPosition(),s=t.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=Ni(r,a),u=e.options.move.attract.rotate,d=l/(u.x*1e3),p=c/(u.y*1e3),m=o.size.value/e.size.value,y=1/m;e.velocity.x-=d*m,e.velocity.y-=p*m,o.velocity.x+=d*y,o.velocity.y+=p*y}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function Dne(n,e=!0){await n.addInteractor("particlesAttract",t=>new Lne(t),e)}function vB(n,e,t,i,r,s){const o=Ms(n.options.collisions.absorb.speed*r.factor/10,0,i);n.size.value+=o/2,t.size.value-=o,i<=s&&(t.size.value=0,t.destroy())}function kne(n,e,t,i){const r=n.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?n.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?vB(n,r,e,s,t,i):vB(e,s,n,r,t,i))}const xB=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=ot(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function sN(n,e){F3(Vw(n),Vw(e)),xB(n),xB(e)}function Fne(n,e){!n.unbreakable&&!e.unbreakable&&sN(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function One(n,e,t,i){switch(n.options.collisions.mode){case"absorb":{kne(n,e,t,i);break}case"bounce":{sN(n,e);break}case"destroy":{Fne(n,e);break}}}class Nne extends TE{constructor(e){super(e)}clear(){}init(){}async interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*2);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const u=vr(r,l),d=s+c;u>d||One(e,a,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function Une(n,e=!0){await n.addInteractor("particlesCollisions",t=>new Nne(t),e)}class zne extends bi{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-t,y:s})||super.contains({x:r-t,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new bi(r.x,r.y,i.radius*2);return super.intersects(s)}else if(t.size!==void 0){const s=new Es(r.x,r.y,t.size.width*2,t.size.height*2);return super.intersects(s)}return!1}}class Hne{constructor(){this.blur=5,this.color=new di,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=di.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class Gne{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=di.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Vne{constructor(){this.blink=!1,this.color=new di,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new Hne,this.triangles=new Gne,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=di.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function Wne(n,e,t,i,r){const{dx:s,dy:o,distance:a}=Ni(n,e);if(!r||a<=t)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**2+c.y**2)}class jne extends TE{constructor(e){super(e),this._setColor=t=>{if(!t.options.links)return;const i=this.linkContainer,r=t.options.links;let s=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(s)return;const o=r.color;s=W3(o,r.blink,r.consent),r.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(r.id,s)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<0||t.y<0||t.x>r.width||t.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??0,l=s.warp,c=l?new zne(t.x,t.y,a,r):new bi(t.x,t.y,a),u=i.particles.quadTree.query(c);for(const d of u){const p=d.options.links;if(e===d||!(p!=null&&p.enable)||s.id!==p.id||d.spawning||d.destroyed||!d.links||e.links.some(A=>A.destination===d)||d.links.some(A=>A.destination===e))continue;const m=d.getPosition();if(m.x<0||m.y<0||m.x>r.width||m.y>r.height)continue;const y=Wne(t,m,a,r,l&&p.warp);if(y>a)continue;const x=(1-y/a)*o;this._setColor(e),e.links.push({destination:d,opacity:x})}}isEnabled(e){var t;return!!((t=e.options.links)!=null&&t.enable)}loadParticlesOptions(e,...t){e.links||(e.links=new Vne);for(const i of t)e.links.load((i==null?void 0:i.links)??(i==null?void 0:i.lineLinked)??(i==null?void 0:i.line_linked))}reset(){}}async function Xne(n,e=!0){await n.addInteractor("particlesLinks",t=>new jne(t),e)}function Jne(n){let e=!1;const{begin:t,end:i,maxDistance:r,context:s,canvasSize:o,width:a,backgroundMask:l,colorLine:c,opacity:u,links:d}=n;if(vr(t,i)<=r)Qf(s,t,i),e=!0;else if(d.warp){let m,y;const x={x:i.x-o.width,y:i.y},A=Ni(t,x);if(A.distance<=r){const g=t.y-A.dy/A.dx*t.x;m={x:0,y:g},y={x:o.width,y:g}}else{const g={x:i.x,y:i.y-o.height},w=Ni(t,g);if(w.distance<=r){const M=-(t.y-w.dy/w.dx*t.x)/(w.dy/w.dx);m={x:M,y:0},y={x:M,y:o.height}}else{const _={x:i.x-o.width,y:i.y-o.height},M=Ni(t,_);if(M.distance<=r){const b=t.y-M.dy/M.dx*t.x;m={x:-b/(M.dy/M.dx),y:b},y={x:m.x+o.width,y:m.y+o.height}}}}m&&y&&(Qf(s,t,m),Qf(s,i,y),e=!0)}if(!e)return;s.lineWidth=a,l.enable&&(s.globalCompositeOperation=l.composite),s.strokeStyle=Fo(c,u);const{shadow:p}=d;if(p.enable){const m=xs(p.color);m&&(s.shadowBlur=p.blur,s.shadowColor=Fo(m))}s.stroke()}function Yne(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=n;T$(e,t,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=Fo(o,a),e.fill()}function Kne(n){return n.sort((e,t)=>e-t),n.join("_")}function AB(n,e){const t=Kne(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=rn(),e.set(t,i)),i}class qne{constructor(e){this.container=e,this._drawLinkLine=(t,i)=>{const r=t.options.links;if(!(r!=null&&r.enable))return;const s=this.container,o=s.actualOptions,a=i.destination,l=t.getPosition(),c=a.getPosition();let u=i.opacity;s.canvas.draw(d=>{var g;let p;const m=(g=t.options.twinkle)==null?void 0:g.lines;if(m!=null&&m.enable){const w=m.frequency,_=xs(m.color);rn()<w&&_&&(p=_,u=ot(m.opacity))}if(!p){const w=r.id!==void 0?s.particles.linksColors.get(r.id):s.particles.linksColor;p=Ww(t,a,w)}if(!p)return;const y=t.retina.linksWidth??0,x=t.retina.linksDistance??0,{backgroundMask:A}=o;Jne({context:d,width:y,begin:l,end:c,maxDistance:x,canvasSize:s.canvas.size,links:r,backgroundMask:A,colorLine:p,opacity:u})})},this._drawLinkTriangle=(t,i,r)=>{const s=t.options.links;if(!(s!=null&&s.enable))return;const o=s.triangles;if(!o.enable)return;const a=this.container,l=a.actualOptions,c=i.destination,u=r.destination,d=o.opacity??(i.opacity+r.opacity)/2;d<=0||a.canvas.draw(p=>{const m=t.getPosition(),y=c.getPosition(),x=u.getPosition(),A=t.retina.linksDistance??0;if(vr(m,y)>A||vr(x,y)>A||vr(x,m)>A)return;let g=xs(o.color);if(!g){const w=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;g=Ww(t,c,w)}g&&Yne({context:p,pos1:m,pos2:y,pos3:x,backgroundMask:l.backgroundMask,colorTriangle:g,opacityTriangle:d})})},this._drawTriangles=(t,i,r,s)=>{var l,c,u;const o=r.destination;if(!((l=t.links)!=null&&l.triangles.enable&&((c=o.options.links)!=null&&c.triangles.enable)))return;const a=(u=o.links)==null?void 0:u.filter(d=>{const p=this._getLinkFrequency(o,d.destination);return o.options.links&&p<=o.options.links.frequency&&s.findIndex(m=>m.destination===d.destination)>=0});if(a!=null&&a.length)for(const d of a){const p=d.destination;this._getTriangleFrequency(i,o,p)>t.links.triangles.frequency||this._drawLinkTriangle(i,r,d)}},this._getLinkFrequency=(t,i)=>AB([t,i],this._freqs.links),this._getTriangleFrequency=(t,i,r)=>AB([t,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i||i.length<=0)return;const s=i.filter(o=>r.links&&this._getLinkFrequency(t,o.destination)<=r.links.frequency);for(const o of s)this._drawTriangles(r,t,o,s),o.opacity>0&&(t.retina.linksWidth??0)>0&&this._drawLinkLine(t,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*t,i.linksWidth=s*t}particleDestroyed(e){e.links=[]}}class Qne{constructor(){this.id="links"}getPlugin(e){return new qne(e)}loadOptions(){}needsPlugin(){return!0}}async function Zne(n,e=!0){const t=new Qne;await n.addPlugin(t,e)}async function $ne(n,e=!0){await Xne(n,e),await Zne(n,e)}class oN{draw(e,t,i){const r=this.getCenter(t,i),s=this.getSidesData(t,i),o=s.count.numerator*s.count.denominator,a=s.count.numerator/s.count.denominator,l=180*(a-2)/a,c=Math.PI-Math.PI*l/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let u=0;u<o;u++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(c)}}getSidesCount(e){const t=e.shapeData;return Math.round(ot((t==null?void 0:t.sides)??(t==null?void 0:t.nb_sides)??5))}}class eie extends oN{getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/(2.66/3.5)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*2.66/(i/3)}}}class tie extends oN{getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:t*2}}}async function nie(n,e=!0){await n.addShape("polygon",new eie,e)}async function iie(n,e=!0){await n.addShape("triangle",new tie,e)}async function rie(n,e=!0){await nie(n,e),await iie(n,e)}class sie{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Et(e.speed)),e.decay!==void 0&&(this.decay=Et(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class oie extends il{constructor(){super(),this.animation=new sie,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function aie(n,e){const t=n.rotate,i=n.options.rotate;if(!t||!i)return;const r=i.animation,s=(t.velocity??0)*e.factor,o=2*Math.PI,a=t.decay??1;if(r.enable){switch(t.status){case"increasing":t.value+=s,t.value>o&&(t.value-=o);break;case"decreasing":default:t.value-=s,t.value<0&&(t.value+=o);break}t.velocity&&a!==1&&(t.velocity*=a)}}class lie{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:ot(t.value)*Math.PI/180},e.pathRotation=t.path;let i=t.direction;switch(i==="random"&&(i=Math.floor(rn()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=t.animation;r.enable&&(e.rotate.decay=1-ot(r.decay),e.rotate.velocity=ot(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=rn())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&t.animation.enable&&!t.path:!1}loadOptions(e,...t){e.rotate||(e.rotate=new oie);for(const i of t)e.rotate.load(i==null?void 0:i.rotate)}update(e,t){var i;this.isEnabled(e)&&(aie(e,t),e.rotation=((i=e.rotate)==null?void 0:i.value)??0)}}async function cie(n,e=!0){await n.addParticleUpdater("rotate",t=>new lie(t),e)}const uie=Math.sqrt(2);class hie{draw(e,t,i){const r=i/uie,s=r*2;e.rect(-r,-r,s,s)}getSidesCount(){return 4}}async function fie(n,e=!0){await n.addShape(["edge","square"],new hie,e)}class die{draw(e,t,i){const r=t.sides,s=t.starInset??2;e.moveTo(0,0-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(0,0-i*s),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const t=e.shapeData;return Math.round(ot((t==null?void 0:t.sides)??(t==null?void 0:t.nb_sides)??5))}particleInit(e,t){const i=t.shapeData,r=ot((i==null?void 0:i.inset)??2);t.starInset=r}}async function pie(n,e=!0){await n.addShape("star",new die,e)}function P_(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=Zi(t.offset),o=(e.velocity??0)*n.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function mie(n,e){if(!n.strokeColor||!n.strokeAnimation)return;const{h:t,s:i,l:r}=n.strokeColor,{h:s,s:o,l:a}=n.strokeAnimation;t&&P_(e,t,s,360,!1),i&&P_(e,i,o,100,!0),r&&P_(e,r,a,100,!0)}class gie{constructor(e){this.container=e}init(e){var o;const t=this.container,i=e.options,r=ko(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=ot(r.width)*t.retina.pixelRatio,e.strokeOpacity=ot(r.opacity??1),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=Id(r.color)??e.getFillColor();s&&(e.strokeColor=j3(s,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&mie(e,t)}}async function yie(n,e=!0){await n.addParticleUpdater("strokeColor",t=>new gie(t),e)}const s0=["text","character","char"];class vie{draw(e,t,i,r){const s=t.shapeData;if(s===void 0)return;const o=s.value;if(o===void 0)return;t.text===void 0&&(t.text=ko(o,t.randomIndexData));const a=t.text,l=s.style??"",c=s.weight??"400",u=Math.round(i)*2,d=s.font??"Verdana",p=t.fill,m=a.length*i/2;e.font=`${l} ${c} ${u}px "${d}"`;const y={x:-m,y:i/2};e.globalAlpha=r,p?e.fillText(a,y.x,y.y):e.strokeText(a,y.x,y.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(s0.find(i=>Pn(i,t.particles.shape.type))){const i=s0.map(s=>t.particles.shape.options[s]).find(s=>!!s),r=[];ri(i,s=>{r.push(x$(s.font,s.weight))}),await Promise.all(r)}}particleInit(e,t){if(!t.shape||!s0.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(t.text=ko(r,t.randomIndexData))}}async function xie(n,e=!0){await n.addShape(s0,new vie,e)}async function Aie(n,e=!0){jee(n),await Ine(n,!1),await Ete(n,!1),await Tte(n,!1),await Ite(n,!1),await zte(n,!1),await Xte(n,!1),await Yte(n,!1),await Qte(n,!1),await ene(n,!1),await rne(n,!1),await ane(n,!1),await Dne(n,!1),await Une(n,!1),await $ne(n,!1),await wte(),await Sne(n,!1),await Pne(n,!1),await rie(n,!1),await fie(n,!1),await pie(n,!1),await xie(n,!1),await Tne(n,!1),await cie(n,!1),await yie(n,!1),await _te(n,e)}const _ie=()=>{const{theme:n}=ir(),e=k.useCallback(async t=>{await Aie(t)},[]);return $.jsx(eN,{id:"tsparticles",init:e,options:{fullScreen:{enable:!1},background:{color:n==="dark"?"#0f172a":"#f8fafc"},fpsLimit:60,detectRetina:!0,interactivity:{events:{onHover:{enable:!0,mode:["grab","repulse"],parallax:{enable:!0,force:100,smooth:20}},resize:!0},modes:{grab:{distance:200,links:{opacity:.8}},repulse:{distance:60,duration:.4}}},particles:{number:{value:100,density:{enable:!0,area:800}},color:{value:n==="dark"?["#38bdf8","#22c55e","#f43f5e"]:["#1d4ed8","#9333ea","#eab308"]},links:{enable:!0,distance:150,color:n==="dark"?"#64748b":"#94a3b8",opacity:.5,width:1},move:{enable:!0,speed:1.2,direction:"none",random:!0,straight:!1,outModes:{default:"bounce"}},size:{value:{min:2,max:5},random:!0,animation:{enable:!0,speed:2,minimumValue:1,sync:!1}},opacity:{value:.8}}},className:"absolute inset-0 w-full h-full z-0"})},wie=()=>{const{theme:n}=ir();return $.jsxs("section",{className:"relative w-full h-screen mx-auto bg-background-light dark:bg-background-dark transition-colors duration-300",id:"heroSection",children:[$.jsx(_ie,{}),$.jsxs(Ht.div,{variants:Eh("top","spring",.1,1),className:`${Ro.paddingX} absolute inset-0 top-[120px] max-w-7xl mx-auto flex flex-row items-start gap-5 z-20`,children:[$.jsxs("div",{className:"flex flex-col items-center justify-center mt-5",children:[$.jsx(Ht.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:1,delay:.2},className:"w-5 h-5 rounded-full bg-primary-light dark:bg-primary-dark"}),$.jsx(Ht.div,{initial:{opacity:0,height:0},animate:{opacity:[.2,1,.2],height:"100%"},transition:{duration:3,repeat:1/0},className:"w-1 sm:h-80 h-40 bg-gradient-to-b from-primary-light via-accent-light to-transparent dark:from-primary-dark dark:via-accent-dark"})]}),$.jsxs("div",{children:[$.jsxs("h1",{className:`${Ro.heroHeadText} text-text-light dark:text-text-dark`,children:["Hello. I am"," ",$.jsx("span",{className:`
                ${Ro.heroHeadText} transition-colors duration-300
                ${n==="dark"?"text-blue-500":"text-amber-500"}
              `,children:"Jun Ki"})]}),$.jsxs("p",{className:`${Ro.heroSubText} mt-2 text-secondary-dark dark:text-secondary-light`,children:[$.jsx("span",{children:"I am a "}),$.jsx(Ht.span,{animate:{color:["#1d4ed8","#22d3ee","#f43f5e","#10b981"]},transition:{duration:8,repeat:1/0,repeatType:"mirror"},children:$.jsx(t$,{strings:["Full Stack Developer","Game Developer"],typeSpeed:50,backSpeed:30,backDelay:1500,loop:!0,className:"font-semibold"})})]}),$.jsx(Ht.a,{href:"/Portfolio//JunCV2026.pdf",download:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},whileHover:{scale:1.1,boxShadow:n==="dark"?"0px 0px 15px rgba(59,130,246,0.6), 0px 0px 25px rgba(59,130,246,0.3)":"0px 0px 15px rgba(251,191,36,0.6), 0px 0px 25px rgba(251,191,36,0.3)"},whileTap:{scale:.95},className:`
              mt-6 inline-block px-6 py-3 font-semibold rounded-xl shadow-lg cursor-pointer
              transition-colors duration-700
              ${n==="dark"?"bg-blue-600 text-white hover:bg-blue-700":"bg-amber-400 text-black hover:bg-amber-500"} 
            `,children:"Download CV"})]})]}),$.jsx("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",id:"transitionDot",children:$.jsx("a",{href:"#about",children:$.jsx("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary-dark dark:border-secondary-light flex justify-center items-start p-2",children:$.jsx(Ht.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary-dark dark:bg-secondary-light mb-1"})})})})]})};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mie=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),_B=n=>{const e=Mie(n);return e.charAt(0).toUpperCase()+e.slice(1)},aN=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),Eie=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=k.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>k.createElement("svg",{ref:l,...bie,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:aN("lucide",r),...!s&&!Eie(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>k.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=(n,e)=>{const t=k.forwardRef(({className:i,...r},s)=>k.createElement(Cie,{ref:s,iconNode:e,className:aN(`lucide-${Sie(_B(n))}`,`lucide-${n}`,i),...r}));return t.displayName=_B(n),t};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Rie=lN("moon",Tie);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Bie=lN("sun",Pie),Iie="/Portfolio/assets/backend-565fc01f.png",Lie="/Portfolio/assets/creator-dbbffaec.png",Die="/Portfolio/assets/mobile-896ef2f5.png",kie="/Portfolio/assets/web-0d05165f.png",Fie="/Portfolio/assets/github-3b4e1609.png",Oie="/Portfolio/assets/menu-4d128264.svg",Nie="/Portfolio/assets/close-f3481e97.svg",Uie="/Portfolio/assets/junki-d9c5259f.svg",zie="/Portfolio/assets/docker-602a695a.png",Hie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",Gie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",Vie="/Portfolio/assets/nodejs-d83eb6dd.png",Wie="/Portfolio/assets/tailwind-6ece120d.png",jie="/Portfolio/assets/threejs-fe160e71.svg",Xie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAALJklEQVR4nO1cCZAVxRkeTjUmIvu63wYlHglRIzlIdqd3VXDZmeVITKKmXHNpgbzuWRHxqEjikWSjICVqDq0carxyWFBELVADxj3+fhzGxMUyuhJJwCtqQBFhZx5gFn2pf+bt+naYefv24M3O7HxVXVtb9Hv8/Xf3f3z/36soMWLEiBEjRowYMWLEiBFy7JzNjtqjq4mg5RjWsDSVBy3DsIapsUczWvWxQcsxbGHp6hNWnXp10HIMS2QVZYSlqTssnaWDlmVYIlNbVWHpLGvp6q6gZRmWsHR1OW6AqakH8DYELc+wQofGppkae9+5ASybrak5PGiZhg3erfnC0abGtnUp39TUN4KWadggW3/qWEtXW7uU72wAezxouYYFsrMnHWbq7OF85ePoqFPnBy1b5JH9asVH8KS7lW/q6t7dU6eOD1q+yNt8S2Mb3Mp3NoDdFLR8kca+GexES2PPeynf0tXtSMgFLWNksae28nRUss/J/yCjsXMKfT474/NHdtSqZ1o6W2Rq7H5LYz81tary0q0gxLA0da6psf3eJ59lLY3d5vm5WRUT0ClbGms2dbUz5yc6LY1dm62vH1X6lYQMWUUZYerqT3wV74w0hqP5n7Pq1FmmxtbmJ2e5EHVbpo5VB7eiECFbUTHG1Nl9BZWvsX/mRz2ZOrXS0tT1PnP/GPuIIrGjpuajXmGmK+R8ee/Myk/gfDQnps6WdJkZ16l/Ly7U9DHGtzQVCp98dcee2sqT7fnV1UeYmrrKLzLqmF5xRtBrCg2yzkle04vNf9usVSfb8xuVkZbGHvK5Ia/srqmeFPSaQgVTV28saHY0ZqGd75pv6ewaH3u/JVPDJga7mpDBmqFOQS7fX/nqgYzOzu6av7eu4jhTYxkPs7MrPvn9gNmL6clorME1f4n36a/8cnCrCCk6Zk+hXhFMnj2/xf0ZU1Nf8jj9LcGsIOSwatlM/9OvvuCucO2eWV3ms1HLgltFiGHWqef72/6qGe75Ga2C+Tjf24NZQcjR4ZBknpmuV4Hdzni984PngllBNDLf/QebFHaf13zsfvN31hWs9CuIAExd/bOHQm/1m2/prN3HZzxRWsmj7Ig11uQ339SqLi+QsNWWVvoo9XbqPZOvfTVVJ3jNdTgg9qrPJsTtif2BWatONnV1n2sTlvrNt+rYWX63oKOuampppY8ITF29zGWG3sIWFL/5lsYe8KEu7iyt5BGCqat391BobdVFhbJoZEg9NmFraaWOWDXM0lhTnjJfROrZb35GrzI8HLFVWqmj2fP5dLdN19h5fnORqkAW1GW6dpZW4ghiV13FOFNnG3NZ7ma8GX2IoFaVVtoIZ8mWxppzZmVBofdhPbPoqumllTTCyNbUjLY09is0M15PUe32FY29lmd+VgQj6VBHfftYymEKNWQ9EfJyIuTNVMDdlMuVOAgHkZi34ZhC2a8X5ZzR1HPz+KONWNgvVqSyhnWnEgN+RIT8E+GymXK4hwq4UGmE0Uro0ZgdSQ2YSjncSoR8nnLZSYXMdg8uO3HhSaNVL3bBll75RTRLPR0w24rtiabOflvs65hynj7R3vh8eXoM2PzxeS3HK2EFNdIzqYAtvgvksHqgC3ReRrIH8J1AX9tPJl755BFdP0lKfoVyKT1k/FfZwqfC18xFRGsNFfKAv/JlZyFTUyywudav++GYBU2J8nnwWVu5BswnAn6JJgZNH97Mgz+RHUG5/JlbViLkdUrYQIS83f9qd1/x94iAfxAuH8yZqOtsv8DTKfQRXoMYwAmXBhVwFeXyB4TLpYTLX1MulxMhHydcPkWE/DcRcp+HIi38jl5NpoBnXLfg70rYkEjJr1EBH/S+CbJEAzbjbShGdirk93tsHJfhTOiSXJ5LBLwUpOKJgLfwhkww2oqOihIi3eD+HsVo800AhzYasyOTAuqokD+nQrYRLvcPupK5NPGEEy6b0M4nOVyMPmiCAaQ/IhMOy1y3p0OJDBphdGJey8moIJJKf5NyWEi5vIEI+Rsq4M6uQYS8Nxci3mVvHoclaPNRuRij46Zi/H4oIhTC4bnQ+4BiQHhrhXMz4EalfuWQeK2S4GnNIxRdokQJhK87yc44u00IfFsZEsiOoEKCS/n/Gz83bb9BiATKectkymGXKzxsL0ulB9xKcvwcODxhyFo0aVTAOsphUV/oBMrTC6J/+gU8VCBU3GLzMAZcTTmch5tim6kUTEpetP6TOPD3RAqmJ4T8upMTwDL8TrTbng6ewyZipL/Um1zIT9l5Qk/n3ozclRIlFJegycEdDt90s18oWsZhIuXyddfGraGXQDffFBmgmcBQkRaiKQZ9wN8w2joq9WSZWx5qtHyKcLk1P+QkHK4YKkHBIUO5zUTC9UgdDPZmECG3EwEPI2Ux3lh/XEGzw+V/c4FABmlxvA3KcMO4+evH21kzl9c6XDxGIvCa21nnKdjCfydcPks5tBIBv6MCrqEp+Y1CCs8HNWA2UgxUQAvyTyiDMmxRv3KUE3/DVX4MaWLeho/ZShoEp4i2nYr06ZG08X0FMVrPIkK+knN8e7xp4uJQ3gAnYOiJyd14o2nc4EoaQVCkmDm874o+Vid569nj5sDRvh802sagsomRPpMKuJRwuB9zCZep+g8RMn4rVgiUw6u9ONR3cxFKG+XwAhGwjXJ486BNK+yQ7y24mVFFWUPzsViJSqbgAoxG8GcyJWd8GApmRyBVXIowlAj5Vwx/lagjmWoup0IuLlgDwMiGw0KkCJANPRT0dJ7i29FE9UX5mHVjQSZ0HRGUw1x0ot5Kl502V8/l0oQhv4O2P2nI0/BzCQNOQTPhcPoDVDiX+wmHjYTLRqQs+rMONFe571obmiIM8vMFTuEGTLp6/ZL69rHoVImAK50+IXgElUmFfJFw+bY9BGzDeq/tEzBX4HCPU0eGbyWEVAfDzGB+kLehhhIGEC5f9t2ABvlpJSSYYADBDc+Tf7ESBlAB7/hugCEvU0IAwuW03O3Kv73hCGNz9IGPbbY7I+4qygyVGvUrRyF9cVARpssHKNlw/AFwbIByXV3PjXAcJFxh8/ONwUQZNvVspOcQIf+ApJ2PM18bum44exM4PFJ8xALIPq6zi/AcFiEZh+ykzQUNMPpAW5405OcwD7GbuDj8wu6I47CjlyhqJxXykkJ0SK+NXUED7Sbhcv3A43h4J5f5brK73bhsokI+Srl8LBfS2gPZTLvdxemG2+7VEVfE//UM3syC5ByaKyx1hqVDwo7vkV52QsbskBpcdlIun0aFlqXkZ4qsXaRzm3WhEjag3SVcnk+4vCXH9XeUVNlOrXk1EfLHSHuXX/CXI4uRG+lvu+bMYa9tooTcEBrH3BuIkZ6AnHyCp79LOPyQcrjDeaBhm5q2nPnZlTe6suwDud/ftBMzLp+1nbuQq5zvgOuxuwEZVbyF/fEnjmxycY/wmsMmr5JmjMFCfftYu6GYy+XYte1yzg+Gv2KGLYkGnEJTrWdgdUsZAii/eGPSuYHy957lTy5fR+5KiRKcdB8uzdVxVyCX49SD1500aeEa3z9HMCh1Z0OehmEmFnCwvuDXPo+mDTukD6U8Q6dmwEFgB4PjmFEh8AY6O9sUcLgNH8/h6xaMv9FEYFMuKhLZzg+HnEZ566yuBxz24w2n53QFhsS9xf/dOQCHO/C7IuNo+wSjbQwymuhA7RMqYHNfKl99HXY7CpePJQz5PTszj3ofUH8waeGaw7AFPWnAOXiq7YYup2UdnBeXdnnSjpKczNp5K5BHXeOcVrTxRMBNaPrwNWZ/3w3EiBEjRowYMWLEiBEjhjJA/B+4VLSPTNjlCAAAAABJRU5ErkJggg==",Jie="/Portfolio/assets/LaravelIcon-5f01ff8e.png",Yie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAL/ElEQVR4nO1dC1gU5Rqe1J1BrWMej3Wu5W0GxRszC8yskqgpYt5NrDQ1kbx1NMtS83JSuxwvYSliaebRvERoFEdLQWVnAfOGZmpaKF5CQBDCLh5DLu95/oFdFthFdBdnd5n3eb6H3UGf+b/3nfm++b//+weK0qBBgwYNGjRo0KBBgwYNGjRo0FAb6PV6XRt990dYP782rUXx4Vr9Jw2OoQ0hnBcXsYJ4hOPFYk6QYDZWEH/iBGkH5yv2pyjqPrXH6lHg9Po/cby4keWlW9ak12BnOD5gTFBQUCO1x+728NYH9OJ46Wotia9kLC8lt/MNbKm2D24Lb79u3hwvXb8b8itEEE/6+ATdr7YvbgmWF1McIb8iP0hL1PbF7dBeEPXOIL9cgEJyN6ntk1uBFaQlzhKgXISP1fbJrcDxUoIzBeB48eajXYMeVNsvtwHLS1lOFaBMhKfU9sttwPHizTshN6B3P/QdEgpvvaGGMCR+pLZfboFHg4K8rIkbNvo5THl5FjqJPaqRSgiPXLcBOfkFyCv4GQePfoMe/QfbfSRV2ze3QBu9vpmZtBlzFuDaT9cVcuMTTfAJCKxE6stzX1d+Z23GlIP2QtD/1PbNre6ALoYgpF/OwKkz3+PIseMKuf98dW4lUk+cPqsc35OwTzGzCE+Nn2hLhBKKohqo7Z87oAEh7JkJk5GbXwCDwQCO43DwSCqiY+MshOqD+ihkr1wVidatWyu2anWUcmzx8hU2BBAL1HbMbcAKUuH02fNx8ruzFnLnzV+AxJSvLYQGDx2pkC2KouXfELHIsaj1G22EIOlHtf1yG7C8lD1u8jRcyshE27ZtFXInTZ6CHf/90kJol249lfzQsWNHiwCdOnVSBJj/5lJbOeCy2n65DThBOh3Qqx8yc3Lx3Pgw+LRvhaRPRiB39z9QuL8xMr94AMb3W+L7pHmYMvFZiwBhE8IVUUKGP20zB3Tp0qWp2r65BThBNBHSIqLW4mr6HvyW+Ddc/5JG6loaMDEoSmRwMEqnfC5Jag75o654c85IpJ0/j08+q8gT1czX4K+2b24BjhdjCWGvTeFQZGyqEH0jnkFxIqN8JpYdS6NErvhO7HdjC2xf9gjEx/ztCCBNUNs3twAriOuXvdK6Erm3s4JdNLa/rsMvX9FIWtvS3lxgq9q+uQVYQVx68dMmKNx3e+J/38sgdrEObzzXEOe2lIWolHW2BWB5KU9bqqwFOF6adXbbg/h8sQ4ZO2wTT8RJWF5GvGmlDiXGit99s9NmElasnWAYqLZ/Lg+Wl6aNGNoZvyQ0x+dv6PDBjEaIX6aD6T0dEt/VYcOrOrwV1kj5XLi/sjC3jvVBZuZ5+HbvZacoJ8Wp7Z9bhCBOkBAZuRDFh3n8tofBgdVlAhxeQyt3RWmVBFx0xA+/XNqCvIKy2hGpE9m5C0q9eX8/tX10+XkAJ0h4b82HyM+7hKKjot0cUPJ1a/x68T8W4s22V062X5rmxT1q++iyaKcX+5qJ+vDjrQqZ+fnZuHl6Kkq+bgUkNVGs+LAvfjsXgfz83GoVUWJkQtZzwFC7InjrxZ5q++py8PHxoUnd3kzSzviKCufd2NKVUTUs0Ehpf9Hrm6jts0vGfk6Q0N6vG85f/NEhAc6kpaODf3f7M2NeWqm2zy4DTpBGkgRpJid0bLhD5JttwrSX7QsgSCVaKKIoiu3azZfjpRvW5Gzb8blTBNgZv7cmAZQydefOgc2p+op27UIY81OP9SJ7dk6eUwQgizpBTwypWQRB+oyqr2AFKaIqIcsj1ziFfLMtj3z/dgLAmzeEUfUNrBDwGInD1kQY+gzAlewcpwrwQ/qFmpNx+ZJlfdvs0YATpBNVidiwNdqp5Jtt6sw5t70LOEHcRNUXsHppXFUCSDcDidl1IcDh4yeUPiI+sDeGjBprt0zB8oYelKfj75LUmBOkjPKyQBH5SYg5dTatTsg3W3j5I6n4eAj+9fYym81eLC+eokJDG1KeDE6QZpgd7tF/UB75uSl6e52SX7U+1GvgMKXNpaMYWD0hC9JoyrMfO8UrxNGugb329ug/uHTQ02MsHXB1aeQcpIfUTPTM+QuVepONUPSdxzZxsYI40Rxv341am0Q+k3aTuibfbKvWrod1uePEqTPKrLuqCO30AcGUB6IBx4vniYO+3XqlLFsVVSI93h9Xr+XfMwGq9o7+e0UkYnfttjFDFmMpT4O3YOhndnDj1pj95MpbuCTinpFPLCMrR7nyzeMYFT5Z6T/qYHWsLBlLtzxuUwfLizHlz9s5V67mXuksBeHQsRP3VABifYaMsBBNmrjIsd6Dn7QRhqRRlKeA7NklPZ9K7PU3RKd+e7pYevyJe5J8q9rEF2daSB44crRyjPz06L1lLC9Nqnj0HLz8y4RETH7p1XtOPrFX5i+ykDxpxivKMdLsa+Np6DTlKVDe5VDu2LOTXniHrHa9s/oDVQQgecc8lnWbtih3oc0uCl4sJi8GodweoaENWV7MNzs2Y+6C9QdTv0HMF7tUEYAIb94EcjEjC8dPfme3PuQRawXeeqmztVPTZs3dS4g4d+GyKgKs3bhZGcdri95Svm/YEm1XAI943wSZ1Fg79cSIUZlqEG82EnbIos+FH68o35+fXpGUK4cg6WePeP3N0pdaBcVF/PnWoY9aYFpYe8W5LTGfqSYACUHkIYB8Trtwsdrmv4qnIPEA5e6AkW4Pmc40N1KRjrZF09sqTt/LEoS1kdCXlZuHY6fOYvbit+GtrzwJs0rCyyh3BlKpJpCZ01W72UplBjPDOUUEsqGirgnPz7uMoqPdUZrUDIUnhmPHzjgMGj8VfUeFKxY8Ohy9Q8dC6B1iIb+rFADe4O/eawMw0RvstRTeSGiCkBBfZZFkxZp1dSrAjR8WVTr34U+7W8ivanNf1F84F9Msu8TIlEKmDwFuWhWFTM+6XW//mW3N4eMvKlccaaatq6LcrePBlc5bbGyM/mPCqpE/fcZQlMhelccp04ModwG+ohjIXo9BpjfXdmfLu7NbWW770HHPI+3CJacLQMJP1fP2Gz2hEvlPjh+LrJ0tbI3xHcqVgWSqOUz0ApjoZMhM4Z1sKwLZ4bK/MfqF+FpECOw3EMkHjzpZgOrd1ZtX+GP0xGcweNw4LJoXbI98wEQnUK4MmJi4OyUdVezIhhbw1lvNPqUgbI9z3hNS0RG9A+Ojr7p0HoBM73dUAJgYLHiBrbwuqzdg6XurnSIA2eTh0PhkejjlqoCJWegMAa7vbmpze+k+U4rjAhxq7+j4rkPW8ZQrAiavbs4QACYG25f+tZoAZJeMowKUpjzsjPH9ChPzAoyUa+2yRCqlg4kpdoYAJUYGTw3vbCGf9O2kHHIwIeflAKbGTrlAyu0sjEwfypUAmb7sLAfTopuhY4CIOQvfwskzPzhEPim2zZszxpnklxt9jXIlQKbTneng6nmtlCVC0lR7N8ST9saN22JAOi6mh3WoAwGYNMpVALmRP2Sm1JkOFhu9MHJYF5A3pmz8JAY5eT/Vivjs3DxlY4f1+u6HizsWO/nqv+hSCRkynVIHVxgu7fiDpUxBNli8HbFSeWFTVs61am0mcbsTMP+NJUpre9UkLn/Q8oqTxlQMmVmBeMp1XnmDfU0frgvyUW6zJ3HVCCU9Pd36DkDPAcPQPXhgpR4fW5YR+0CWw2MhRblknZ5yNcDYyK8uBUhc81CN5NbGbiR4/eoA8bmQmTCXnQmXFd+q1/udZSc3/9FhAYoSve4uB8j0elLnolwdSLq/pRIbTUyBswU4vqn5TeXPk/BSOitIqdVNPMAJ4l6Ol3aRrjvSSMUKUjR5FQErSN+S9sLC/V53ViCU6RzI9GDK3YAYqqEyK5bp1yHTe5wkyDZHxkR6em4leqXdAfnxOND0IcoTAFD3QaY7wMiMh4n59C4FmeDwOEzMylqeK4JcRJSngtRQYGKCyVUNE3OzFldjOoyUw39+BMlejyhhxf65foeJmUzVJ4As4sjMVMjMYdvkM9+SbgrnnY9pAxO9qWwSxfyv7AKgz8NEr4FMs1R9BshcQqaHQ2YmkpADY2OJhC+1x6VBgwYNGjRo0KBBgwYNGjRo0EB5Dv4PxnFbkbximSUAAAAASUVORK5CYII=",Kie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAPj0lEQVR4nO1dCZAdVRXtRBT3BRdQERUhsolaIlqKiBpAVhEUtSiBUsGlQEQEkSJz+0/CEjCRCChhESk2ZYsLiGELLrhUwBACAjP/vZ6EJPPv7U8WkOyhrfu6J/n93uvfy+8/00P9W9WVyUz36/u2++5y7m3H6VGPetSjHvWoRz3q0WhQEEy4YPGqN/EFjwevGGt2wPNeybxcKFa8wXmpEngr3+hKPNMV+BdX4mpXUhBeuBEEPgWSbgFB3zhvYPlbu85LffhtrvS/7Uq6FSQOuAI3b+WH0BV0tyvxhFkDA9s6456CYAJ49ANX0vMtnUy8QOAmkHgn1P3Pls0KSDzIFTSX35GRl+U14R/hjFdi8eIK/H2Wzrq2S+AjIBqTO+ajTodyW0V4AIEvgqALnXFHQTDBlXR9Uqdcic+4gkS2nYF/7K/TrnlZmDqA7+Nn0yeahl1JC6N/k3g40xlPxPLcsqKXuZJOgsfxtdq9k/j3fD6Ek2MdpBdciafyxGYSe4J+6Apamyzm6D7mkc+D1kf5DAKBp0S8tvK+uSb8jzrjgVibAEkNrdP/0TtrIxA0CQT9mg9n6+DxwC3235H0/LQhejvLefuzuMGVdPm0Jc13pvLh4Q4g6FGtjYcyLYCxJlfSadrqWTlVLn93njb667RrqI0kHI51/KT+DEjaHySRVeQJvJlFUh4eYHFjZ5C4qrWtmqRPO1UnXu3aIEwp2lZN4DFKNTRl8npX4He3vpO+pX5n7hgC6R/ZQV9cbTKvdKpMU4eG36tvezZyOmkTPNwhUawIugiGcGaCyLnzPNHYvpN3n7906Zsj0TWym5+FIJjoVJVc4R+ny+xSGg6CCSDpXM1oSlJfN4PEH5Ulr0HgA63t90v//U5VCQT9vCzxY6OabHwBJD7XZgKeL9t4Akl98Qn2j3OqSrztY4eW1/hi6e+o+/uApHUWkbNuShdUxZqkL2s7rOZUlXSLE0Rj7zLbh3nBNq6k29sYVXNmPxy8vMx39tf9j2gH8RVOVQkELm1ldurgs+8qre0gmOhKvDH1DJB4Y5n6Oquj+iQ7VSXdACvTxetKnGEZ7KXg0ZBlJ1xc1nvhqWVv0dqe61SVdEOoUxV0hED6J1tWO4Ln78a7DARJyySc7pRArMpqIuhPTlXJcEF4uEOnbdaEf4TuQgaBK/oHh/fUXBhNXR0tQyOCgeaO2q67y6kqgcD/xgZqEHfpqL2h5h6m2onra57/GePeQfwECFqj3bu632vu3lmflLOwdXfd7lSVwohXzBDbv2hb05/0X2dMaOjKPqGt68Iw1vBpjsgV5YP7oIm2XzpVJZB0m7ZavlKonSCYCBL/YOr6dH7as2z8WWyEO4tqRrodAAL7naoSax+aHP5JkXZA4NmWQ/XuTH4YDgYJmmM+759RrE/+GdoEnOJUlUKvZKzj12d5btbAwLas0XAIsub5LkgjbruuTyBH0Hw+gPmKez9x/dbfkw+S6vp5ELUJtXrjc+pdGREZYXyixbqXeLBTVdLlJUh8OPb3IJjIhyJIPJ49mW4YMhzMGigv84reOciiLuLl64o3bZdxH7plXJZOyn3bGlYUtLYmnz3YlXieK3BeiiMtqMaFqyNep8FA86D4TsLVlY+KgbQYRZ2sVDnWE7L16pM436kihdYinulKnF+ocx6xPI/FgUHgqn4OnIvGZOUBHcRdOGg+gqprdbrxzyO/V4H1QdxFPSMak/u95okcFo29T+DGWvjOnGJL7YJ/88GcJcbdXQqCCTXRODBCmG3I1gF8MUKj3cwTBnU6lAerJukG/d6aoMPKYpXbsvBzvXq3oMNA4lkg8DfMWyIywxRV60NEX+fYpVzEhxTrxpbYb9Kgb+r3mtPBw8/DQPP1xuB4dIjxnKDryubbFXStMckeHaLfxw5E/j0M0kWZlQOBj7AR2PVwpRpEzTo1ZTaucgW+kMUinjUwsC1bqtqELYclq7Yrm3ceWAUIi/M6wOBce1/9A4x+xXCt1ol4giGQXQm22yzT1lXOTiqQdKzS6QVeqd1zQaZwn+xOFG3L++p4tLlg6FzrvUo1je3K6TxZbN2zR7Td7gBBv8sLxUkJtCfMvMCVCpkw0NyxfUfxaSvuRhjOs657GnnwtMFawwvM7Dc+GbvP8w9o/TvbA2z569ih1h0DHn21MKOsWYDEqxMOoNUg6Bx2mFk7uWzZq0HQ/+IdwA/FOijpVm2Frc0LnipCCjOqwRbZh9V6T7/ED+qDmRTq5HON/U+JNo7A2RxKzcWkGkAtwN6CMpudBcfvCvxtkiOtJoc/pmsbINB1Rol0wFX0/v228k7T8yoFYd4BXmXTolh8z1iy5FXZmJsXbAOC/myRa0PsR8mJamt9Xo5Yka6kv2mdX8qTnqXdftH4gCtwFkh6nHeZutTPeAnUh/fK0gYPBkhcYsV+hs48L8ZfnQ7N3u/GgZa2lTPxliB4WRFsDw/eP/KizKJdFNuWnHjB2B7LCjk+rT11uEv6RTtwVoR8viyLo43faSgAAo9h/KfW5oq8qVQqjqzFRqJ+zmz7YGRYGTNXNF1H14ZA4k28WrX2F6Tpz5FmFUOotb/w/rRBi2IOMUcbq9h9ko3EWFtXFem7UrEtkMrE7B8levTBkTj/4uHh1zgFiWW91kHDYq6JxoFp7XAUKvvgb7kuTWuXrVjLczEewWt8vGj/ORfCwEpJeswqinSLlNFnrYHvwkxIeixRZMh07Ggk89MxoRZxlIV/9ny24e+xjvvv+buZWpfFWDNMdYGzO325YkDS99t0cP+05/nALbD6s8ncMOQYk/maBDi1jDFgMaa1e42to0/ERIMlCaIIsa1geCPDFfpAJuY1vnJei7K8w3a+sHZVFq6pJuhTqXwZGksHSAKdQu+nJvszZpu4GVNcE3bAc1neYdsFIOkOpyTiiUzlS3c3lDoB0r/L6KBm2idRZ1E0XJ3pHZrjLXr2fqdLE8ASwdLRuAbUahl2QuyUsjquBM6rigiyHsSc6CFoUscDYMMW2UUQ/aob+VCGVzGnGAKBl3SwA2YUW/1bRMVPSxkDzafG/zduYriFxvz6rKZ9ErEDy55kl/0ghvrwXkVQE8oqHmrukdq+wAfbtON3WjOCcyT0BEJrFI2NA11nV/m9WmJ1rpd7jaO0Dq3TdXrIEMBg90Lu1S9wVlq7VstfGrHiQui+rfDKeL4x/z/RJ8RmsrkN6Z6kqFEa6aUCQOINFjf0gjRXBLsV2GjLMQH3pmXKqIQP00q9T08CKZpoyGNm4zlV+WDjxVxN9M+8UPMIKRFDOjCqmbMMzSA+JgJuY8U/JF3aPhKFm3jlZ0lT4nfqz7PtY6ikAjdzBn6evvP9IOhfhRJHlCjSokbRID2TB5bHidTay8WIO1oXKZDHHT04vGe0SBZFNgJfi/jAzSLzk9zRICK9P6w1EcM2sTWftd/KpaPXmogAwpnc0SMM2krNRPDwa7K4pnXVjpFmI39T2B0tlAdjGpDBja15BBzD1vr+UFqbUZ0KA3kRLb45ucV4GJjBKxK2O686SMoB4wkys1riGZOMnHbHICTJWCBLSPIyU3OJL7wkTCgbrAxZ10OwLdflmVe+jRQKICHwHFrPOAPEip20Z07S5OiTVjEgtK0+CvlXerSPAy62EKuRHCL9kw0DU+LMJEs9Qmt/ySnPmqU72h1+qmN1+poSX5qmk5RYUbNEx7oJSzGSrkN//3ds91riwnNC0ewfpwIt7SJzkm7TF2U5HQj15kXtVMCax+IpbniwNzA7TASXl+WFNAtvaEmEEh9OEg+m+wA31tIdgwvzxM0LkQrl1fFoPZyXfOGmfunPAEGH2wYWOAlOr24l6NrS+ZZ4kyYWN3PEzrhvyartmFeo40wQjYwWOM5no3PUoesq20SBWs3aDYmXIMGgVlfij8MUVJpUq5sIuTxIhFQ+LaKO7YXQJvGPjFKibrXmGyeLGbbqb+5GhcfcFKIA6HRGT7iCMqKLY9cGYxIFrmRoObsqQDT35Yli7WoEht7qo+Gft8DTRWN7NbD8jMSD+mTjJMPVrgxBe1m0lJX+Ikj6O1cFY5HmVJGgHpezY3lB2e0JWlHpDBmFl4wzvAZEczKXeFEF9xLVWarOFYZP72Vjbeqgf4COXy0NdNst+Hq7JD1ePSweWJXjgqguW4iqdHG2BI9ydwdu4HeHPDAviqdJ+grXlQ1bTkFlyEBAZEy0mM1A4DBT5tNhqlPcJQx1XANCZa8s35KO2qo5CVo78nu+p09lXhpnysaaoHP4HfyurHWFTLRIsXzjUSH2VsZFEJ5drB00PJXKWZZB/rJezyLEXPFxS7ZoonZRpNyokKVUcOFgBtih8VOKhUDxxqJ8WEoVVLdcjcogzGgBp9EMZfbTAk2MbGYAbeL7BX3TMmkLO4JXapgejmg5VSUuEVBmuZqpYR1SXxuANVyaxh7T1nR7rvO5uLFzmeVquCiVU1XiDpddsAkE7mcGtanZWr+z36MP24ytLMDfvKo1H/hOVSkqllF+yTJhFAFRCSOsk0d1ps3S8y2ljTt6t8p8iZ0Bm5yqkl42rNSifQJr+iD3SVycMPil1fbkWIHefmWtYX0wyvaJuwJnZzCwri5zgMIPQcRFW2UnQMfAcLZhme3fwjq+lvynDc5NHYX/MhRu5YC7U1XiPN9uR7emPd3cVwG8zMFfN63u79P90sW0wBkvlnDZxbvBaxzVJvjN1/NlTzqDD9rlFFe6fH1pEO+APwqkvkOWmqoU5elOKUtOW+A1Zznj6QMOnRbegDDlM+FzWPgz5cm0ngd0T15Em04cdDHQfVX/jInlm11QtC0QdLgNZRZ9ge97cRdE0idM6NiyVF/ljc1bdmCsXdIchLEVw2jbhlixUxIMJnQ5m/Bu9tnoqIeWg3Nu3mQLVj9N9B5d5FSdVPEKwx6gR7PAGUGs2ImRZIlBfi6m5w2/J+l5hciTdE+CuNrI8YksE6Fghvxxt/gkvlDpiomtBB6eaBm8ZexS0EG4wMWxVTSqTQ0eDr5w0D9DRaoQdu6fEX78zX5Ig8S/cnxA/x5M+A00/2Q7uJb6nHFDYcGL6xIGYJP6jGFYjwfTtBoGxmZFPRsfXkj4+pKuuqriHNazZgvPD467r6uqMGMbOGOGa2EZ5edV/bc22fppF4vPbiD1RvOjnqcliQPXLqvnM8a0zAJ4qtCg8I9QRTwyV0UMEXpZ8xYqTfz9R1VzTQvYuFFGuhIzkvq4LkS3eWEXdnRGzNXd55G4Wc5xXxts8SVB6lPmYaHuvdXnR8byy3RBMEEh6bzm7px5Mxpf9O5Rj3rUox71qEc96hGPwP8BBT4fcjZr0OAAAAAASUVORK5CYII=",qie="/Portfolio/assets/character-658d3eec.png",Qie="/Portfolio/assets/blackjack-b6e5be9c.png",Zie="/Portfolio/assets/finalproject-d5671790.png",$ie="/Portfolio/assets/ZambiaHR-f1789ca5.png",ere="/Portfolio/assets/valuebets-570373ef.png",tre="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw8QERUNERAQERUSFRgXFhUYFg8QFg8VHRcWIhgVGB8YKCggHSYxIRsfJTEhJikuLzAvIyAzODMtNyoyLisBCgoKDg0OFxAQGzclHSUtKzctLDc3Ky0uNzc3Ky0rLTctLS83Nys3Ky0tKy0tKzcrLSsrKy03Lis1KzcrMCs3K//AABEIAMgAyAMBIgACEQEDEQH/xAAcAAEAAgMBAQEAAAAAAAAAAAAABgcEBQgDAQL/xABEEAABAwIBCAYGBwYGAwAAAAABAAIDBBEFBgcSISIxYYFBUWJxkaETMkJTcpIWF0NSVLHRFGNzgqLBFUSjsrPSIyQ0/8QAGgEBAQEAAwEAAAAAAAAAAAAAAAECAwQFBv/EACMRAQACAgEDBQEBAAAAAAAAAAABAgMRBCExUhMUMlGRsRL/2gAMAwEAAhEDEQA/ALxREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERBg41icdJTyVcpsyJpce11NHEmw5r0wyujqIY6mI3ZK0PaeBHTxVS588o7lmFxu3Wkm7/s2HltW4tWVmMyj0mPwuR2tl5IfhJ22cjtc3KotpERRRERAREQF5zzMY0ve5rGjWXOIaGjrJKhOXecenw69PEBPUfcvsQ/xCOnsjX3KkMoMpayvfp1Mzni92s9VjPhaNXPeqi98UznYTAS305mcOiJpk/q1N81oJs9VGDsUtS4dZMTD4AlUgiaNruiz1UZO1S1DR1gxOPgSFv8ACs5+EzkN9O6Bx6JWlg5uF2jxXOSJo267gnZI0PY5r2u1hzSHNcOBC9VypgGUdZQv9JTTPZ1tvdj/AImnUVeGQmceDELU8obBUfdvsTfwyensnX39EE7RERRERAREQEREBYON4nHSU8lXIdmJhce0eho4k2HNZypvPnlHcswuN260k3f9mw8tq3FqCrcVxCSpmkqZTd8ry53eegcBuXrgOKyUdRFVx+tE4Ote2kPaaeBFxzWAi0y62wyujqIY6mI3ZK0PaeBHTxWUqlzGZR6TH4XI7Wy8kPwk7bOR2ublbSy0IiICrbOpl9+xA0NM7/2HjbeP8u09XaPkNfUpXlrlC3DqOSqNi71Y2/fkN9EfmTwBXMVVUvle6aRxe97i5zjvc47yqjze4klxJJOsk3JJ5r4inubzN3JiFqmcuipgdRGp856Qy+4drw4VEIo6OWZwjijfK47msa57jyapPSZtsYkAIo3NB+++GMjk438l0Hg+DU1HH6GnhZE3sjW7i4nW48StgptdOa6vNvjEQJNG5wHSx8MhPJpv5KM1dJLC4xyxvicN7Xtcxw5OXXS1+M4LS1jPQ1MLJW9Fxrbxad7TxCbNOT19a4gggkEawRcEHkp3nCzdS4depgLpaYnWT68HUH23jtePReBqovbNZnA/bAKCqd/52jYef8w0dfaHmrKXIlLUPie2WNxY9hDmuG9rhaxXTWQ2UbcRo2VOoPGxK0ezILX5HURwKipCiIooiIgIiIMHG8TjpKeSrkOzEwuPaPQ0cSbDmuV8VxCSpmkqZTd8ry53eegcBuVpZ88o7lmFxu3Wkm7/ALNh5bVuLVUaqCLbZKYI+vq4qNtxpu2nD2GDW93h52XjlDhMlFUy0cnrROIvu0272u5ix5qo+YDislHURVcfrRODrbtIe008CLjmup8Mro6iGOpiN2StD2ngR08VySrmzGZR6TH4XI7Wy8kPwk7bOR2ublJWFtIiKKovPpjJkq46EHZp2aTh+8fY+TdHxKrNbzLirM2I1Uh9+9o+Fri1vk0LRrSJNm8yZOJVjYXX9EwacpH3BbZ7ydXj1LpWCFsbWxsaGtaA1rQLBoGoAKvMxmGiOhfU2GlPKdfYZqA8dLxVkKAiIooiIg8p4WSNdG9oc14LXNIBDgdRBC5qzhZMHDax0LbmJ404ib+oSdknrB1eB6V00q4z44YJKBtTbap5Rr7D9kj5tHwVRQysjMdjJirXUZOzUsNh+8Zcj+nS8lW62+SFYYa6mmGrRnjvv9UuAd5EoOqURFFEREBYON4nHSU8lXIdmJhce0eho4k2HNZypvPnlHcswuN260k3f9mw8tq3FqCrcVxCSpmkqZTd8ry53eegcBuWKi2+SmCPr6uKjbcabtp33GDW93h52WmVtZkcnPQ07sRkbt1GzH1tiB383DyCxs+WTmnGzE42647Ry26WE7DuTjb+YdStOlgZExsTGhrWNDWgbmtAsAvPEKKOeJ9PINJkjS1w6wRYrLTkhZ+A4rJR1EVXH60Tg617aQ9pp4EXHNfcocJkoqmWjk9aJxF92m3e13MWPNa9aZdbYZXR1EMdTEbslaHtPAjp4rKVS5jMo9Jj8LkdrZeSH4SdtnI7XNytpZacl4z/APRN/Fk/3lYa3eW9IYcRqozqtPIR8LnFzfIhaRaZdIZpLf4RTW/e/wDPKpgq3zG4kJKF9NfaglOrsP1tPzaXgrIWWhERAREQFEs62j/hNVpbrR9e/wBLHbzspaq5z44mIqBtNfaqJBq62M2ifm0fFBQq96G/pWW36bfzC8FtskaQzV1NCPanjv3aYLj4XWmXVSIiy0IiIMHG8TjpKeSrkOzEwuPaPQ0cSbDmuV8VxCSpmkqZTd8ry53eegcBuVpZ88o7lmFxu3Wkm7/s2HltW4tVRqoK8cyOTnoad2IyN26jZj62xA7+bh5BVLkpgj6+rio23Gm7ad9xg1vd4edl1JSwMiY2JjQ1rGhrQNzWgWASSHqiIoqv85Gb52JyR1EL44pGtLHl+laRt7t9UHWNfjwUN+pau/E0v+t/1V5IgpzAc1eJUdRFVx1VLpRODrXmGkPaadncRcc1caIgrXLzNm/EKs1kU8cWkxoeHNcS5zbjS1dmw5KO/UpU/jIPlkV2IgrbIPN9WYZU+n/aonxvaWSMDXguG8EX6QbefWrJXxfUBERAREQFW+Xmb6sxSp9P+1RMjY0NjYWvJaN5Jt0k/wBupWQiCk/qUqfxkHyyLf5DZsJKCsbWSzxyiNrtFrWuB03C19fAnyVmogIiICwcbxOOkp5KuQ7MTC49o9DRxJsOazlTefPKO5Zhcbt1pJu/7Nh5bVuLUFW4riElTNJUym75Xlzu89A4DcsVFuMkMCdX1cVI29nOu8j2IxrefDdxIWmVtZksm/QU7sRkbZ9Rqj62wg7/AOY+QarOXlTwtjY2NgDWsaGtA3NaBYAcl6rLQiIg+LQ5XVtTBCJ4C2zTtgjS1HcfH81vl5VMDZGOjcLtcCCOsFYvEzWYidOTFaK3iZjcK0+m9d96P5V9ZlvWXBJjIuLjRtcdS0uK0LqeZ8Dt7DqPWOg+CxF4k58tZ1My+qrxOPau4rGpXbRVLZWNlabteARzWBlEKsR6dK4Bzbkt0Wu9IOF+lR3N1itw6jcfVu5ndfaHjr5lThexjvGXHt81mxzx801mN6/iq3ZY14NjIAR2GavJPpnX+9b8jP0UwyjyUiqrysIjl6/Zf8Q/v+arzE8JnpnaMsZb1O3td3Fedmrnxz3nT2+NbiZ4+MRP10bP6Z1/vW/IxPpnX+9b8jFH0XW9fL5S7vs8HhH4kH0zr/et+RifTOv9635GKPonr5fKT2eDwj8SD6Z1/vW/Iz9EGWNedQkFz2GfotXhuFT1DtGKMu6zua3vKsPJvJOOmtI+0kvXbZj+H9V2MMZ8k9506XKtxMEfGJn66M7J1tWY9OqfdztzA1rdAcbdK26IvWrGo0+dvb/VpnWn1ERaZFWuK5pIamaSpkrZy+V5c7ZZvPQOA3KykQVX9SlN+Mn+WNSfIjISnwt0kjJHyvkAbpODQWNGvRFus28ApaiAiIgIiICIiCP5QZMRVj2yFzmOAsSADpDoB8/Fav6vovfyeDVM0XDbj47TuYdmnMz0rFa26Iph2RTIJWzMnkuw33N19Y5jUpWiLdMdaRqrjy5r5Z3edvq85YmuBa4BwO8EAgr0RacSP1uR9FJrEZjPWwlvlu8lrH5v4L6ppR3hh/IBTJFxW4+K3eHZpzM9e1pQ1mb+C+uaU9wYPzutlRZHUUesxmQjpeS7y3eSkCJXj4q9oLczPbpNpfiKJrQGtAaBuAAAC9ERcsOsIiKgiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIg//Z",nre="/Portfolio/assets/knhlogo-0bf1a0d4.png",ire="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAgVBMVEX///8AAAD29vbm5ub5+fnt7e38/Pza2trx8fHGxsaNjY2rq6vs7Ozh4eGZmZlsbGwoKCh0dHSQkJATExOAgICgoKBjY2OoqKjR0dG0tLRaWlpHR0cuLi6+vr5AQEA1NTVPT0+EhIR5eXllZWUMDAweHh46OjoqKirLy8siIiJEREQGiA8YAAAJcUlEQVR4nO2daXuqPBCGBVRwwd2qVVu1te05//8HvmaCCJiNycB70ivPtxYMc5NtMlnoJOHvVtLpdn63up3w/zahYYWe0Hl5QvflCd2XJ3RfntB9eUL35Qndlyd0X57QfXlC9+UJ3ZcndF+e0H15QvflCd2XJ3RfntB9eUL35Qndlyd0X57QfXlC9+UJ3ZcndF/tEobjNL4p7bW4MLklwug4me8/g4KWp8t6MG7h0S0QbievgVSv67jhxzdM2N29yOnumh77DZrQKOFRkXllfQwaM6I5wvG5XByHo0F8b2HCcTzYnE+lGxZJM3Y0RRgXSufbYiCxvnccHgqlNW3CkmYI40f2TI+aBySFqvoS0dvSBGEvN/n1aPSD/m5//8Wc3JwGCBd5zeqZ/yjKa+2a2Bxywu29X9/U/GF/kv1wRttDUhNekHygO+OQ0iJawnRpZ2I3e0EHQneOlHDE7dtb2Je+8zTMmigTURLOuXE7u1TWPJUzjU2UhP033r1buybRjPc0FEZ1CAmTJV0jwWvjO40/TkUY8bJF5EDvILEliWlEhBkgmdMV8/QonHEaQg54IIxNZIWewDgSwgSs+WufUEFdaG+W9nWRgrAP73tvnU5FMK56t06GgvCNPgdBM5JOg4AQOvqDbSoCdT8p+h97Qu6qNRIA7VH0QNaEKW03UVZM0GdYEy5NX3M6mtbPDSggX/WtKsiW8GJWVbarIPjG5AVU8gnih7ksCbfgbOueASPbF9wTruy3NkE4S8JPfT1JLjWGCuFgVPlPatsr2hEu9OPBM/cw/xikth1+C8oDFIAqdw1ZEfa0vswxi7zoy1l6luU0dPx4782KEOKiipBFPw+crjQpbXkIWfi2Yrshvw1hrGlH0yCXuqqmJ2VRnrJrNWKvZdkQgl3yy8cH4EmZzkrzHmDoMsdaaUEIWSiPi24egMo4dpzfJXUIhjaZaEH4oszCSQFQ5fM87rtI7+mbVGWZ8IRjZRYWczAIfqSpFOZQFc+CTEQ693jCs8qqQQlQmof998c9qhhwqCvqqt+iCdlDF5JrURlQZly4fNyiHmAy93SJsxNNeFTV/mWFsBwA6P0JvufH+wjXIAuz5miLMhRNyCqQzNecB1Ux+wtuyV/431fxDs3jWNBG3hSphCXsKt77zxNgEEwnbwXHrf90XVbe79oYvAWxsIQ7xRM/n+wHFeMAx+pF3awo9PryJlkhLCHrDKfiS2sxYDnScahc1D6QzfSjukQsobyQPpdAEWG5vzQYPbIffGIsRRLC2F78y4kA7pkwLV/TDx2ipyQMhSRkGJLghQywbF4lpw16c3YbZvIVScj6CnHz99SGGBEajOFZF4QZYCAJmVViV4wP9S6TKTUha71NYiFV4QihUghHc9CqQ9fcPdESgluDCGbgCKEoCq+wEO592H8lJYRyg1hMhCNkDY24gf8oXNjRErIuFNHU4AjngSxAUyxJqTmhyRIqVrN1zp1AOMK97LVHxdcc0RKy4KzEjVIJR8g8T2FTeiyO84gJWaFHzMPiCKWVflIEJyZkcQPEKBhFCEEF4eh3ei38UYPQJEIB3QXCWAwhBKGEgaG3Yu0kJoxaJEylzyqVImJCcCbqW4silJeX0hiBmBDqRv1ZVmLCUvNDTNj9JwhLqkFoMo/9+wnbLKXylqYkYsI2W5qe2bOICdvsLaBG6Jer1yA08ajb7PENh2o1CE0Wr7XptcG8hH6BEzEhG1wjlnjiCFmAQu8s1yA0WYjQ6ujpYmQUnlAYvv8wrK8V4QhZ4P6kvQtNuBEWWrauprUoBkzxau/CEo7ErRi7r7VIFAyftIsjahAW51wm4hYT2VnYRIS1m69whCtJ/8+aUsxaa4uovraFRxGyZlrofLJQG2YWGEm4NnmhKsLKBM7d9JjFuD6EqbHbWpyZgUqh8/MVhOFb+doXBFmzpajCdYzg7WM2NtrMkOreaIWwMHEkmKAa7tbZ6iHxYmJWaq7CKxphCadSUx6SraqJqnM2ZYkzii3cQG29wBJCLmhmgqqEwcetO+sPNGeBiDGgf0ItqMES9g2KaaxGEUsyeoDlDyhL0SuGmJeo8fSfFw4ZSOK1sJk63DphNCE4brKVA8f1NtqiACVBt60CXiO7lXvSt6puS+SSNV6sxHzj7MQTwk4EaVtTXRFkJtn+HwgMIXck4Akh9CWNIHWvahahZrIXBivBkXZarIKeKh8b1kf8lgFCpBS7D9GCMFVmYmn9r1iD8ooU+ewnZCHWTpvdCNB1K1Zfa7r2Y7lBkq8Ggt4evaXEhhB8FtWARrZKkecgu+PRICnakVebLLTbFQQ9nmpHU/pHDchjyze9K9bkwYJcRAgqkxUhtADqnXOylYr3aCvf6quMTMKCXAsjbQh5MVTP/SVC1+YRTr61VyvlToozu9/iuBrLHZawc06z6rO3UgDeHDJ1RAv8NZvTDCwJYfgw093VH71JAXWCH6A3rnXsdzrDfh2DAFEy+kABvmqrqU7Wu9WhvTeLEI0Hm/P09F4HEBqqE8auXNaE0B0jBzZa8e1Tduc12J8awaNKjRxcyRc34jYD5SI4+QOa82UDB2Mk+r7SQBSnt7waNai1Bf4EfndsngwBYQdGEdTnt4Sf9q0MpENByA8ZmpEWVF5E7Y8YoiHMCtSnTcdcEW9kkKGZkohOM+NvnK7T4N2EdNBfR1Qn0mVBC4vzK4qaUBXRDuGpglnQwrrpY+JTNCeKpEjPvuR2Xa0PdN4GdO+qQ3u655CbZnUiUH7ci21Hn4v0hNZsF77NQcA/2RZbS1etINpTdpNse/YU6aaOs0nSE2HXSn1Scn7YMWaX2T0YQFZCIVViwvwg4GBYM+E82LEndBw6jZxYPrqP5ec16uM2DwHQnZHM1cSp8/3z3drDxqhCjtf5JAc+LipTM18O6D1CiPuNJhSXrh+nR5wbMKaprz+UQojznaS8xqPi5Ezdmmum5r7g0V2XTjg5TBe7QRwlYbcbJlE8GC0+ZsXr30Qu7ZMa/QrL9hIY6tzc93Sa/lbQz0pyDshD1yGdAyNQC19DinZz6RTU4bJr+ptPLX3Rqh/vFtO/hYp53d/qZdOfegK1/d21MLmp1Uf6L8u5L0/ovjyh+/KE7ssTui9P6L48ofvyhO7LE7ovT+i+PKH78oTuyxO6L0/ovjyh+/KE7ssTui9P6L48ofvyhO7LE7ovT+i+PKH78oTuK+w0sJH+n1K3k4S/W8l/ENtTTDHnV0MAAAAASUVORK5CYII=",wB=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"contact",title:"Contact"}],rre=[{title:"Web Developer",icon:kie},{title:"Mobile Application Developer",icon:Die},{title:"Backend Developer",icon:Iie},{title:"Game Developer",icon:Lie}],sre=[{name:"JavaScript",icon:Gie},{name:"NodeJs",icon:Vie},{name:"Laravel",icon:Jie},{name:"Java",icon:Xie},{name:"Linux",icon:Yie},{name:"React Native",icon:Kie},{name:"Tailwind CSS",icon:Wie},{name:"Three JS",icon:jie},{name:"git",icon:Hie},{name:"docker",icon:zie}],ore=[{title:"ICT Technician Attachment",company_name:"Kenyatta National Hospital",icon:nre,iconBg:"#383E56",date:"November 2019 - January 2020",points:["Networking responsibilities which involves activities like cable running from server to machines, clipping of rj45 for various machines, troubleshooting of issues in the network.","Faulty hardware repair including printers and old CPUs, and hardware maintenance of machines in use for optimal performance.","Working with Microsoft excel for data entry and performing column calculations as required.","Assisting the sick and needy within the organization to the best of my abilities."]},{title:"Unreal Engine Game Developer",company_name:"Self-Employed",icon:ire,iconBg:"#E6DEDD",date:"June 2022 - Present",points:["Creating landscapes from scratch using custom materials and assets from Quixel Bridge megascans.","Working with vectors and trigonometry to perform complex calculations on various actors in the world, such as creating hovering behavior on items.","Importing assets from other projects such as characters and meshes to use in my project.","Use of control rigs to create accurate foot and hand placement in various situations.","Working with animations and animation montages and also importing animations from external sources and retargeting them to various character meshes.","Working with collision and overlaps to create custom events such as mission completion, item pickups and damage to enemies.","Working with the chaos physics system to simulate breakage and the Niagara particle system for colorful Visual effects.","Working with procedural systems to speed up the level creation system.","Working with enemy AI and improving upon them by using root motion to give them a higher chance of landing attacks."]},{title:"Software Developer",company_name:"AO Technologies Ltd",icon:tre,iconBg:"#383E56",date:"May 2021 - Present",points:["Creating high performing software solution for firms in the Fintech space and beyond, with integration with bio-authentication systems for increased security.","Database Management using Microsoft SQL Server.","Responsive Web Development using Php, Laravel, ReactJs and vanilla Javascript.","Android application development using Java and ReactNative.","Backend development using Java Vertx.","Project planning and management as Project lead on some of the solutions.","Software testing and debugging of existing company solutions.","Documentation of software development policies that will help govern how the company will work.","Version control using Git for all the projects.","Containerization of applications using Docker."]}],are=[{name:"Handwriting recogniton with Text-To-Speech",description:"A machine learning project where we use neural networks to recognize handwritten text which is later transcripted to speech.",tags:[{name:"Python",color:"blue-text-gradient"},{name:"PyTesseract",color:"green-text-gradient"},{name:"Jypyter Notebook",color:"pink-text-gradient"}],image:Zie,source_code_link:"https://github.com/junki111/Pytesseract-OCR"},{name:"BlackJack Game",description:"A web blackjack game that allows you to play against the computer. The game is built using vanilla javascript and css. This project is still in progress.",tags:[{name:"Javascript",color:"blue-text-gradient"},{name:"html",color:"green-text-gradient"},{name:"css",color:"pink-text-gradient"}],image:Qie,source_code_link:"https://github.com/junki111/BlackjackJs"},{name:"Character Segmentation",description:"A python attempt at character segmentation using the OpenCV library of handwritten text. The segmentation accuracy was very accurate for non-cursive text.",tags:[{name:"Python",color:"blue-text-gradient"},{name:"OpenCV",color:"green-text-gradient"},{name:"Jupyter Notebook",color:"pink-text-gradient"}],image:qie,source_code_link:"https://github.com/junki111/Character-Segmentation"},{name:"Betting System",description:"A laravel project for a betting web portal. The portal has an admin view and a customer view where admins can configure games and customers can bet on the games",tags:[{name:"Laravel",color:"blue-text-gradient"},{name:"Javascript",color:"green-text-gradient"},{name:"SQLServer",color:"pink-text-gradient"}],image:ere,source_code_link:"https://github.com/junki111/betting_portal"},{name:"Zambia HR System",description:"A human resource management system for a company in Zambia. The system allows the company to manage their employees and payroll.",tags:[{name:"Laravel",color:"blue-text-gradient"},{name:"Javascript",color:"green-text-gradient"},{name:"PostgreSQL",color:"pink-text-gradient"}],image:$ie,source_code_link:"https://github.com/junki111/hr_zambia"}],SB=()=>{const{theme:n,toggleTheme:e}=ir();return $.jsx("button",{onClick:e,className:"p-2 rounded-full bg-secondary-light dark:bg-secondary-dark shadow-md hover:scale-110 transition-transform",children:n==="dark"?$.jsx(Bie,{className:"w-6 h-6 text-accent-dark"}):$.jsx(Rie,{className:"w-6 h-6 text-primary-dark"})})},lre=()=>{const[n,e]=k.useState(""),[t,i]=k.useState(!1);return $.jsx("nav",{className:"w-full fixed top-0 z-30 bg-background-light dark:bg-background-dark shadow-lg transition-colors duration-300",children:$.jsxs("div",{className:"flex items-center justify-between w-full max-w-7xl mx-auto px-6 py-4",children:[$.jsxs(mG,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[$.jsx("img",{src:Uie,alt:"logo",className:"w-9 h-9 object-contain"}),$.jsxs("p",{className:"text-text-light dark:text-text-dark text-xl font-bold cursor-pointer",children:["Junki ",$.jsx("span",{className:"hidden sm:inline",children:"| Moturi"})]})]}),$.jsxs("ul",{className:"list-none hidden sm:flex flex-row gap-10 items-center",children:[wB.map(r=>$.jsx("li",{className:`${n===r.title?"text-primary-light dark:text-primary-dark":"text-secondary-dark dark:text-secondary-light"} hover:text-primary-light dark:hover:text-primary-dark transition-colors text-lg font-medium cursor-pointer`,onClick:()=>e(r.title),children:$.jsx("a",{href:`#${r.id}`,children:r.title})},r.id)),$.jsx("li",{children:$.jsx(SB,{})})]}),$.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[$.jsx("img",{src:t?Nie:Oie,alt:"menu",className:"w-7 h-7 object-contain cursor-pointer",onClick:()=>i(!t)}),$.jsx("div",{className:`${t?"flex":"hidden"} p-6 bg-background-light dark:bg-background-dark absolute top-20 right-4 w-[200px] rounded-xl shadow-xl transition-colors`,children:$.jsxs("ul",{className:"list-none flex flex-col gap-4 w-full",children:[wB.map(r=>$.jsx("li",{className:`${n===r.title?"text-primary-light dark:text-primary-dark":"text-secondary-dark dark:text-secondary-light"} hover:text-primary-light dark:hover:text-primary-dark transition-colors font-medium text-[16px] cursor-pointer`,onClick:()=>{i(!1),e(r.title)},children:$.jsx("a",{href:`#${r.id}`,children:r.title})},r.id)),$.jsx("li",{className:"mt-2",children:$.jsx(SB,{})})]})})]})]})})},MB=(n,e,t,i)=>{n.style.transition=`${e} ${t}ms ${i}`},wo=(n,e,t)=>Math.min(Math.max(n,e),t);class cre{constructor(e,t){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=o=>{const{width:a,height:l}=o,c=Math.sqrt(a**2+l**2);return{width:c,height:c}},this.setSize=o=>{const a=this.calculateGlareSize(o);this.glareEl.style.width=`${a.width}px`,this.glareEl.style.height=`${a.height}px`},this.update=(o,a,l,c)=>{this.updateAngle(o,a.glareReverse),this.updateOpacity(o,a,l,c)},this.updateAngle=(o,a)=>{const{xPercentage:l,yPercentage:c}=o,u=180/Math.PI,d=l?Math.atan2(c,-l)*u:0;this.glareAngle=d-(a?180:0)},this.updateOpacity=(o,a,l,c)=>{const{xPercentage:u,yPercentage:d}=o,{glarePosition:p,glareReverse:m,glareMaxOpacity:y}=a,x=l?-1:1,A=c?-1:1,g=m?-1:1;let w=0;switch(p){case"top":w=-u*x*g;break;case"right":w=d*A*g;break;case"bottom":case void 0:w=u*x*g;break;case"left":w=-d*A*g;break;case"all":w=Math.hypot(u,d)}const _=wo(w,0,100);this.glareOpacity=_*y/100},this.render=o=>{const{glareColor:a}=o;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${a} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const i={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:t,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},r=this.calculateGlareSize(e),s={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${r.width}px`,height:`${r.height}px`};Object.assign(this.glareWrapperEl.style,i),Object.assign(this.glareEl.style,s)}}class ure{constructor(){this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,t)=>{this.updateTilt(e,t),this.updateTiltManualInput(e,t),this.updateTiltReverse(t),this.updateTiltLimits(t)},this.updateTilt=(e,t)=>{const{xPercentage:i,yPercentage:r}=e,{tiltMaxAngleX:s,tiltMaxAngleY:o}=t;this.tiltAngleX=i*s/100,this.tiltAngleY=r*o/100*-1},this.updateTiltManualInput=(e,t)=>{const{tiltAngleXManual:i,tiltAngleYManual:r,tiltMaxAngleX:s,tiltMaxAngleY:o}=t;(i!==null||r!==null)&&(this.tiltAngleX=i!==null?i:0,this.tiltAngleY=r!==null?r:0,e.xPercentage=100*this.tiltAngleX/s,e.yPercentage=100*this.tiltAngleY/o)},this.updateTiltReverse=e=>{const t=e.tiltReverse?-1:1;this.tiltAngleX=t*this.tiltAngleX,this.tiltAngleY=t*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:t}=e;this.tiltAngleX=wo(this.tiltAngleX,-90,90),this.tiltAngleY=wo(this.tiltAngleY,-90,90),t&&(this.tiltAngleX=t==="x"?this.tiltAngleX:0,this.tiltAngleY=t==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:t,tiltMaxAngleY:i}=e;this.tiltAngleXPercentage=this.tiltAngleX/t*100,this.tiltAngleYPercentage=this.tiltAngleY/i*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const hre={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class cN extends k.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?await e()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:t}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),t&&t({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:t}=this.props;if(this.setTransitions(),t&&t({event:e}),this.props.reset){const i=new CustomEvent("autoreset");this.onMove(i)}},this.processInput=e=>{const{scale:t}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=t;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=t;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=t;break;case"autoreset":{const{tiltAngleXInitial:i,tiltAngleYInitial:r,tiltMaxAngleX:s,tiltMaxAngleY:o}=this.props,a=r/o*100;this.wrapperEl.clientPosition.xPercentage=wo(i/s*100,-100,100),this.wrapperEl.clientPosition.yPercentage=wo(a,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:t,tiltMaxAngleY:i}=this.props,r=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/t*100,this.wrapperEl.clientPosition.yPercentage=r/i*100,this.wrapperEl.clientPosition.xPercentage=wo(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=wo(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:t,flipVertically:i,flipHorizontally:r}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),t&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,i,r)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let t,i;if(e){const{x:r,y:s}=this.wrapperEl.clientPosition;t=s/window.innerHeight*200-100,i=r/window.innerWidth*200-100}else{const{size:{width:r,height:s,left:o,top:a},clientPosition:{x:l,y:c}}=this.wrapperEl;t=(c-a)/s*200-100,i=(l-o)/r*200-100}this.wrapperEl.clientPosition.xPercentage=wo(t,-100,100),this.wrapperEl.clientPosition.yPercentage=wo(i,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:t}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),t&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new ure,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const t=new CustomEvent("initial");this.emitOnMove(t)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),t&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),t&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:t}=this.props;e&&(this.glare=new cre(this.wrapperEl.size,t),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:t}=this.props;if(!t)return;let i=0,r=0;this.glare&&(i=this.glare.glareAngle,r=this.glare.glareOpacity),t({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:i,glareOpacity:r,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:t}=this.props;MB(this.wrapperEl.node,"all",e,t),this.glare&&MB(this.glare.glareEl,"opacity",e,t)}render(){const{children:e,className:t,style:i}=this.props;return $.jsx("div",{ref:r=>{this.wrapperEl.node=r},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:t,style:i,children:e})}}cN.defaultProps=hre;const hp=(n,e)=>function(){const{theme:i}=ir();return $.jsxs(Ht.section,{variants:n$(),initial:"hidden",whileInView:"show",exit:"hidden",viewport:{once:!0,amount:.25},className:`${Ro.padding} max-w-7xl mx-auto relative z-0
                ${i==="dark"?"bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-b from-gray-50 via-white to-gray-50"}`,children:[$.jsx("span",{className:"hash-span",id:e,children:""}),$.jsx(n,{})]})},uN=({index:n,title:e,icon:t})=>{const{theme:i}=ir();return $.jsx(cN,{tiltMaxAngleX:45,tiltMaxAngleY:45,scale:1.05,transitionSpeed:450,glareEnable:!0,glareMaxOpacity:.25,className:"xs:w-[250px] w-full bg-transparent",children:$.jsx(Ht.div,{variants:Eh("right","spring",.5*n,.75),className:`w-full rounded-[20px] p-[1px]
          ${i==="dark"?"bg-gradient-to-b from-gray-900 via-purple-900 to-violet-600":"bg-gradient-to-b from-gray-200 via-indigo-200 to-purple-300"}`,transition:{type:"spring",stiffness:200,damping:15},whileHover:{scale:1.08,boxShadow:i==="dark"?"0 0 25px rgba(59,130,246,0.3)":"0 0 25px rgba(251,191,36,0.3)"},children:$.jsxs("div",{className:`rounded-[20px] py-5 px-12 min-h-[200px] flex justify-evenly items-center flex-col
            ${i==="dark"?"bg-tertiary":"bg-white shadow-md"}
          `,children:[$.jsx(Ht.img,{src:t,alt:e,className:"w-16 h-16 object-contain",whileHover:{rotate:[0,-15,15,0],transition:{duration:.8}}}),$.jsx("h3",{className:`text-[20px] font-bold text-center ${i==="dark"?"text-white":"text-gray-900"}`,children:e})]})})})};uN.propTypes={index:Fn.number.isRequired,title:Fn.string.isRequired,icon:Fn.string.isRequired};const fre=()=>{const{theme:n}=ir(),{scrollY:e}=gv(),t=Ja(e,[0,100],[0,-30]),i=Ja(e,[0,100],[0,40]);return $.jsxs($.Fragment,{children:[$.jsxs(Ht.div,{variants:yv(),children:[$.jsx(Ht.p,{style:{y:t,x:i},className:`${Ro.sectionSubText} ${n==="dark"?"text-gray-400":"text-gray-600"}`,children:"Introduction"}),$.jsx(Ht.h2,{style:{y:t,x:i},className:`text-4xl sm:text-5xl font-extrabold mb-2 bg-gradient-to-r bg-clip-text text-transparent 
            ${n==="dark"?"from-violet-400 via-fuchsia-500 to-indigo-400":"from-purple-600 via-pink-500 to-indigo-600"} animate-gradient`,children:"Overview."})]}),$.jsxs(Ht.p,{variants:Eh("","",.1,1),className:`mt-4 max-w-3xl leading-[30px] text-[17px] ${n==="dark"?"text-gray-300":"text-gray-700"}`,children:["Im a passionate"," ",$.jsx("span",{className:"font-semibold text-indigo-500",children:"full-stack software engineer"})," ","with hands-on experience across"," ",$.jsx("span",{className:"font-medium",children:"Java, Python, JavaScript (React, Node, Electron), C#, PHP/Laravel, and React Native"}),". My strength lies in transforming ideas into"," ",$.jsx("span",{className:"font-semibold text-emerald-500",children:"scalable, intuitive, and high-impact solutions"}),". Recruiters and teams value my ability to quickly learn, adapt, and collaborate seamlessly, ensuring that every product I touch is both"," ",$.jsx("span",{className:"font-semibold text-rose-500",children:"user-friendly"})," and"," ",$.jsx("span",{className:"font-semibold text-amber-500",children:"business-driven"}),". Lets partner to bring bold ideas to life and make technology work beautifully for people."]}),$.jsx("div",{className:"mt-20 flex flex-wrap gap-10",children:rre.map((r,s)=>$.jsx(uN,{index:s,...r},r.title))})]})},dre=hp(fre,"about"),pre=()=>{const{theme:n}=ir();return $.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:sre.map(e=>$.jsx(Ht.div,{className:"w-28 h-28 rounded-full p-[2px] flex items-center justify-center",whileHover:{scale:1.15,rotate:5,boxShadow:n==="dark"?"0 0 20px 6px rgba(59,130,246,0.25), 0 0 40px 12px rgba(59,130,246,0.15)":"0 0 20px 6px rgba(251,191,36,0.25), 0 0 40px 12px rgba(251,191,36,0.15)"},transition:{type:"spring",stiffness:300,damping:20},children:$.jsx(JZ,{icon:e.icon})},e.name))})},mre=hp(pre,"Tech");var _v={},hN={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(hN);var fN=hN.exports;_v.__esModule=!0;_v.default=void 0;var gre=RE(k),ca=RE(KM),yre=RE(fN);function RE(n){return n&&n.__esModule?n:{default:n}}const dN=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),gre.default.createElement("div",{className:(0,yre.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));dN.propTypes={children:ca.default.oneOfType([ca.default.arrayOf(ca.default.node),ca.default.node]).isRequired,className:ca.default.string,animate:ca.default.bool,layout:ca.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:ca.default.string};var vre=dN;_v.default=vre;var wv={};function jw(){return jw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jw.apply(this,arguments)}function xre(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Xw(n,e)}function Xw(n,e){return Xw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Xw(n,e)}function Are(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var Jw=new Map,Eg=new WeakMap,EB=0,pN=void 0;function _re(n){pN=n}function wre(n){return n?(Eg.has(n)||(EB+=1,Eg.set(n,EB.toString())),Eg.get(n)):"0"}function Sre(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?wre(n.root):n[e])}).toString()}function Mre(n){var e=Sre(n),t=Jw.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&r.some(function(u){return a.intersectionRatio>=u});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=i.get(a.target))==null||l.forEach(function(u){u(c,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},Jw.set(e,t)}return t}function PE(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=pN),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=Mre(t),o=s.id,a=s.observer,l=s.elements,c=l.get(n)||[];return l.has(n)||l.set(n,c),c.push(e),a.observe(n),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),Jw.delete(o))}}var Ere=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function bB(n){return typeof n.children!="function"}var ny=function(n){xre(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),bB(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,c=r.delay,u=r.fallbackInView;this._unobserveCb=PE(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:c},u)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!bB(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,c=a.as,u=Are(a,Ere);return k.createElement(c||"div",jw({ref:this.handleNode},u),l)},e}(k.Component);ny.displayName="InView";ny.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function bre(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,u=e.fallbackInView,d=k.useRef(),p=k.useState({inView:!!c}),m=p[0],y=p[1],x=k.useCallback(function(g){d.current!==void 0&&(d.current(),d.current=void 0),!l&&g&&(d.current=PE(g,function(w,_){y({inView:w,entry:_}),_.isIntersecting&&a&&d.current&&(d.current(),d.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},u))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,u,i]);k.useEffect(function(){!d.current&&m.entry&&!a&&!l&&y({inView:!!c})});var A=[x,m.inView,m.entry];return A.ref=A[0],A.inView=A[1],A.entry=A[2],A}const Cre=Object.freeze(Object.defineProperty({__proto__:null,InView:ny,default:ny,defaultFallbackInView:_re,observe:PE,useInView:bre},Symbol.toStringTag,{value:"Module"})),Tre=dU(Cre);wv.__esModule=!0;wv.default=void 0;var ua=BE(k),an=BE(KM),bg=BE(fN),Rre=Tre;function BE(n){return n&&n.__esModule?n:{default:n}}const mN=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:u=null,id:d="",position:p="",style:m=null,textClassName:y="",intersectionObserverProps:x={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:A=!1})=>ua.default.createElement(Rre.InView,x,({inView:g,ref:w})=>ua.default.createElement("div",{ref:w,id:d,className:(0,bg.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},ua.default.createElement(ua.default.Fragment,null,ua.default.createElement("span",{style:u,onClick:l,className:(0,bg.default)(a,"vertical-timeline-element-icon",{"bounce-in":g||A,"is-hidden":!(g||A)})},o),ua.default.createElement("div",{style:i,onClick:c,className:(0,bg.default)(y,"vertical-timeline-element-content",{"bounce-in":g||A,"is-hidden":!(g||A)})},ua.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,ua.default.createElement("span",{className:(0,bg.default)(s,"vertical-timeline-element-date")},r)))));mN.propTypes={children:an.default.oneOfType([an.default.arrayOf(an.default.node),an.default.node]),className:an.default.string,contentArrowStyle:an.default.shape({}),contentStyle:an.default.shape({}),date:an.default.node,dateClassName:an.default.string,icon:an.default.element,iconClassName:an.default.string,iconStyle:an.default.shape({}),iconOnClick:an.default.func,onTimelineElementClick:an.default.func,id:an.default.string,position:an.default.string,style:an.default.shape({}),textClassName:an.default.string,visible:an.default.bool,intersectionObserverProps:an.default.shape({root:an.default.object,rootMargin:an.default.string,threshold:an.default.number,triggerOnce:an.default.bool})};var Pre=mN;wv.default=Pre;var gN={VerticalTimeline:_v.default,VerticalTimelineElement:wv.default};const yN=({experience:n,index:e})=>{const{theme:t}=ir();return $.jsxs(gN.VerticalTimelineElement,{contentStyle:{background:t==="dark"?"#1d1836":"#ffffff",color:t==="dark"?"#fff":"#333",boxShadow:t==="dark"?"0px 4px 15px rgba(139,92,246,0.4)":"0px 4px 15px rgba(99,102,241,0.2)",borderRadius:"12px"},contentArrowStyle:{borderRight:t==="dark"?"7px solid #232631":"7px solid rgba(99,102,241,0.5)"},date:n.date,iconStyle:{background:"linear-gradient(135deg, #8b5cf6, #ec4899, #4f46e5)",color:"#fff",boxShadow:t==="dark"?"0px 0px 15px rgba(139,92,246,0.7)":"0px 0px 10px rgba(99,102,241,0.4)"},icon:$.jsx("div",{className:"flex justify-center items-center w-full h-full",children:$.jsx(Ht.img,{src:n.icon,alt:n.company_name,className:"w-[60%] h-[60%] object-contain",whileHover:{rotate:[0,-10,10,0],scale:1.1,transition:{duration:.6}}})}),children:[$.jsxs("div",{children:[$.jsx("h3",{className:`text-[24px] font-bold ${t==="dark"?"text-white":"text-gray-900"}`,children:n.title}),$.jsx("p",{className:`text-[16px] font-semibold ${t==="dark"?"text-gray-400":"text-gray-600"}`,style:{margin:0},children:n.company_name})]}),$.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((i,r)=>$.jsx("li",{className:`text-[14px] pl-1 tracking-wider ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:i},`experience-point-${r}`))})]})};yN.propTypes={experience:Fn.shape({date:Fn.string.isRequired,icon:Fn.string.isRequired,company_name:Fn.string.isRequired,title:Fn.string.isRequired,points:Fn.arrayOf(Fn.string).isRequired}).isRequired,index:Fn.number.isRequired};const Bre=()=>{const{theme:n}=ir(),{scrollY:e}=gv(),t=Ja(e,[0,100],[0,-30]),i=Ja(e,[0,100],[0,40]);return $.jsxs($.Fragment,{children:[$.jsxs(Ht.div,{variants:yv(),children:[$.jsx(Ht.p,{style:{y:t,x:i},className:`${Ro.sectionSubText} ${n==="dark"?"text-gray-400":"text-gray-600"}`,children:"What I have done so far"}),$.jsx(Ht.h2,{style:{y:t,x:i},className:`text-4xl sm:text-5xl font-extrabold mb-2 bg-gradient-to-r bg-clip-text text-transparent 
              ${n==="dark"?"from-violet-400 via-fuchsia-500 to-indigo-400":"from-purple-600 via-pink-500 to-indigo-600"} animate-gradient`,children:"Work Experience."})]}),$.jsx(Ht.div,{variants:Eh("up","spring",.5,.75),className:"mt-20 flex flex-col",children:$.jsx(gN.VerticalTimeline,{layout:"2-columns",children:ore.map((r,s)=>$.jsx(yN,{experience:r,index:s},s))})})]})},Ire=hp(Bre,"Experience");var Lre=Object.defineProperty,Dre=Object.defineProperties,kre=Object.getOwnPropertyDescriptors,CB=Object.getOwnPropertySymbols,Fre=Object.prototype.hasOwnProperty,Ore=Object.prototype.propertyIsEnumerable,TB=(n,e,t)=>e in n?Lre(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,vf=(n,e)=>{for(var t in e||(e={}))Fre.call(e,t)&&TB(n,t,e[t]);if(CB)for(var t of CB(e))Ore.call(e,t)&&TB(n,t,e[t]);return n},xf=(n,e)=>Dre(n,kre(e)),Nre=class extends k.Component{constructor(n){super(n),this.ref=ui.createRef(),this.state={style:{}};const e={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings=Object.assign({},e,this.props.options),this.reverse=this.settings.reverse?-1:1,this.onMouseEnter=this.onMouseEnter.bind(this,this.props.onMouseEnter),this.onMouseMove=this.onMouseMove.bind(this,this.props.onMouseMove),this.onMouseLeave=this.onMouseLeave.bind(this,this.props.onMouseLeave)}componentDidMount(){this.element=this.ref.current,setTimeout(()=>{this.element.parentElement.querySelector(":hover")===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}onMouseEnter(n=()=>{},e){return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:xf(vf({},this.state.style),{willChange:"transform"})})),this.setTransition(),n(e)}reset(){window.requestAnimationFrame(()=>{this.setState(Object.assign({},this.state,{style:xf(vf({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})}))})}onMouseMove(n=()=>{},e){return e.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.update.bind(this,e)),n(e)}setTransition(){clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:xf(vf({},this.state.style),{transition:`${this.settings.speed}ms ${this.settings.easing}`})})),this.transitionTimeout=setTimeout(()=>{this.setState(Object.assign({},this.state,{style:xf(vf({},this.state.style),{transition:""})}))},this.settings.speed)}onMouseLeave(n=()=>{},e){return this.setTransition(),this.settings.reset&&this.reset(),n(e)}getValues(n){const e=(n.nativeEvent.clientX-this.left)/this.width,t=(n.nativeEvent.clientY-this.top)/this.height,i=Math.min(Math.max(e,0),1),r=Math.min(Math.max(t,0),1),s=(this.reverse*(this.settings.max/2-i*this.settings.max)).toFixed(2),o=(this.reverse*(r*this.settings.max-this.settings.max/2)).toFixed(2),a=i*100,l=r*100;return{tiltX:s,tiltY:o,percentageX:a,percentageY:l}}updateElementPosition(){const n=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=n.left,this.top=n.top}update(n){const e=this.getValues(n);this.setState(Object.assign({},this.state,{style:xf(vf({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(${this.settings.axis==="x"?0:e.tiltY}deg) rotateY(${this.settings.axis==="y"?0:e.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`})})),this.updateCall=null}render(){const n=Object.assign({},this.props.style,this.state.style);return $.jsx("div",{style:n,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}};const vN=({index:n,name:e,description:t,tags:i,image:r,source_code_link:s})=>{const{theme:o}=ir();return $.jsx(Ht.div,{variants:Eh("up","spring",n*.3,.75),whileHover:{scale:1.05,boxShadow:o==="dark"?"0 0 25px rgba(59,130,246,0.3)":"0 0 25px rgba(251,191,36,0.3)"},transition:{type:"spring",stiffness:200,damping:15},className:`rounded-2xl w-full sm:w-[360px] overflow-hidden ${o==="dark"?"bg-gradient-to-br from-[#1e293b] to-[#0f172a] text-white":"bg-gradient-to-br from-white to-gray-100 text-gray-900"}`,children:$.jsxs(Nre,{options:{max:20,scale:1,speed:400},className:"p-5 flex flex-col h-full",children:[$.jsxs("div",{className:"relative w-full h-[230px] overflow-hidden rounded-xl",children:[$.jsx("img",{src:r,alt:e,className:"w-full h-full object-cover rounded-xl transition-transform duration-500 hover:scale-110"}),$.jsx("div",{className:"absolute inset-0 flex justify-end items-start p-3",children:$.jsx("div",{onClick:()=>window.open(s,"_blank"),className:`
                    w-10 h-10 rounded-full flex justify-center items-center cursor-pointer 
                    transition-colors duration-300
                    ${o==="dark"?"bg-black/60 hover:bg-blue-500/80":"bg-black/70 hover:bg-amber-400/80"}
                `,children:$.jsx("img",{src:Fie,alt:"github",className:"w-1/2 h-1/2 object-contain"})})})]}),$.jsxs("div",{className:"mt-5 flex flex-col flex-1",children:[$.jsx("h3",{className:"font-bold text-[22px]",children:e}),$.jsx("p",{className:`mt-2 text-[14px] leading-relaxed ${o==="dark"?"text-gray-300":"text-gray-600"}`,children:t}),$.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:i.map(a=>$.jsxs("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${o==="dark"?"bg-white/10 text-gray-200":"bg-gray-200 text-gray-700"} ${a.color}`,children:["#",a.name]},a.name))})]})]})})};vN.propTypes={index:Fn.number.isRequired,name:Fn.string.isRequired,description:Fn.string.isRequired,tags:Fn.arrayOf(Fn.shape({name:Fn.string.isRequired,color:Fn.string.isRequired})).isRequired,image:Fn.string.isRequired,source_code_link:Fn.string.isRequired};const Ure=()=>{const{theme:n}=ir(),{scrollY:e}=gv(),t=Ja(e,[0,100],[0,-30]),i=Ja(e,[0,100],[0,40]);return $.jsxs($.Fragment,{children:[$.jsxs(Ht.div,{variants:yv(),children:[$.jsx(Ht.p,{style:{y:t,x:i},className:`${Ro.sectionSubText} ${n==="dark"?"text-gray-400":"text-gray-600"}`,children:"Some of my works"}),$.jsx(Ht.h2,{style:{y:t,x:i},className:`text-4xl sm:text-5xl font-extrabold mb-2 bg-gradient-to-r bg-clip-text text-transparent 
              ${n==="dark"?"from-violet-400 via-fuchsia-500 to-indigo-400":"from-purple-600 via-pink-500 to-indigo-600"} animate-gradient`,children:"Projects"})]}),$.jsx("div",{className:"w-full flex",children:$.jsx(Ht.p,{variants:Eh("up","",.1,1),className:`mt-3 text-[16px] max-w-3xl leading-[28px] ${n==="dark"?"text-gray-300":"text-gray-600"}`,children:"Heres a selection of projects that showcase my skills and experience across different technologies and frameworks. Each project links to its repository (and live version where available). They reflect my problem-solving ability, attention to detail, and design sense in building modern software solutions."})}),$.jsx("div",{className:"mt-16 grid gap-8 sm:grid-cols-2 lg:grid-cols-3",children:are.map((r,s)=>$.jsx(vN,{index:s,...r},`project-${s}`))})]})},zre=hp(Ure,"work"),kd={_origin:"https://api.emailjs.com"},Hre=(n,e="https://api.emailjs.com")=>{kd._userID=n,kd._origin=e},xN=(n,e,t)=>{if(!n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class RB{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const AN=(n,e,t={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new RB(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new RB(o))}),s.open("POST",kd._origin+n,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),Gre=(n,e,t,i)=>{const r=i||kd._userID;return xN(r,n,e),AN("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},Vre=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},Wre=(n,e,t,i)=>{const r=i||kd._userID,s=Vre(t);xN(r,n,e);const o=new FormData(s);return o.append("lib_version","3.12.1"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",r),AN("/api/v1.0/email/send-form",o)},jre={init:Hre,send:Gre,sendForm:Wre},Xre=()=>{const{theme:n}=ir(),e=k.useRef(),{scrollY:t}=gv(),i=Ja(t,[0,100],[0,-30]),r=Ja(t,[0,100],[0,40]),[s,o]=k.useState({name:"",email:"",message:""}),[a,l]=k.useState(!1),c=d=>{const{name:p,value:m}=d.target;o({...s,[p]:m})},u=d=>{d.preventDefault(),l(!0),jre.sendForm("service_rdz4vpe","template_e22e9qd",e.current,"E4RVxhSvXmaNImLgQ").then(()=>{l(!1),o({name:"",email:"",message:""}),e.current.reset(),ET.success("Message sent successfully!",{style:{background:n==="dark"?"#1f2937":"#fff",color:n==="dark"?"#fff":"#000",border:n==="dark"?"1px solid #3b82f6":"1px solid #f59e0b"},iconTheme:{primary:n==="dark"?"#3b82f6":"#f59e0b",secondary:"#fff"}})},p=>{console.log(p.text),l(!1),ET.error("Something went wrong. Please try again.",{style:{background:n==="dark"?"#1f2937":"#fff",color:n==="dark"?"#fff":"#000",border:"1px solid red"},iconTheme:{primary:"red",secondary:"#fff"}})})};return $.jsxs("div",{className:"xl:mt-12 xl:flex-row flex-col-reverse flex gap-10 overflow-hidden",children:[$.jsxs(Ht.div,{variants:iB("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[$.jsxs(Ht.div,{variants:yv(),children:[$.jsx(Ht.p,{style:{y:i,x:r},className:`${Ro.sectionSubText} ${n==="dark"?"text-gray-400":"text-gray-600"}`,children:"Get in touch"}),$.jsx(Ht.h2,{style:{y:i,x:r},className:`text-4xl sm:text-5xl font-extrabold mb-2 bg-gradient-to-r bg-clip-text text-transparent 
                      ${n==="dark"?"from-violet-400 via-fuchsia-500 to-indigo-400":"from-purple-600 via-pink-500 to-indigo-600"} animate-gradient`,children:"Contact."})]}),$.jsxs("form",{ref:e,className:"flex flex-col gap-8 mt-12",onSubmit:u,children:[$.jsx("input",{type:"hidden",name:"_subject",value:"Portfolio Contact"}),$.jsxs("label",{className:"flex flex-col",children:[$.jsx("span",{className:`font-medium mb-2 text-sm
              ${n==="dark"?"text-white":"text-gray-800"}`,children:"Name"}),$.jsx("input",{type:"text",name:"name",value:s.name,onChange:c,placeholder:"What's your name?",className:`py-4 px-6 rounded-lg outline-none transition-all duration-300
                ${n==="dark"?"bg-black/40 text-white placeholder-gray-400 border border-blue-500/30 focus:ring-2 focus:ring-blue-500":"bg-gray-100 text-black placeholder-gray-500 border border-amber-500/30 focus:ring-2 focus:ring-amber-500"}`})]}),$.jsxs("label",{className:"flex flex-col",children:[$.jsx("span",{className:`font-medium mb-2 text-sm ${n==="dark"?"text-white":"text-gray-800"}`,children:"Email"}),$.jsx("input",{type:"email",name:"email",value:s.email,onChange:c,placeholder:"What's your email?",className:`py-4 px-6 rounded-lg outline-none transition-all duration-300
                ${n==="dark"?"bg-black/40 text-white placeholder-gray-400 border border-blue-500/30 focus:ring-2 focus:ring-blue-500":"bg-gray-100 text-black placeholder-gray-500 border border-amber-500/30 focus:ring-2 focus:ring-amber-500"}`})]}),$.jsxs("label",{className:"flex flex-col",children:[$.jsx("span",{className:`font-medium mb-2 text-sm ${n==="dark"?"text-white":"text-gray-800"}`,children:"Message"}),$.jsx("textarea",{rows:"6",name:"message",value:s.message,onChange:c,placeholder:"What do you want to say?",className:`py-4 px-6 rounded-lg outline-none transition-all duration-300 resize-none
                ${n==="dark"?"bg-black/40 text-white placeholder-gray-400 border border-blue-500/30 focus:ring-2 focus:ring-blue-500":"bg-gray-100 text-black placeholder-gray-500 border border-amber-500/30 focus:ring-2 focus:ring-amber-500"}`})]}),$.jsx(Ht.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:`py-3 px-8 rounded-lg text-white font-semibold shadow-lg transition-all duration-300
            ${n==="dark"?"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 hover:ring-2 hover:ring-blue-400/50":"bg-gradient-to-r from-amber-400 to-orange-500 hover:from-amber-500 hover:to-orange-600 hover:ring-2 hover:ring-amber-400/50"}`,children:a?"Sending...":"Send"})]})]}),$.jsx(Ht.div,{variants:iB("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:$.jsx(eY,{})})]})},Jre=hp(Xre,"contact"),Yre=()=>{const{theme:n}=ir();return $.jsx(fG,{children:$.jsxs("div",{className:n==="dark"?"bg-gray-900 text-white":"bg-white text-gray-900",children:[$.jsxs("div",{className:"bg-hero-pattern bg-cover bg-center bg-no-repeat",children:[$.jsx(lre,{}),$.jsx(wie,{})]}),$.jsx(dre,{}),$.jsx(Ire,{}),$.jsx(mre,{}),$.jsx(zre,{}),$.jsx("div",{className:"relative z-0",children:$.jsx(Jre,{})}),$.jsx(r4,{position:"top-right",reverseOrder:!1})]})})};B_.createRoot(document.getElementById("root")).render($.jsx(ui.StrictMode,{children:$.jsx(jZ,{children:$.jsx(Yre,{})})}));
